(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[    183896,       4898]
NotebookOptionsPosition[    159670,       4400]
NotebookOutlinePosition[    162588,       4467]
CellTagsIndexPosition[    162501,       4462]
WindowTitle->ControlledGate
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["QUANTUM MOB/ Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "64192295-563b-4af4-80b4-a1c16c7c1f94"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "0be3bbd2-5a81-4b93-a18d-545fa37f5e6a"],
        Background->LightDarkSwitched[
          RGBColor[0.490196, 0.576471, 0.690196]],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "ff9c0ce2-b6a2-485f-893e-cde892384d99"]
         }],ExpressionUUID->"9b85e2ed-1f8e-496f-963d-a9fa9e989d1a"],
         StripOnInput->False],{
        StyleBox[
          "\"QuantumCircuit\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/QuantumCircuit"], 
         StyleBox["\"CNOT\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/CNOT"], 
         StyleBox["\"CZ\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/CZ"], 
         StyleBox[
          "\"ControlledPower\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/ControlledPower"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "c60044ed-3787-413c-9ee3-94739d99c17a"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "83c2bf19-29dd-48e5-bf2a-244050c545bc"]
         }],ExpressionUUID->"a14eef32-1dca-4f65-ac1c-0400194045b4"],
         StripOnInput->False],{
        "\"Q3: Symbolic Quantum Simulation\"" :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/guide/Q3"], 
         "\"Quantum Information Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/guide/QuantumInformationSystems"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "8e81a2b8-9470-4080-8c84-7967c8992f6f"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "645d55e5-bbdc-4c4f-9a1c-c91659447312"]
         }],ExpressionUUID->"774006ea-a95f-4149-a441-47e1b017efa6"],
         StripOnInput->False],{
        "\"Two-Qubit Gates\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/TwoQubitGates"], 
         "\"Quantum Computation: Overview\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuantumComputationOverview"], 
         "\"Multi-Control Unitary Gates\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/MultiControlUnitaryGates"], 
         "\"Quantum Information Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuantumInformationSystems"], 
         "\"Quick Quantum Computing with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuickQuantumComputingWithQ3"], 
         "\"Q3: Quick Start\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/Q3QuickStart"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "35d07673-f981-4ee2-aa06-d7c1ab23a91f"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "999c3624-91eb-489d-93b2-8fbca9665199"]
         }],ExpressionUUID->"4904166a-0ed8-4d9c-bb2b-81ee01f1d13d"],
         StripOnInput->False],{
        "\"QuantumMob/Q3/ref/ControlledGate\"" :> None, 
         "\"Copy Wolfram Documentation Center URL\"" :> 
         CopyToClipboard["QuantumMob/Q3/ref/ControlledGate"], Delimiter, 
         "\"Copy web URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{
               Cell[BoxData[
                 MakeBoxes[
                  Hyperlink[
                   "http://reference.wolfram.com/language/QuantumMob/Q3/ref/\
ControlledGate.html"], StandardForm]], "Input", TextClipboardType -> 
                 "PlainText"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], 
         "\"Go to web URL\"" :> 
         FrontEndExecute[{
           NotebookLocate[{
             URL[(If[TrueQ[False], 
                  "http://reference.wolfram.com/system-modeler/", 
                  "http://reference.wolfram.com/language/"] <> 
                "QuantumMob/Q3/ref/ControlledGate") <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "07d46cb4-7369-44b8-8c2e-646cad74e5b3"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "be55b088-9f5f-4916-9814-3d8aec3809f1"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"d7259be0-a24a-4a4a-b7c9-7ee5063453c5"],

Cell["QuantumMob`Q3`", "ContextNameCell",ExpressionUUID->"754078ca-e630-445e-aad3-93f5e249db45"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "ControlledGate", "ObjectName",ExpressionUUID->
      "3ee1e9c9-aadf-4818-b21d-3b95e42fad83"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"7dee7239-fced-4b09-a36e-2630d6e47fc5"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "8d2afe51-c2b5-46f2-ab81-ca98b92d1a31"]
    }],ExpressionUUID->"14fa4281-1bba-4af4-b3b5-2d035f6665f9"], 
    "\[SpanFromLeft]"}
  }]], "ObjectNameGrid",ExpressionUUID->"2a142057-0e36-44f4-9d59-\
96d0e936bf1e"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["2", "TR"]], ",", "\[Ellipsis]"}], "}"}], ",", 
        StyleBox["op", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "d908cca0-b8c4-4448-943d-9d2df958925b"],
     "\[LineSeparator]represents a multi-control multi-target unitary gate \
with control qubits ",
     Cell[BoxData[
      RowBox[{
       SubscriptBox[
        StyleBox["c", "TI"], 
        StyleBox["1", "TR"]], ",", 
       SubscriptBox[
        StyleBox["c", "TI"], 
        StyleBox["2", "TR"]], ",", "\[Ellipsis]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "c8cbc5be-8b58-4414-8d19-f7d6753d88a9"],
     " and unitary operator ",
     Cell[BoxData[
      StyleBox["op", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "0675d8a9-d3b2-41f3-b570-4aa04bfddbe3"],
     " acting on the target qubits."
    }],ExpressionUUID->"953d761d-abd9-47e9-aea5-be170db50781"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["c", "TI"], ",", 
        StyleBox["op", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "10ec6335-b6ad-40ff-b4c7-98eecd8169fa"],
     "\[LineSeparator]is equivalent to ",
     Cell[BoxData[
      RowBox[{"ControlledGate", "[", 
       RowBox[{
        RowBox[{"{", 
         StyleBox["c", "TI"], "}"}], ",", 
        StyleBox["op", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "f075ad7b-157b-4246-8461-bd2a634e6eda"],
     "."
    }],ExpressionUUID->"bcc8270a-1915-4ef6-b315-c6ba856298d0"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           SubscriptBox[
            StyleBox["c", "TI"], 
            StyleBox["1", "TR"]], "\[Rule]", 
           SubscriptBox[
            StyleBox["v", "TI"], 
            StyleBox["1", "TR"]]}], ",", 
          RowBox[{
           SubscriptBox[
            StyleBox["c", "TI"], 
            StyleBox["2", "TR"]], "\[Rule]", 
           SubscriptBox[
            StyleBox["v", "TI"], 
            StyleBox["2", "TR"]]}], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
        StyleBox["op", "TR"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "cc2a6ea9-ae9e-4d42-a3f2-dab8b9ad9889"],
     "\[LineSeparator]represents a variation of the controlled-unitary gate, \
where operator op operates when the control qubits ",
     Cell[BoxData[
      RowBox[{
       SubscriptBox[
        StyleBox["c", "TI"], 
        StyleBox["1", "TR"]], ",", 
       SubscriptBox[
        StyleBox["c", "TI"], 
        StyleBox["2", "TR"]], ",", 
       StyleBox["\[Ellipsis]", "TR"]}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "79171df4-a663-45e1-b596-d9e826fc59cb"],
     " take the logical values ",
     Cell[BoxData[
      RowBox[{
       SubscriptBox[
        StyleBox["v", "TI"], 
        StyleBox["1", "TR"]], ",", 
       SubscriptBox[
        StyleBox["v", "TI"], 
        StyleBox["2", "TR"]], ",", 
       StyleBox["\[Ellipsis]", "TR"]}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "54522f66-58dc-450a-857e-132eccef808e"],
     ", respectively."
    }],ExpressionUUID->"d007f29e-e387-416b-adf6-a4ba12e91ea8"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{
         StyleBox["c", "TI"], "\[Rule]", 
         StyleBox["v", "TI"]}], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "c99ca0f2-cd55-4914-8b66-365450d76f21"],
     "\[LineSeparator]is automatically converted to ",
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          StyleBox["c", "TI"], "\[Rule]", 
          StyleBox["v", "TI"]}], "}"}], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "77a6ba7c-e1f0-41b1-95dc-2551b5a0a3d2"],
     "."
    }],ExpressionUUID->"01e5f2a3-ed6a-4161-baa2-9a695cc5cde5"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           SubscriptBox[
            StyleBox["c", "TI"], 
            StyleBox["1", "TR"]], ",", 
           SubscriptBox[
            StyleBox["c", "TI"], 
            StyleBox["2", "TR"]], ",", 
           StyleBox["\[Ellipsis]", "TR"]}], "}"}], "\[Rule]", 
         StyleBox["v", "TI"]}], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "d25e3429-9633-45d8-ae4b-b9afb964d4c7"],
     "\[LineSeparator]is automatically converted to ",
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           SubscriptBox[
            StyleBox["c", "TI"], 
            StyleBox["1", "TR"]], "\[Rule]", 
           StyleBox["v", "TI"]}], ",", 
          RowBox[{
           SubscriptBox[
            StyleBox["c", "TI"], 
            StyleBox["2", "TR"]], "\[Rule]", 
           StyleBox["v", "TI"]}], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "3aa0946f-3f35-42c2-9fe2-d7a88e8c44ce"],
     "."
    }],ExpressionUUID->"7a3882bc-b24b-407e-af69-5b6e51a4bab0"]}
  }]], "Usage",ExpressionUUID->"1ad2a14e-bb38-4c1c-b68a-31cb33d4ff6e"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[CurrentValue[
         EvaluationCell[], "CellGroupOpen"] =!= Closed, 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{
      13.600000000000001`, {-0.1685058593749993, 13.768505859375}}]],
    ExpressionUUID->"fb99ac7f-b539-4c61-8be8-67069b3e5dc2"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"6ee3bc60-1696-4829-b42c-74d14ca9473d"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"0a17de49-3264-4e91-8e4b-7d72b7a360e5"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"53a6584d-30cc-46bc-954a-fcb346658c37"]], \
"NotesSection",
 ShowGroupOpener->"Thumbnail",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->1753919310,ExpressionUUID->"e51d6051-0009-44f3-9888-07928270afe0"],

Cell[TextData[{
 "If ",
 Cell[BoxData[
  StyleBox["op", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "781aa7c0-af81-4a44-8952-39102860fbd9"],
 " is an operator of the form ",
 Cell[BoxData[
  RowBox[{"T", "[", 
   RowBox[{
    StyleBox["j", "TI"], ",", "\[Ellipsis]", ",", 
    StyleBox["k", "TI"]}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "bb98559e-bd34-4993-af31-ecadffb1b61c"],
 ", it is regarded to act on qubit ",
 Cell[BoxData[
  RowBox[{"T", "[", 
   RowBox[{
    StyleBox["j", "TI"], ",", "\[Ellipsis]", ",", 
    TemplateBox[{
      Cell[
       TextData["$"]], "paclet:ref/$"},
     "RefLink",
     BaseStyle->{"InlineFormula"}]}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "f87e92b7-b78b-4444-a874-1b63efcd60d3"],
 "."
}], "Notes",
 CellID->1702748548,ExpressionUUID->"8142ac6a-facb-4ff1-8dd2-835c28acd109"],

Cell[TextData[{
 "Otherwise, ",
 Cell[BoxData[
  StyleBox["op", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "f58233a1-e3a2-4f70-863a-11a996149baf"],
 " acts on the qubits involved in ",
 Cell[BoxData[
  StyleBox["op", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "379b7de3-c353-4307-8d3a-2e2adb4ce1f0"],
 "."
}], "Notes",
 CellID->491054349,ExpressionUUID->"95437c41-9aa9-4ed2-a007-e041612f10d7"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Elaborate"]], "paclet:QuantumMob/Q3/ref/Elaborate", 
     "QuantumMob Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{"ControlledGate", "[", "\[Ellipsis]", "]"}], "]"}]], 
  "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "606728a3-9cc5-4e29-b2d0-5c1cb0fa32a9"],
 " expands ",
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["ControlledGate"]], "paclet:QuantumMob/Q3/ref/ControlledGate", 
     "QuantumMob Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", "\[Ellipsis]", "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "b5054322-9cca-4434-b6e2-f3a866701248"],
 " explicitly in terms of the Pauli operators."
}], "Notes",
 CellID->2019652723,ExpressionUUID->"b9d7b280-b1d8-4c2b-b73d-9f0425335385"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Matrix"]], "paclet:QuantumMob/Q3/ref/Matrix", 
     "QuantumMob Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{"ControlledGate", "[", "\[Ellipsis]", "]"}], "]"}]], 
  "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "b4293d40-2e24-4b2a-8d41-6a0edad16106"],
 " gives the matrix representation of ",
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["ControlledGate"]], "paclet:QuantumMob/Q3/ref/ControlledGate", 
     "QuantumMob Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", "\[Ellipsis]", "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "970e20f0-88fa-4ce8-9019-656882359bd2"],
 "."
}], "Notes",
 CellID->384437925,ExpressionUUID->"e2a69f20-1de0-45b2-a4f4-db4a227eba16"],

Cell[TextData[{
 "[EXPERIMENTAL] ",
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Unfold"]], "paclet:ref/Unfold"},
    "RefLink",
    BaseStyle->{"InlineFormula"}], "[", 
   RowBox[{"ControlledGate", "[", 
    StyleBox["\[Ellipsis]", "TR"], "]"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "bfabab96-5274-494d-8f89-b31163885509"],
 " decomposes the controlled-unitary gate as a product of single-qubit \
rotations and ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["CNOT"]], "paclet:QuantumMob/Q3/ref/CNOT", 
    "QuantumMob Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "27b0253d-92de-42d7-9494-4da9addf9527"],
 " gates."
}], "Notes",
 CellID->1895961038,ExpressionUUID->"e439c028-37e5-47c1-b1bf-dfc914e8a4e3"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.251494140625001, 9.348505859375}}]],
  ExpressionUUID->"81782ec1-df55-4414-bf35-e4283a020c2d"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"a3857630-18a8-446c-8dca-2da0aaa1cfce"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(10)", "ExampleCount",ExpressionUUID->
  "44f82199-40e9-4130-945a-4d94ab31e763"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->1761304448,ExpressionUUID->"5c904f6f-ba4f-4a86-8464-8bcc8a8d92fe"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<QuantumMob`Q3`\>\"", "]"}]], "Input", "ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->851865642,ExpressionUUID->"0e71d95c-3bea-4a09-a65d-519af410abc8"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.551318359375001, 9.048681640625}}]],
  ExpressionUUID->"d670f68f-5ad8-4a61-8d3e-4abaf2502a0c"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"d4d833f1-c96d-4135-afda-b10a963b3b4c"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(4)", "ExampleCount",ExpressionUUID->
  "dcd4e717-61e6-45f3-8fe4-5c12425733dc"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1329267288,ExpressionUUID->"4f51d5f5-bb35-4039-ac1e-cabf3c1a608c"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1403695601,ExpressionUUID->"03054efb-1166-4f62-a1d4-1333f49c5d7b"],

Cell["\<\
This is a controlled-U operator. Usually it remains unevaluated.\
\>", "ExampleText",
 CellID->493202586,ExpressionUUID->"3f90e8b5-3004-4d65-b954-d3303b519ec1"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"ControlledGate", "[", 
   RowBox[{
    RowBox[{"S", "[", "1", "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"2", ",", "1"}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1804103712,ExpressionUUID->"c78d302e-8851-47f7-a70b-1536ddac23be"],

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "1"},
        "RowWithSeparators"]],
      $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}], "}"}], ",", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 1]]}], "]"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->780170084,ExpressionUUID->"1ed7967e-5d09-4df9-a341-f076002fd652"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "[", "op", "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1699357571,ExpressionUUID->"ff4f7857-00ce-493b-b072-26dc4c29b1a2"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "2"], "-", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1]]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 1]]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1930936853,ExpressionUUID->"6115fcd8-a2d8-4160-b531-3d1324fe9ee6"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Matrix", "[", "op", "]"}], "//", "MatrixForm"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->388513540,ExpressionUUID->"c9547971-e32d-4b91-b22f-54e447d1673e"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", "1", "0", "0"},
     {"0", "0", "0", "1"},
     {"0", "0", "1", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {4, 4}, 0, {
     1, {{0, 1, 2, 4, 6}, {{1}, {2}, {4}, {3}, {3}, {4}}}, {1, 1, 1, 0, 1, 
      0}}]]]]], "Output",
 CellLabel->"Out[4]//MatrixForm=",
 CellID->482814907,ExpressionUUID->"de5f4ca7-18d2-467c-9921-b74528fa3aa3"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "[", "op", "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->310774973,ExpressionUUID->"d770e49c-272e-472c-8b18-e008989706c3"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "2"], "-", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1]]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 1]]}]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->1476923583,ExpressionUUID->"5ff265d8-1ffc-4c2a-aca8-887d1ebb82ea"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"op", "**", 
   RowBox[{"S", "[", 
    RowBox[{"2", ",", "3"}], "]"}]}], "//", "Elaborate"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->227378000,ExpressionUUID->"33fee14c-5bec-471e-b922-05ebe3ee658b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "2"], " ", "\[ImaginaryI]", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 2]]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3]]]}], "-", 
  RowBox[{
   FractionBox["1", "2"], " ", "\[ImaginaryI]", " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 2]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}]}]], "Output",
 CellLabel->"Out[6]=",
 CellID->2038667455,ExpressionUUID->"bc1d0d75-2544-46ca-9198-9dffce399245"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "c7680b00-1e28-479c-9dff-7a710146edcb"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1117862758,ExpressionUUID->"519797b1-02c9-4f94-8ebb-1b8e14bb38da"],

Cell["\<\
In the quantum circuit model, a controlled-U gate is depicted by the \
following quantum circuit element.\
\>", "ExampleText",
 CellID->66695600,ExpressionUUID->"107b18d1-121c-4b94-8fa7-8c3d14ae16a1"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"QuantumCircuit", "[", "op", "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->287461810,ExpressionUUID->"f5e83c12-ca60-4706-a636-6d87dbd0a80a"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}}], {
     LineBox[{{1, -1}, {1, -2}}], DiskBox[{1, -1}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox["\<\"X\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-2.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, 
    $CellContext`S[2, 1]]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->782328300,ExpressionUUID->"a4e38de9-230d-46aa-b251-ba084e067a66"]
}, Open  ]],

Cell[TextData[{
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["CNOT"]], "paclet:QuantumMob/Q3/ref/CNOT", 
    "QuantumMob Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "a41c8dcb-777c-48d0-aca4-1d6dd971ac08"],
 " is a special case of controlled-U gate."
}], "ExampleText",
 CellID->376653752,ExpressionUUID->"01024663-6773-4ba9-b58e-7fe5ee7aae01"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"x1", "=", 
  RowBox[{
   RowBox[{"Elaborate", "@", 
    RowBox[{"ControlledGate", "[", 
     RowBox[{
      RowBox[{"S", "[", "1", "]"}], ",", 
      RowBox[{"S", "[", 
       RowBox[{"2", ",", "1"}], "]"}]}], "]"}]}], "//", "Simplify"}]}], "\[IndentingNewLine]", 
 RowBox[{"x2", "=", 
  RowBox[{
   RowBox[{"Elaborate", "@", 
    RowBox[{"CNOT", "[", 
     RowBox[{
      RowBox[{"S", "[", "1", "]"}], ",", 
      RowBox[{"S", "[", "2", "]"}]}], "]"}]}], "//", "Simplify"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"x1", "-", "x2"}], "//", "Simplify"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1100337461,ExpressionUUID->"b4780800-6f12-4d5f-954c-c95497cc0a5f"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "2"], " ", 
  RowBox[{"(", 
   RowBox[{"1", "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 1]]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[1, 3]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[2, 1]]}], ")"}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1696851166,ExpressionUUID->"cfd46f8f-76fa-4d3c-846b-06fdf92bc4ba"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "2"], " ", 
  RowBox[{"(", 
   RowBox[{"1", "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 1]]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[1, 3]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[2, 1]]}], ")"}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->394714802,ExpressionUUID->"93a1e303-cdc7-49e5-831c-a14509a8b8e7"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[2]=",
 CellID->394691631,ExpressionUUID->"747d306f-d3c2-49e0-9678-4f5b2dbfe69f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"x1", "=", 
  RowBox[{
   RowBox[{"Elaborate", "@", 
    RowBox[{"ControlledGate", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"S", "[", "1", "]"}], ",", 
        RowBox[{"S", "[", "2", "]"}]}], "}"}], ",", 
      RowBox[{"S", "[", 
       RowBox[{"3", ",", "1"}], "]"}]}], "]"}]}], "//", "Simplify"}]}], "\[IndentingNewLine]", 
 RowBox[{"x2", "=", 
  RowBox[{
   RowBox[{"Elaborate", "[", 
    RowBox[{"Toffoli", "[", 
     RowBox[{
      RowBox[{"S", "[", "1", "]"}], ",", 
      RowBox[{"S", "[", "2", "]"}], ",", 
      RowBox[{"S", "[", "3", "]"}]}], "]"}], "]"}], "//", "Simplify"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"x1", "-", "x2"}], "//", "Simplify"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1391490451,ExpressionUUID->"f866c530-fb9c-4ece-8708-e0f4ed0bfdcf"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "4"], " ", 
  RowBox[{"(", 
   RowBox[{"3", "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 3]]], "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[3, 1]]], "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[2, 3], 
      $CellContext`S[3, 1]]], "+", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 3], 
      $CellContext`S[3, 1]]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[1, 3]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[2, 3]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[3, 1]]}], ")"}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->5256634,ExpressionUUID->"c1abf9b2-bac7-4024-8d47-b346dc3a7079"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "4"], " ", 
  RowBox[{"(", 
   RowBox[{"3", "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 3]]], "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[3, 1]]], "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[2, 3], 
      $CellContext`S[3, 1]]], "+", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 3], 
      $CellContext`S[3, 1]]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[1, 3]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[2, 3]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[3, 1]]}], ")"}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->301418111,ExpressionUUID->"e9904c03-66eb-4325-81ed-fc0154c7384e"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->20268304,ExpressionUUID->"24616620-0bea-4538-a8a8-4d2014bc1f59"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "08cbb772-83a7-48e6-a472-055cf40a575c"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1893551625,ExpressionUUID->"cf9dfaf4-71ad-4af9-9c65-219ffa206ae2"],

Cell["\<\
Here, the controlled-unitary gate has the unitary operator acting on multiple \
qubits.\
\>", "ExampleText",
 CellID->1781572424,ExpressionUUID->"8be5257d-d2db-4047-aa6f-bc04aaf41512"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"U", "=", 
  RowBox[{
   RowBox[{"Rotation", "[", 
    RowBox[{"\[Phi]", ",", 
     RowBox[{"S", "[", 
      RowBox[{"2", ",", "1"}], "]"}]}], "]"}], "**", 
   RowBox[{"Rotation", "[", 
    RowBox[{"\[Theta]", ",", 
     RowBox[{"S", "[", 
      RowBox[{"3", ",", "2"}], "]"}]}], "]"}]}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->907561411,ExpressionUUID->"aec26078-281d-4f2d-a361-ad9212ccabbb"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       TagBox[
        RowBox[{"Exp", 
          RowBox[{"(", 
            RowBox[{
              RowBox[{"(", 
                RowBox[{"0.`", "\[VeryThinSpace]", "+", 
                  RowBox[{"0.2256710094531388`", " ", "\[ImaginaryI]"}]}], 
                ")"}], " ", 
              InterpretationBox[
               TemplateBox[{"S", 
                 TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
                 TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
                "Subsuperscript"], 
               $CellContext`S[2, 1]]}], ")"}]}], DisplayForm], 
       QuantumMob`Q3`Rotation[-0.4513420189062776, {1, 0, 0}, 
        $CellContext`S[2, QuantumMob`Q3`$]]], 
      InterpretationBox[
       TagBox[
        RowBox[{"Exp", 
          RowBox[{"(", 
            RowBox[{
              RowBox[{"-", 
                FractionBox["1", "2"]}], " ", "\[ImaginaryI]", " ", 
              "\[Theta]", " ", 
              InterpretationBox[
               TemplateBox[{"S", 
                 TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
                 TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
                "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
               $CellContext`S[3, 2]]}], ")"}]}], DisplayForm], 
       QuantumMob`Q3`Rotation[$CellContext`\[Theta], {0, 1, 0}, 
        $CellContext`S[3, QuantumMob`Q3`$]]]}, "RowWithSeparators"]},
   "RowDefault"],
  QuantumMob`Q3`Multiply[
   QuantumMob`Q3`Rotation[-0.4513420189062776, {1, 0, 0}, 
    $CellContext`S[2, QuantumMob`Q3`$]], 
   QuantumMob`Q3`Rotation[$CellContext`\[Theta], {0, 1, 0}, 
    $CellContext`S[3, QuantumMob`Q3`$]]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->1346969102,ExpressionUUID->"69646ee5-7419-4a18-b19e-9a58ab84669a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledGate", "[", 
    RowBox[{
     RowBox[{"S", "[", "1", "]"}], ",", "U", ",", 
     RowBox[{"\"\<Label\>\"", "->", "\"\<U\>\""}]}], "]"}], "]"}]}]], "Input",\

 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1556697824,ExpressionUUID->"26e04d34-d3cf-48c3-a1e5-17671ada62f0"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}}], DiskBox[{1, -1}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.5}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-3.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, 
    QuantumMob`Q3`Multiply[
     QuantumMob`Q3`Rotation[-0.4513420189062776, {1, 0, 0}, 
      $CellContext`S[2, QuantumMob`Q3`$]], 
     QuantumMob`Q3`Rotation[$CellContext`\[Theta], {0, 1, 0}, 
      $CellContext`S[3, QuantumMob`Q3`$]]], "Label" -> "U"]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1884574287,ExpressionUUID->"6b420e6a-52b9-49a5-8d4e-a92091ead539"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "[", "qc", "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1323430295,ExpressionUUID->"ee31df13-5369-4d5a-a72b-e31d215c6846"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "2"], "+", 
  RowBox[{"0.48732209057491`", " ", 
   RowBox[{"Cos", "[", 
    FractionBox["\[Theta]", "2"], "]"}]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.11188020395806939`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   RowBox[{"Cos", "[", 
    FractionBox["\[Theta]", "2"], "]"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "2"], "-", 
     RowBox[{"0.48732209057491`", " ", 
      RowBox[{"Cos", "[", 
       FractionBox["\[Theta]", "2"], "]"}]}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.11188020395806939`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   RowBox[{"Cos", "[", 
    FractionBox["\[Theta]", "2"], "]"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 1]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.48732209057491`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[3, 2]]], " ", 
   RowBox[{"Sin", "[", 
    FractionBox["\[Theta]", "2"], "]"}]}], "+", 
  RowBox[{"0.11188020395806939`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[2, 1], 
     $CellContext`S[3, 2]]], " ", 
   RowBox[{"Sin", "[", 
    FractionBox["\[Theta]", "2"], "]"}]}], "-", 
  RowBox[{"0.11188020395806939`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1], 
     $CellContext`S[3, 2]]], " ", 
   RowBox[{"Sin", "[", 
    FractionBox["\[Theta]", "2"], "]"}]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.48732209057491`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[3, 2]], " ", 
   RowBox[{"Sin", "[", 
    FractionBox["\[Theta]", "2"], "]"}]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->803732006,ExpressionUUID->"68e9461b-b216-456a-a2f9-5eb049d8cdb5"]
}, Open  ]],

Cell["It is more common to have multiple controlled qubits.", "ExampleText",
 CellID->796325451,ExpressionUUID->"9c6b617a-67e4-4abf-bac6-a06d670db411"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledGate", "[", 
    RowBox[{
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}]}], ",", 
     RowBox[{"Rotation", "[", 
      RowBox[{"\[Phi]", ",", 
       RowBox[{"S", "[", 
        RowBox[{"3", ",", "2"}], "]"}]}], "]"}]}], "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1688856124,ExpressionUUID->"a7db1abd-1660-47d6-83d5-4800098b557f"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}}], DiskBox[{1, -1}, 0.09], 
     DiskBox[{1, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-3.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
    QuantumMob`Q3`Rotation[-0.4513420189062776, {0, 1, 0}, 
     $CellContext`S[3, QuantumMob`Q3`$]]]]]], "Output",
 CellLabel->"Out[4]=",
 CellID->651685212,ExpressionUUID->"6ba594fc-a28c-42fb-81f7-6f72bfe48685"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "@", "qc"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->97902928,ExpressionUUID->"1febbf7b-d1db-4121-ad65-50bf44a55ae1"],

Cell[BoxData[
 RowBox[{"0.993661045287455`", "\[VeryThinSpace]", "-", 
  RowBox[{"0.006338954712545003`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.05594010197903469`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[3, 2]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.05594010197903469`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[2, 3], 
     $CellContext`S[3, 2]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.05594010197903469`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3], 
     $CellContext`S[3, 2]]]}], "+", 
  RowBox[{"0.006338954712545003`", " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "+", 
  RowBox[{"0.006338954712545003`", " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.05594010197903469`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[3, 2]]}]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->706758384,ExpressionUUID->"5d488596-d5a6-4aa4-99f8-f0f1bc694e4f"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "19a8ad5a-bedb-4fac-b5dc-bde34dfaae83"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1616593910,ExpressionUUID->"740b2371-3f9a-4df8-8cd3-8a60fad43d7e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledGate", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2"}], "}"}]}], "->", 
      RowBox[{"{", 
       RowBox[{"1", ",", "0"}], "}"}]}], ",", 
     RowBox[{"Rotation", "[", 
      RowBox[{"\[Phi]", ",", 
       RowBox[{"S", "[", 
        RowBox[{"3", ",", "2"}], "]"}]}], "]"}]}], "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->423687378,ExpressionUUID->"8692439b-281d-480e-99b6-c233f3745b9e"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}}], DiskBox[{1, -1}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], DiskBox[{1, -2}, 0.09]}, 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-3.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 0}, 
    QuantumMob`Q3`Rotation[-0.4513420189062776, {0, 1, 0}, 
     $CellContext`S[3, QuantumMob`Q3`$]]]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->756108331,ExpressionUUID->"c5a88a25-b8c8-49d9-b96c-a9f6f609eff3"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"2", ",", "1"}], "]"}], ",", 
    RowBox[{"ControlledGate", "[", 
     RowBox[{
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2"}], "}"}]}], ",", 
      RowBox[{"Rotation", "[", 
       RowBox[{"\[Phi]", ",", 
        RowBox[{"S", "[", 
         RowBox[{"3", ",", "2"}], "]"}]}], "]"}]}], "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"2", ",", "1"}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->446009393,ExpressionUUID->"dba9e297-6cf7-40a0-b9d0-e3a9744b70ba"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}}], {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox["\<\"X\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -3}}], 
     DiskBox[{2, -1}, 0.09], DiskBox[{2, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -3.4}, {2.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {2., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"X\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {3., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->190.79999999999998`,
   PlotRange->{{0, 4}, {-3.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   $CellContext`S[2, 1], 
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
    QuantumMob`Q3`Rotation[-0.4513420189062776, {0, 1, 0}, 
     $CellContext`S[3, QuantumMob`Q3`$]]], 
   $CellContext`S[2, 1]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1251979818,ExpressionUUID->"7b207c03-272a-4353-bd5c-1267876179ea"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"new", "-", "qc"}], "//", "Elaborate"}], "//", 
  "Simplify"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->2072193516,ExpressionUUID->"f4d3427d-cadd-46d2-b6a8-9d460844f4a6"],

Cell[BoxData[
 RowBox[{"0.`", "\[VeryThinSpace]", "+", 
  RowBox[{"0.`", " ", "\[ImaginaryI]"}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->980027820,ExpressionUUID->"77354e86-02ee-42cf-b599-9292fa29f916"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]]]],ExpressionUUID->
  "70d8cc46-cf18-49d6-8624-f8ebab309071"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"83c9e251-713a-4c7f-9edd-8504b29eea24"],
 "Scope",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(4)", "ExampleCount",ExpressionUUID->
  "530cb05b-4992-486c-98a2-a2c6fcf4e193"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1293636265,ExpressionUUID->"2507b761-ed9c-46a7-a6b5-1b195d2cb290"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "ExampleSubsection", "0"}, Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]]]],ExpressionUUID->
  "5fdce926-fcfa-49e5-8bae-fca2386dcb21"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"22c47648-f977-4d77-bcb6-b0501aabef56"],
 "Unfold",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(4)", "ExampleCount",ExpressionUUID->
  "495637d3-8c4f-4743-aa9e-55adbf2bc768"]
}], "ExampleSubsection", "ExampleSubsection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1965812958,ExpressionUUID->"ec9c5147-2681-46ff-8a0b-2e2f1944089d"],

Cell[BoxData["Unfold"], "Output",
 CellLabel->"Out[1]=",
 CellID->127998250,ExpressionUUID->"fd03dbcd-f0f1-4b5c-9f5b-ee81090101df"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S", ",", "T"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1751976307,ExpressionUUID->"68933563-c7ab-4f11-b9f3-599df02d937e"],

Cell["\<\
Consider a Pauli string; i.e., the tensor product of single-qubit Pauli \
operators.\
\>", "ExampleText",
 CellID->458298458,ExpressionUUID->"a14e895b-69bd-4658-a9db-1b3d969d8781"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{"T", "[", 
    RowBox[{"1", ",", "2"}], "]"}], "**", 
   RowBox[{"T", "[", 
    RowBox[{"2", ",", "2"}], "]"}], "**", 
   RowBox[{"T", "[", 
    RowBox[{"3", ",", "1"}], "]"}]}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1005552493,ExpressionUUID->"03358c60-3997-42ef-b5be-95f836c37e7d"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       TemplateBox[{"T", 
         TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
         TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
        "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
       $CellContext`T[1, 2]], 
      InterpretationBox[
       TemplateBox[{"T", 
         TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
         TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
        "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
       $CellContext`T[2, 2]], 
      InterpretationBox[
       TemplateBox[{"T", 
         TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
         TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
        "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
       $CellContext`T[3, 1]]}, "RowWithSeparators"]},
   "RowDefault"],
  QuantumMob`Q3`Multiply[
   $CellContext`T[1, 2], 
   $CellContext`T[2, 2], 
   $CellContext`T[3, 1]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->1635457103,ExpressionUUID->"d1af5a46-4eb0-4143-aff7-07b24db177d5"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ctr", "=", 
  RowBox[{"ControlledGate", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], ",", "op", ",", 
    RowBox[{"\"\<Label\>\"", "->", "\"\<U\>\""}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1447119510,ExpressionUUID->"6db7432e-4d7f-40c8-b344-715458cf9a74"],

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      InterpretationBox[
       SubscriptBox["S", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}], ",", 
     RowBox[{
      InterpretationBox[
       SubscriptBox["S", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`S[2, QuantumMob`Q3`$]], "\[Rule]", "1"}]}], "}"}], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"T", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`T[1, 2]], 
        InterpretationBox[
         TemplateBox[{"T", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`T[2, 2]], 
        InterpretationBox[
         TemplateBox[{"T", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`T[3, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`T[1, 2], 
     $CellContext`T[2, 2], 
     $CellContext`T[3, 1]]], ",", 
   RowBox[{"\<\"Label\"\>", "\[Rule]", "\<\"U\"\>"}]}], "]"}]], "Output",
 CellLabel->"Out[4]=",
 CellID->1484332168,ExpressionUUID->"9f2f223f-fed6-4fc2-9b3a-3648c53752a4"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", "ctr", "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1905745843,ExpressionUUID->"1d838d02-1e1a-4e84-9668-e9de8ad81b47"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
     0, -4}, {2, -4}}, {{0, -5}, {2, -5}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}, {1, -5}}], 
     DiskBox[{1, -1}, 0.09], DiskBox[{1, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -5.4}, {1.4, -2.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-5.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
    QuantumMob`Q3`Multiply[
     $CellContext`T[1, 2], 
     $CellContext`T[2, 2], 
     $CellContext`T[3, 1]], "Label" -> "U"]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->2000704024,ExpressionUUID->"2ffbc57c-1226-4a05-8a3a-fb6e997b513b"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Unfold", "@", "ctr"}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->722936882,ExpressionUUID->"ab2a54b0-2fae-407b-acf2-8e43bd134bec"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}, {{
     0, -4}, {4, -4}}, {{0, -5}, {4, -5}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}}], DiskBox[{1, -1}, 0.09], 
     DiskBox[{1, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
      StyleBox["\<\"Y\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {1., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -4}}], 
     DiskBox[{2, -1}, 0.09], DiskBox[{2, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, InsetBox[
      StyleBox["\<\"Y\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {2., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{3, -1}, {3, -2}, {3, -5}}], 
     DiskBox[{3, -1}, 0.09], DiskBox[{3, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -5.4}, {3.4, -4.6}]}, InsetBox[
      StyleBox["\<\"X\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {3., -5.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->190.79999999999998`,
   PlotRange->{{0, 4}, {-5.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
    $CellContext`T[1, 2], {}], 
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
    $CellContext`T[2, 2], {}], 
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
    $CellContext`T[3, 1], {}]]]], "Output",
 CellLabel->"Out[6]=",
 CellID->533586642,ExpressionUUID->"6a856739-3098-402d-a2b4-1be387148164"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "e5fc20fe-b15c-452f-ad87-f6afd530de1b"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->2123194462,ExpressionUUID->"505da9d5-e403-4138-b066-88eb1c0fb214"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Expand"]], "paclet:ref/Expand"},
    "RefLink",
    BaseStyle->{"InlineFormula"}], "[", 
   RowBox[{
    TemplateBox[{
      Cell[
       TextData["ControlledGate"]], "paclet:QuantumMob/Q3/ref/ControlledGate",
       "QuantumMob Package Symbol"},
     "PackageLink",
     BaseStyle->"InlineFormula"], "[", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        SubscriptBox[
         StyleBox["c", "TI"], 
         StyleBox["1", "TR"]], ",", 
        SubscriptBox[
         StyleBox["c", "TI"], 
         StyleBox["2", "TR"]], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        SubscriptBox[
         StyleBox["v", "TI"], 
         StyleBox["1", "TR"]], ",", 
        SubscriptBox[
         StyleBox["v", "TI"], 
         StyleBox["2", "TR"]], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "}"}]}], ",", " ", 
     StyleBox["op", "TI"]}], "]"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "0bbf2b11-fe28-493f-97ac-1e530f6ed1c4"],
 " decomposes the controlled-unitary gate into a product of the CNOT and \
single-qubit rotations. Note that this ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["Expand"]], "paclet:ref/Expand"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "fe64c4f0-94d5-4525-94d1-63fc01314152"],
 " feature of ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["ControlledGate"]], "paclet:QuantumMob/Q3/ref/ControlledGate", 
    "QuantumMob Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "8f07885e-1693-40c4-a975-06c783dc1047"],
 " is still experimental (as of Q3 v2.11.2)."
}], "ExampleText",
 CellID->227879916,ExpressionUUID->"ac6be522-fa97-4610-8fcf-0a88c94e916b"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S", ",", "T"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1801264145,ExpressionUUID->"04cd66be-ac16-4e31-87f3-5c9a5c11b28b"],

Cell["Consider a single-qubit unitary gate:", "ExampleText",
 CellID->1033495556,ExpressionUUID->"2cda983f-9e36-46c9-82aa-ab0353cde692"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{"Exp", "[", 
    RowBox[{
     RowBox[{"-", "I"}], "*", 
     RowBox[{"Pi", "/", "4"}]}], "]"}], "*", 
   RowBox[{"EulerRotation", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Pi", "/", "3"}], ",", 
       RowBox[{"Pi", "/", "2"}], ",", 
       RowBox[{"Pi", "/", "6"}]}], "}"}], ",", "T"}], "]"}]}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1096870451,ExpressionUUID->"414353ce-200f-4438-8145-9e9d91e966c7"],

Cell[BoxData[
 RowBox[{
  SuperscriptBox["\[ExponentialE]", 
   RowBox[{"-", 
    FractionBox[
     RowBox[{"\[ImaginaryI]", " ", "\[Pi]"}], "4"]}]], " ", 
  RowBox[{"EulerRotation", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      FractionBox["\[Pi]", "3"], ",", 
      FractionBox["\[Pi]", "2"], ",", 
      FractionBox["\[Pi]", "6"]}], "}"}], ",", 
    InterpretationBox["T",
     $CellContext`T[QuantumMob`Q3`$]]}], "]"}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->654678359,ExpressionUUID->"a9148d68-f6fc-474b-8130-93149ab02e68"]
}, Open  ]],

Cell["Get the matrix representation of the above gate:", "ExampleText",
 CellID->1955102746,ExpressionUUID->"56db4894-8e73-4ab7-8523-21a407369eda"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{
    RowBox[{"Matrix", "[", "op", "]"}], "//", "SimplifyThrough"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->2059470547,ExpressionUUID->"2e4d9013-edae-4349-9589-8d4ddc572ca6"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"-", 
       FractionBox["\[ImaginaryI]", 
        SqrtBox["2"]]}], 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{"\[ImaginaryI]", "+", 
          SqrtBox["3"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]},
     {
      FractionBox[
       RowBox[{
        RowBox[{"-", "\[ImaginaryI]"}], "+", 
        SqrtBox["3"]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]], 
      FractionBox["1", 
       SqrtBox["2"]]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {2, 2}, 0, {
     1, {{0, 2, 4}, {{1}, {2}, {2}, {1}}}, {
      Complex[0, -1] 2^Rational[-1, 2], Complex[0, Rational[1, 2]] 
       2^Rational[-1, 2] (Complex[0, 1] + 3^Rational[1, 2]), 2^
       Rational[-1, 2], Rational[1, 2] 
       2^Rational[-1, 2] (Complex[0, -1] + 3^Rational[1, 2])}}]]]]], "Output",\

 CellLabel->"Out[3]//MatrixForm=",
 CellID->1226843977,ExpressionUUID->"2ae7e3af-efcc-4b8e-ad83-533360ef6bd4"]
}, Open  ]],

Cell["\<\
Now, consider a controlled-unitary gate with the above gate acting on the \
target qubit:\
\>", "ExampleText",
 CellID->1600123813,ExpressionUUID->"61ca08ab-55c7-4f07-ac9f-f8613712f7af"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"cu", "=", 
   RowBox[{"ControlledGate", "[", 
    RowBox[{
     RowBox[{"S", "[", "1", "]"}], ",", "op", ",", 
     RowBox[{"\"\<Label\>\"", "->", "\"\<U\>\""}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", "cu", "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->8884588,ExpressionUUID->"61052633-149c-45b9-9e3b-9e23a45e04d3"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}}], {
     LineBox[{{1, -1}, {1, -2}}], DiskBox[{1, -1}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-2.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, 
    E^(Complex[0, 
        Rational[-1, 4]] Pi) 
    QuantumMob`Q3`EulerRotation[{
      Rational[1, 3] Pi, Rational[1, 2] Pi, Rational[1, 6] Pi}, 
      $CellContext`T[QuantumMob`Q3`$]], "Label" -> "U"]]]], "Output",
 CellLabel->"Out[4]=",
 CellID->2090953321,ExpressionUUID->"22514ff7-3cd3-4f87-9bdc-b8b1c76418a8"]
}, Open  ]],

Cell["\<\
Decompose the controlled-unitary gate above into a product of single-qubit \
rotations and CNOT gate:\
\>", "ExampleText",
 CellID->777355164,ExpressionUUID->"20052806-d1f8-47ac-bde2-956461c0bcb2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"Unfold", "[", "cu", "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1865987295,ExpressionUUID->"b646ee07-76a1-48a5-b8f7-3ded77b8e208"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {7, -1}}, {{0, -2}, {7, -2}}}], {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox["\<\"C\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], {CircleBox[{2, -2}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -2}, {2.2666666666666666`, -2}}, {{
         2, -2.2666666666666666`}, {2, -1.7333333333333334`}}}]}}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"B\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {3., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}}], 
     DiskBox[{4, -1}, 0.09], {CircleBox[{4, -2}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -2}, {4.266666666666667, -2}}, {{
         4, -2.2666666666666666`}, {4, -1.7333333333333334`}}}]}}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -2.4}, {5.4, -1.6}]}, InsetBox[
      StyleBox["\<\"A\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {5., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -1.4}, {6.4, -0.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", 
         RowBox[{"-", 
           FractionBox["\[Pi]", "4"]}]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {6., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->298.8,
   PlotRange->{{0, 7}, {-2.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`Rotation[-
    ArcTan[((-2^
           Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) - 
          2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])) + 
        2^Rational[-1, 2] ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])))^(-1) ((-2^
          Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
           Rational[1, 4] 3^Rational[1, 2]) + 
         2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])) + 
       2^Rational[-1, 2] (
         2^Rational[-1, 2] (Rational[-1, 4] + 
           Rational[1, 4] 3^Rational[1, 2]) + 
         2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])))], {0, 0, 1}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "C"], 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`T[QuantumMob`Q3`$]}], 
   QuantumMob`Q3`EulerRotation[{
    0, -ArcSin[((Rational[-1, 4] + Rational[1, 4] 3^Rational[1, 2])^2 + (
          Rational[1, 4] + Rational[1, 4] 3^Rational[1, 2])^2)^
       Rational[1, 2]], Rational[-1, 4] Pi}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "B"], 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`T[QuantumMob`Q3`$]}], 
   QuantumMob`Q3`EulerRotation[{
    Rational[1, 4] Pi + 
     ArcTan[((-2^
            Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
             Rational[1, 4] 3^Rational[1, 2]) - 
           2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])) + 
         2^Rational[-1, 2] ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
             Rational[1, 4] 3^Rational[1, 2]) + 
           2^Rational[-1, 2] (Rational[1, 4] + 
             Rational[1, 4] 3^Rational[1, 2])))^(-1) ((-2^
           Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])) + 
        2^Rational[-1, 2] (
          2^Rational[-1, 2] (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])))], 
     ArcSin[((Rational[-1, 4] + Rational[1, 4] 3^Rational[1, 2])^2 + (
         Rational[1, 4] + Rational[1, 4] 3^Rational[1, 2])^2)^Rational[1, 2]],
      0}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "A"], 
   QuantumMob`Q3`Phase[Rational[-1, 4] Pi, 
    $CellContext`S[1, 3]]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->1874986980,ExpressionUUID->"4d26312c-7ba6-4510-9588-00a7fba4d0b9"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"Elaborate", "[", "cu", "]"}], "-", 
    RowBox[{"Elaborate", "[", "new", "]"}]}], "//", "FullGarner"}], 
  "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->298820583,ExpressionUUID->"f4ba52c0-7a03-46e0-8c74-5eda969623e9"],

Cell[BoxData["3.062262`"], "EchoTiming",
 CellID->1083284888,ExpressionUUID->"aca0930f-a513-41e0-afef-ce5a00d3c89b"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[6]=",
 CellID->402753350,ExpressionUUID->"a5dea84c-ff66-444f-aa21-a7091d752129"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "a5b3bacc-fd7a-45c3-b033-e63e76d3d186"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1705608657,ExpressionUUID->"167fcf06-214b-433a-9f4d-f95a2b7d9889"],

Cell[TextData[{
 "The ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["Unfold"]], "paclet:ref/Unfold"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "0c6201a2-99d3-4825-922a-d75941f413b7"],
 " feature of ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["ControlledGate"]], "paclet:QuantumMob/Q3/ref/ControlledGate", 
    "QuantumMob Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "06fea8c5-3349-4fdf-9ea7-bdd035661098"],
 " is supposed to be used inside ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["QuantumCircuit"]], "paclet:QuantumMob/Q3/ref/QuantumCircuit", 
    "QuantumMob Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "4474014d-6c38-49e2-85f3-5b10d0e894f5"],
 ". If you want to analyse or check the decomposition, the following example \
may be useful:"
}], "ExampleText",
 CellID->181077262,ExpressionUUID->"fc36d0f2-850d-4bec-9fac-35cdb697983e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"cmp", "=", 
  RowBox[{"Unfold", "[", "cu", "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1563352008,ExpressionUUID->"86af27ac-b118-4e49-a8f6-680eee9a75ad"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {7, -1}}, {{0, -2}, {7, -2}}}], {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox["\<\"C\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], {CircleBox[{2, -2}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -2}, {2.2666666666666666`, -2}}, {{
         2, -2.2666666666666666`}, {2, -1.7333333333333334`}}}]}}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"B\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {3., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}}], 
     DiskBox[{4, -1}, 0.09], {CircleBox[{4, -2}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -2}, {4.266666666666667, -2}}, {{
         4, -2.2666666666666666`}, {4, -1.7333333333333334`}}}]}}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -2.4}, {5.4, -1.6}]}, InsetBox[
      StyleBox["\<\"A\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {5., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -1.4}, {6.4, -0.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", 
         RowBox[{"-", 
           FractionBox["\[Pi]", "4"]}]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {6., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->298.8,
   PlotRange->{{0, 7}, {-2.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`Rotation[-
    ArcTan[((-2^
           Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) - 
          2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])) + 
        2^Rational[-1, 2] ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])))^(-1) ((-2^
          Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
           Rational[1, 4] 3^Rational[1, 2]) + 
         2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])) + 
       2^Rational[-1, 2] (
         2^Rational[-1, 2] (Rational[-1, 4] + 
           Rational[1, 4] 3^Rational[1, 2]) + 
         2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])))], {0, 0, 1}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "C"], 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`T[QuantumMob`Q3`$]}], 
   QuantumMob`Q3`EulerRotation[{
    0, -ArcSin[((Rational[-1, 4] + Rational[1, 4] 3^Rational[1, 2])^2 + (
          Rational[1, 4] + Rational[1, 4] 3^Rational[1, 2])^2)^
       Rational[1, 2]], Rational[-1, 4] Pi}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "B"], 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`T[QuantumMob`Q3`$]}], 
   QuantumMob`Q3`EulerRotation[{
    Rational[1, 4] Pi + 
     ArcTan[((-2^
            Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
             Rational[1, 4] 3^Rational[1, 2]) - 
           2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])) + 
         2^Rational[-1, 2] ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
             Rational[1, 4] 3^Rational[1, 2]) + 
           2^Rational[-1, 2] (Rational[1, 4] + 
             Rational[1, 4] 3^Rational[1, 2])))^(-1) ((-2^
           Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])) + 
        2^Rational[-1, 2] (
          2^Rational[-1, 2] (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])))], 
     ArcSin[((Rational[-1, 4] + Rational[1, 4] 3^Rational[1, 2])^2 + (
         Rational[1, 4] + Rational[1, 4] 3^Rational[1, 2])^2)^Rational[1, 2]],
      0}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "A"], 
   QuantumMob`Q3`Phase[Rational[-1, 4] Pi, 
    $CellContext`S[1, 3]]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->1223159902,ExpressionUUID->"f0b5dcb0-13a5-4184-9bb6-552bbd4a2d7a"]
}, Open  ]],

Cell["You can remove the labels:", "ExampleText",
 CellID->1652630181,ExpressionUUID->"b27f152a-06ae-4239-bc89-22647bd2c51f"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"more", "=", 
   RowBox[{"QuantumElements", "[", "cmp", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"more", "//", "N"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->63469277,ExpressionUUID->"a0f07e1a-c50e-40bb-98ed-d61275c19d47"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TagBox[
     RowBox[{"Exp", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"0.`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.1308996938995747`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{"0.`", "\[VeryThinSpace]", "+", 
          RowBox[{"1.`", " ", 
           InterpretationBox[
            TemplateBox[{"T", 
              
              TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"Z\""}, 
               "RowWithSeparators"]},
             "Superscript"],
            $CellContext`T[3]]}]}], ")"}]}], ")"}]}],
     DisplayForm],
    QuantumMob`Q3`Rotation[-0.2617993877991494, {0., 0., 1.}, 
     $CellContext`T[QuantumMob`Q3`$]]], ",", 
   RowBox[{"CNOT", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       InterpretationBox[
        SubscriptBox["S", 
         TemplateBox[{",", "\",\"", "1"},
          "RowWithSeparators"]],
        $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}], "}"}], ",", 
     RowBox[{"{", 
      InterpretationBox["T",
       $CellContext`T[QuantumMob`Q3`$]], "}"}]}], "]"}], ",", 
   RowBox[{"EulerRotation", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0.`", ",", 
       RowBox[{"-", "0.7853981633974484`"}], ",", 
       RowBox[{"-", "0.7853981633974483`"}]}], "}"}], ",", 
     InterpretationBox["T",
      $CellContext`T[QuantumMob`Q3`$]]}], "]"}], ",", 
   RowBox[{"CNOT", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       InterpretationBox[
        SubscriptBox["S", 
         TemplateBox[{",", "\",\"", "1"},
          "RowWithSeparators"]],
        $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}], "}"}], ",", 
     RowBox[{"{", 
      InterpretationBox["T",
       $CellContext`T[QuantumMob`Q3`$]], "}"}]}], "]"}], ",", 
   RowBox[{"EulerRotation", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"1.0471975511965976`", ",", "0.7853981633974484`", ",", "0.`"}],
       "}"}], ",", 
     InterpretationBox["T",
      $CellContext`T[QuantumMob`Q3`$]]}], "]"}], ",", 
   InterpretationBox[
    TagBox[
     FormBox[
      TagBox[
       RowBox[{
        FormBox[
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
           "Subsuperscript"],
          $CellContext`S[1, 3]],
         TraditionalForm], "\[InvisibleApplication]", 
        RowBox[{"(", 
         RowBox[{"-", "0.7853981633974483`"}], ")"}]}],
       HoldForm],
      TraditionalForm],
     TraditionalForm,
     Editable->True],
    QuantumMob`Q3`Phase[-0.7853981633974483, 
     $CellContext`S[1, 3]]]}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->605206458,ExpressionUUID->"b369526b-a456-40f3-8a1c-6a001f3513a3"]
}, Open  ]],

Cell[TextData[{
 "You can directly multiply the components to check the equivalence. Here, \
notice ",
 StyleBox["Reverse[cmp]", "Input"],
 ":"
}], "ExampleText",
 CellID->1753917898,ExpressionUUID->"46fd75fe-da63-45f6-9c01-94bd91212265"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"Apply", "[", 
      RowBox[{"Multiply", ",", 
       RowBox[{"Reverse", "@", "cmp"}]}], "]"}], "-", "cu"}], "//", 
    "Elaborate"}], "//", "FullGarner"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1043909238,ExpressionUUID->"eedd0db2-6a30-4184-b0d6-ed2c25116d6c"],

Cell[BoxData["0.981172`"], "EchoTiming",
 CellID->997000311,ExpressionUUID->"1b7714ff-9eff-4f00-979b-0296e8d5c50e"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->1916813083,ExpressionUUID->"9e63841b-b1b2-4748-b215-d0fda44c1602"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "b15f0281-cf43-452b-bda7-d4b133a40b65"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1600539001,ExpressionUUID->"353c53f8-6cd2-47f1-a503-8a7b257497c0"],

Cell[TextData[{
 "The ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["Unfold"]], "paclet:ref/Unfold"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "24f07563-411c-48c6-a585-4025bbd94ee2"],
 " feature also applies to multi-control unitary gates. For example, consider \
the above unitary gate controlled by two qubits ",
 StyleBox["S[0,$]", "Input"],
 " and ",
 StyleBox["S[1,$]", "Input"],
 ":"
}], "ExampleText",
 CellID->595717937,ExpressionUUID->"4ae9eba7-ef4f-4397-9229-be08d80a97de"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ccu", "=", 
  RowBox[{"ControlledGate", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"0", ",", "1"}], "}"}]}], ",", "op", ",", 
    RowBox[{"\"\<Label\>\"", "->", "\"\<U\>\""}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1811053528,ExpressionUUID->"e759f523-2738-47a0-b415-abb3283b5842"],

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      InterpretationBox[
       SubscriptBox["S", 
        TemplateBox[{",", "\",\"", "0"},
         "RowWithSeparators"]],
       $CellContext`S[0, QuantumMob`Q3`$]], "\[Rule]", "1"}], ",", 
     RowBox[{
      InterpretationBox[
       SubscriptBox["S", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}]}], "}"}], ",", 
   RowBox[{
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", "\[Pi]"}], "4"]}]], " ", 
    RowBox[{"EulerRotation", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        FractionBox["\[Pi]", "3"], ",", 
        FractionBox["\[Pi]", "2"], ",", 
        FractionBox["\[Pi]", "6"]}], "}"}], ",", 
      InterpretationBox["T",
       $CellContext`T[QuantumMob`Q3`$]]}], "]"}]}], ",", 
   RowBox[{"\<\"Label\"\>", "\[Rule]", "\<\"U\"\>"}]}], "]"}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1570984905,ExpressionUUID->"d92fd4c1-2c83-487c-b80a-935d1f534a2a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qcc", "=", 
  RowBox[{"QuantumCircuit", "[", "ccu", "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1793861229,ExpressionUUID->"cb58cb67-10fc-4819-8d2e-f1f487dcc06d"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}}], DiskBox[{1, -1}, 0.09], 
     DiskBox[{1, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-3.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[0, QuantumMob`Q3`$] -> 
     1, $CellContext`S[1, QuantumMob`Q3`$] -> 1}, E^(Complex[0, 
        Rational[-1, 4]] Pi) 
    QuantumMob`Q3`EulerRotation[{
      Rational[1, 3] Pi, Rational[1, 2] Pi, Rational[1, 6] Pi}, 
      $CellContext`T[QuantumMob`Q3`$]], "Label" -> "U"]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1831951961,ExpressionUUID->"c6d35a9f-9611-47d6-9f6e-20733a14e951"]
}, Open  ]],

Cell[TextData[{
 "Decompose the quantum circuit above into a product of the multi-controlled \
NOT gate  and single-qubit rotations (see also the ",
 ButtonBox["Generalization & Extensions",
  BaseStyle->"Link",
  ButtonData->"paclet:QuantumMob/Q3/ref/ControlledGate#1020263627"],
 " section below):"
}], "ExampleText",
 CellID->1051097161,ExpressionUUID->"847ee447-0804-452e-b04b-a33bfbedd26a"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Unfold", "[", "ccu", "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1765521323,ExpressionUUID->"3397dfc0-ea5a-407d-809e-835966a7af50"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {7, -1}}, {{0, -2}, {7, -2}}, {{0, -3}, {7, -3}}}], {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
      StyleBox["\<\"C\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {1., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -3}}], 
     DiskBox[{2, -1}, 0.09], 
     DiskBox[{2, -2}, 0.09], {CircleBox[{2, -3}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -3}, {2.2666666666666666`, -3}}, {{
         2, -3.2666666666666666`}, {2, -2.7333333333333334`}}}]}}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -3.4}, {3.4, -2.6}]}, InsetBox[
      StyleBox["\<\"B\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {3., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}, {4, -3}}], 
     DiskBox[{4, -1}, 0.09], 
     DiskBox[{4, -2}, 0.09], {CircleBox[{4, -3}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -3}, {4.266666666666667, -3}}, {{
         4, -3.2666666666666666`}, {4, -2.7333333333333334`}}}]}}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox["\<\"A\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {5., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -1}, {6, -2}}], 
     DiskBox[{6, -1}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -2.4}, {6.4, -1.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", 
         RowBox[{"-", 
           FractionBox["\[Pi]", "4"]}]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {6., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->298.8,
   PlotRange->{{0, 7}, {-3.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`Rotation[-
    ArcTan[((-2^
           Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) - 
          2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])) + 
        2^Rational[-1, 2] ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])))^(-1) ((-2^
          Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
           Rational[1, 4] 3^Rational[1, 2]) + 
         2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])) + 
       2^Rational[-1, 2] (
         2^Rational[-1, 2] (Rational[-1, 4] + 
           Rational[1, 4] 3^Rational[1, 2]) + 
         2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])))], {0, 0, 1}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "C"], 
   QuantumMob`Q3`CNOT[{$CellContext`S[0, QuantumMob`Q3`$] -> 
     1, $CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`T[QuantumMob`Q3`$]}], 
   QuantumMob`Q3`EulerRotation[{
    0, -ArcSin[((Rational[-1, 4] + Rational[1, 4] 3^Rational[1, 2])^2 + (
          Rational[1, 4] + Rational[1, 4] 3^Rational[1, 2])^2)^
       Rational[1, 2]], Rational[-1, 4] Pi}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "B"], 
   QuantumMob`Q3`CNOT[{$CellContext`S[0, QuantumMob`Q3`$] -> 
     1, $CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`T[QuantumMob`Q3`$]}], 
   QuantumMob`Q3`EulerRotation[{
    Rational[1, 4] Pi + 
     ArcTan[((-2^
            Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
             Rational[1, 4] 3^Rational[1, 2]) - 
           2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])) + 
         2^Rational[-1, 2] ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
             Rational[1, 4] 3^Rational[1, 2]) + 
           2^Rational[-1, 2] (Rational[1, 4] + 
             Rational[1, 4] 3^Rational[1, 2])))^(-1) ((-2^
           Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])) + 
        2^Rational[-1, 2] (
          2^Rational[-1, 2] (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])))], 
     ArcSin[((Rational[-1, 4] + Rational[1, 4] 3^Rational[1, 2])^2 + (
         Rational[1, 4] + Rational[1, 4] 3^Rational[1, 2])^2)^Rational[1, 2]],
      0}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "A"], 
   QuantumMob`Q3`ControlledGate[{$CellContext`S[0, QuantumMob`Q3`$] -> 1}, 
    QuantumMob`Q3`Phase[Rational[-1, 4] Pi, 
     $CellContext`S[1, 3]]]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->485927215,ExpressionUUID->"d929a8be-fc19-4ba4-b548-2a149e697c3a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"qcc", "-", "new"}], "//", "Elaborate"}], "//", "FullGarner"}], 
  "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1192347325,ExpressionUUID->"82981889-dc44-4121-ba48-795ac3c32d0e"],

Cell[BoxData["14.53492`"], "EchoTiming",
 CellID->854468408,ExpressionUUID->"bbe32dad-c6d7-48d9-93b2-14bc1f617849"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[4]=",
 CellID->827385767,ExpressionUUID->"57a4be23-5e65-4a09-bd1d-b06b9f8aece0"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "0"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "2"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]]]],ExpressionUUID->
  "f06bcdb3-cabf-4ae2-9e75-a5219b2a3327"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"36622534-0d2c-45ae-9504-012ade5525ae"],
 "Generalizations & Extensions",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount",ExpressionUUID->
  "aca56d56-216a-4104-a445-0fc0867f1ce9"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1020263627,ExpressionUUID->"2b6c4f34-4ca3-4995-a07e-bef107000cf7"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->54597739,ExpressionUUID->"a23f83ca-b1d4-4830-a159-8c8614c8c32f"],

Cell["\<\
When the unitary operator is a complex number of unit amplitude, then the \
controlled-U gate is equivalent to the phase gate on the controlled qubit:\
\>", "ExampleText",
 CellID->1658935743,ExpressionUUID->"222d4026-378a-4521-abfa-97390067d3b2"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Let", "[", 
  RowBox[{"Real", ",", "\[Phi]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"z", "=", 
  RowBox[{"Exp", "[", 
   RowBox[{"I", " ", "\[Phi]"}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->450269680,ExpressionUUID->"ec07eb39-f250-4aa5-8cac-ce89a70031ed"],

Cell[BoxData[
 SuperscriptBox["\[ExponentialE]", 
  RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1401153192,ExpressionUUID->"2d5d8ab4-79aa-4bb0-9af3-f440126e18ad"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"S", "[", "1", "]"}], ",", "z"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->113446564,ExpressionUUID->"8cbefba7-b9e2-4943-a269-8093da807150"],

Cell[BoxData[
 InterpretationBox[
  TagBox[
   FormBox[
    TagBox[
     RowBox[{
      FormBox[
       InterpretationBox[
        TemplateBox[{"S", 
          TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
         "Subsuperscript"],
        $CellContext`S[1, 3]],
       TraditionalForm], "\[InvisibleApplication]", 
      RowBox[{"(", 
       RowBox[{"arg", "(", 
        SuperscriptBox["\[ExponentialE]", 
         RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], ")"}], ")"}]}],
     HoldForm],
    TraditionalForm],
   TraditionalForm,
   Editable->True],
  QuantumMob`Q3`Phase[
   Arg[E^(Complex[0, 1] $CellContext`\[Phi])], 
   $CellContext`S[1, 3]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->756121647,ExpressionUUID->"214505cc-960a-4940-b522-3e1a99208c20"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"ControlledGate", "[", 
   RowBox[{
    RowBox[{"S", "[", "1", "]"}], ",", "z"}], "]"}], "/.", 
  RowBox[{"{", 
   RowBox[{"\[Phi]", "\[Rule]", 
    RowBox[{"Pi", "/", "3"}]}], "}"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1884776724,ExpressionUUID->"a2837568-864f-4789-8d77-968ed9170fcf"],

Cell[BoxData[
 InterpretationBox[
  TagBox[
   FormBox[
    TagBox[
     RowBox[{
      FormBox[
       InterpretationBox[
        TemplateBox[{"S", 
          TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
         "Subsuperscript"],
        $CellContext`S[1, 3]],
       TraditionalForm], "\[InvisibleApplication]", 
      RowBox[{"(", 
       FractionBox["\[Pi]", "3"], ")"}]}],
     HoldForm],
    TraditionalForm],
   TraditionalForm,
   Editable->True],
  QuantumMob`Q3`Phase[Rational[1, 3] Pi, 
   $CellContext`S[1, 3]]]], "Output",
 CellLabel->"Out[4]=",
 CellID->42368583,ExpressionUUID->"4c81b5fc-5cf7-466e-a89a-4cf01fa1b473"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledGate", "[", 
    RowBox[{
     RowBox[{"S", "[", "1", "]"}], ",", 
     RowBox[{
      RowBox[{"S", "[", 
       RowBox[{"2", ",", "0"}], "]"}], " ", 
      RowBox[{"Exp", "[", 
       RowBox[{"I", " ", "\[Phi]"}], "]"}]}], ",", 
     RowBox[{"\"\<Label\>\"", "\[Rule]", 
      RowBox[{"Exp", "[", 
       RowBox[{"I", " ", "\[Phi]"}], "]"}]}]}], "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1389124015,ExpressionUUID->"1acdc009-3213-4211-823c-608106bf1698"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}}], {
     LineBox[{{1, -1}, {1, -2}}], DiskBox[{1, -1}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox[
       SuperscriptBox["\[ExponentialE]", 
        RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-2.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, 
    E^(Complex[0, 1] $CellContext`\[Phi]) $CellContext`S[2, 0], "Label" -> 
    E^(Complex[0, 1] $CellContext`\[Phi])]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->1971343166,ExpressionUUID->"974f1a6c-7a4f-4772-9165-d3fb31356f22"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc1", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"ControlledGate", "[", 
     RowBox[{
      RowBox[{"S", "[", "1", "]"}], ",", " ", 
      RowBox[{"Exp", "[", 
       RowBox[{"I", " ", "\[Phi]"}], "]"}], ",", 
      RowBox[{"\"\<Label\>\"", "\[Rule]", 
       RowBox[{"Exp", "[", 
        RowBox[{"I", " ", "\[Phi]"}], "]"}]}]}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"\"\<Visible\>\"", "\[Rule]", 
     RowBox[{"S", "[", "2", "]"}]}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->125637926,ExpressionUUID->"49f30619-c9a9-4353-b03e-2c319d0e42e3"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}}], {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox[
       SuperscriptBox["\[ExponentialE]", 
        RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-2.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`Phase[
    Arg[E^(Complex[0, 1] $CellContext`\[Phi])], 
    $CellContext`S[1, 3], "Label" -> E^(Complex[0, 1] $CellContext`\[Phi])], 
   "Visible" -> $CellContext`S[2]]]], "Output",
 CellLabel->"Out[6]=",
 CellID->1162173736,ExpressionUUID->"c8549a04-cdbd-491f-97e7-ba50c6db6fbf"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Elaborate", "[", 
   RowBox[{"qc", "-", "qc1"}], "]"}], "//", "FullSimplify"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[7]:=",
 CellID->1909614846,ExpressionUUID->"06c8536a-58d2-4747-af4c-e0e7e1fa089b"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[7]=",
 CellID->1549838250,ExpressionUUID->"6bf77b49-e3fb-495b-a929-3e1329e8321d"]
}, Open  ]],

Cell["\<\
When the number is not of unit magnitude, it gives a warning message:\
\>", "ExampleText",
 CellID->511713125,ExpressionUUID->"0ab13d9a-9f5c-4d2b-b33e-4bfd1690e350"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"S", "[", "1", "]"}], ",", 
   RowBox[{"1", "+", "I"}]}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[8]:=",
 CellID->375479679,ExpressionUUID->"3c43cf5e-68d4-4058-85ee-8b7acc1551ed"],

Cell[BoxData[
 TemplateBox[{
  "ControlledGate", "unitary", 
   "\"The operator \\!\\(\\*RowBox[{\\\"1\\\", \\\"+\\\", \\\"\[ImaginaryI]\\\
\"}]\\) is not unitary.\"", 2, 69, 28, 17297984436475954584, "Local", 
   "QuantumMob`Q3`ControlledGate"},
  "MessageTemplate2",
  BaseStyle->"MSG"]], "Message",
 CellLabel->"During evaluation of In[8]:=",
 CellID->979473987,ExpressionUUID->"f0d43662-b1b5-4475-9abb-205092e760b8"],

Cell[BoxData[
 InterpretationBox[
  TagBox[
   FormBox[
    TagBox[
     RowBox[{
      FormBox[
       InterpretationBox[
        TemplateBox[{"S", 
          TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
         "Subsuperscript"],
        $CellContext`S[1, 3]],
       TraditionalForm], "\[InvisibleApplication]", 
      RowBox[{"(", 
       FractionBox["\[Pi]", "4"], ")"}]}],
     HoldForm],
    TraditionalForm],
   TraditionalForm,
   Editable->True],
  QuantumMob`Q3`Phase[Rational[1, 4] Pi, 
   $CellContext`S[1, 3]]]], "Output",
 CellLabel->"Out[8]=",
 CellID->1557145254,ExpressionUUID->"bbc5394f-f1f5-45b6-b96c-510a4ad2ca8f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "899b549d-a87b-4a6b-89ab-7fb26452fb3a"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->174573991,ExpressionUUID->"68f9ad89-bde7-406e-a11b-ad4a738f24ed"],

Cell[TextData[{
 "When there are more than one control qubits, then the controlled-U gate \
induces a relative phase shift on the state ",
 Cell[BoxData[
  TemplateBox[{
    RowBox[{"11", "\[Ellipsis]1"}]},
   "Ket"]],ExpressionUUID->"6d696aca-a70a-475c-89b5-386a2d4ff306"],
 ":"
}], "ExampleText",
 CellID->1484041902,ExpressionUUID->"8186cb91-5e25-4427-96d6-55eb14651c0d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"ControlledGate", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], ",", 
    RowBox[{"Exp", "[", 
     RowBox[{"I", " ", 
      RowBox[{"\[Pi]", "/", "4"}]}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1674411155,ExpressionUUID->"0248c363-5162-44b1-ae88-48eebe8c9425"],

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "1"},
        "RowWithSeparators"]],
      $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}], "}"}], ",", 
   InterpretationBox[
    TagBox[
     FormBox[
      TagBox[
       RowBox[{
        FormBox[
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
           "Subsuperscript"],
          $CellContext`S[2, 3]],
         TraditionalForm], "\[InvisibleApplication]", 
        RowBox[{"(", 
         FractionBox["\[Pi]", "4"], ")"}]}],
       HoldForm],
      TraditionalForm],
     TraditionalForm,
     Editable->True],
    QuantumMob`Q3`Phase[Rational[1, 4] Pi, 
     $CellContext`S[2, 3]]]}], "]"}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1586000921,ExpressionUUID->"485546ed-d528-4df2-af33-d14f564a2778"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "@", "op"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1750426850,ExpressionUUID->"82e8dd15-9626-4b56-8f5f-bad9b19c208d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "4"], " ", 
   RowBox[{"(", 
    RowBox[{"3", "+", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"1", "/", "4"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "1"}], "+", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"1", "/", "4"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3]]]}], "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"1", "/", "4"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"1", "/", "4"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->460261667,ExpressionUUID->"4c3ab9d9-c07d-474b-9bbe-543aedb21103"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Matrix", "[", "op", "]"}], "//", "Simplify"}], "//", 
  "MatrixForm"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->295000539,ExpressionUUID->"02706758-be0c-49fe-bad5-f01632238202"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", "1", "0", "0"},
     {"0", "0", "1", "0"},
     {"0", "0", "0", 
      FractionBox[
       RowBox[{"1", "+", "\[ImaginaryI]"}], 
       SqrtBox["2"]]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {4, 4}, 0, {
     1, {{0, 1, 2, 3, 4}, {{1}, {2}, {3}, {4}}}, {
      1, 1, 1, Complex[1, 1] 2^Rational[-1, 2]}}]]]]], "Output",
 CellLabel->"Out[3]//MatrixForm=",
 CellID->1748716918,ExpressionUUID->"373cdf15-8f83-4b6d-8605-d285574f2674"]
}, Open  ]],

Cell["\<\
This expression is equivalent to the above one, but does not expand:\
\>", "ExampleText",
 CellID->2142135012,ExpressionUUID->"207065cf-2b86-49a2-8cfb-35909f6108f8"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"ControlledGate", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], ",", 
    RowBox[{
     RowBox[{"Exp", "[", 
      RowBox[{"I", " ", 
       RowBox[{"\[Pi]", "/", "4"}]}], "]"}], " ", 
     RowBox[{"S", "[", 
      RowBox[{"3", ",", "0"}], "]"}]}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1434563406,ExpressionUUID->"f3ad3c35-8bf3-4334-aff3-a746a3f97b25"],

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      InterpretationBox[
       SubscriptBox["S", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}], ",", 
     RowBox[{
      InterpretationBox[
       SubscriptBox["S", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`S[2, QuantumMob`Q3`$]], "\[Rule]", "1"}]}], "}"}], ",", 
   RowBox[{
    SuperscriptBox["\[ExponentialE]", 
     FractionBox[
      RowBox[{"\[ImaginaryI]", " ", "\[Pi]"}], "4"]], " ", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "0"}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[3, 0]]}]}], "]"}]], "Output",
 CellLabel->"Out[4]=",
 CellID->217033675,ExpressionUUID->"24bf8202-d5a1-4d64-a3b7-dae3051efd6f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Elaborate", "[", "op", "]"}], "-", 
   RowBox[{"Elaborate", "[", "new", "]"}]}], "//", "Simplify"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1544994010,ExpressionUUID->"8e1ff2c5-8bdc-4123-83bf-c81861c8e9e0"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[5]=",
 CellID->977449893,ExpressionUUID->"a3ad1061-704e-4ef0-ab14-e7f282a511f7"]
}, Open  ]],

Cell["\<\
The equivalence can also be examined in quantum circuit model. The \
controlled-unitary gate with the unitary gate given by the global phase shift \
is represented by the following quantum circuit model:\
\>", "ExampleText",
 CellID->382850454,ExpressionUUID->"df4428bc-bb58-4447-b374-45e26c191fef"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledGate", "[", 
    RowBox[{
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", 
     RowBox[{
      RowBox[{"S", "[", 
       RowBox[{"4", ",", "0"}], "]"}], 
      RowBox[{"Exp", "[", 
       RowBox[{"I", " ", "\[Phi]"}], "]"}]}], ",", 
     RowBox[{"\"\<Label\>\"", "\[Rule]", 
      RowBox[{"Exp", "[", 
       RowBox[{"I", " ", "\[Phi]"}], "]"}]}]}], "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->1698297027,ExpressionUUID->"da63b44f-2f68-4357-9704-204c4fe26f27"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
     0, -4}, {2, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     DiskBox[{1, -1}, 0.09], DiskBox[{1, -2}, 0.09], DiskBox[{1, -3}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       SuperscriptBox["\[ExponentialE]", 
        RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 
     1, $CellContext`S[3, QuantumMob`Q3`$] -> 1}, 
    E^(Complex[0, 1] $CellContext`\[Phi]) $CellContext`S[4, 0], "Label" -> 
    E^(Complex[0, 1] $CellContext`\[Phi])]]]], "Output",
 CellLabel->"Out[6]=",
 CellID->1402986240,ExpressionUUID->"fee07717-2fc5-4e1f-afae-db0a0dd52821"]
}, Open  ]],

Cell["\<\
It is equivalent to the following three quantum circuit models involving \
(relative) phase-shift gate, and leaving the forth qubit intact:\
\>", "ExampleText",
 CellID->42562061,ExpressionUUID->"875e9aa4-cd4b-4c02-b792-fd5864173a99"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"qc1", "=", 
   RowBox[{"QuantumCircuit", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ControlledGate", "[", 
      RowBox[{
       RowBox[{"S", "@", 
        RowBox[{"{", 
         RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", 
       RowBox[{"Phase", "[", 
        RowBox[{"\[Phi]", ",", 
         RowBox[{"S", "[", 
          RowBox[{"1", ",", "3"}], "]"}]}], "]"}]}], "]"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Visible\>\"", "\[Rule]", 
      RowBox[{"S", "[", "4", "]"}]}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"qc2", "=", 
   RowBox[{"QuantumCircuit", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ControlledGate", "[", 
      RowBox[{
       RowBox[{"S", "@", 
        RowBox[{"{", 
         RowBox[{"1", ",", "3"}], "}"}]}], ",", 
       RowBox[{"Phase", "[", 
        RowBox[{"\[Phi]", ",", 
         RowBox[{"S", "[", 
          RowBox[{"2", ",", "3"}], "]"}]}], "]"}]}], "]"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Visible\>\"", "\[Rule]", 
      RowBox[{"S", "[", "4", "]"}]}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"qc3", "=", 
   RowBox[{"QuantumCircuit", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ControlledGate", "[", 
      RowBox[{
       RowBox[{"S", "@", 
        RowBox[{"{", 
         RowBox[{"1", ",", "2"}], "}"}]}], ",", 
       RowBox[{"Phase", "[", 
        RowBox[{"\[Phi]", ",", 
         RowBox[{"S", "[", 
          RowBox[{"3", ",", "3"}], "]"}]}], "]"}]}], "]"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Visible\>\"", "\[Rule]", 
      RowBox[{"S", "[", "4", "]"}]}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"GraphicsRow", "@", 
  RowBox[{"{", 
   RowBox[{"qc1", ",", "qc2", ",", "qc3"}], "}"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[7]:=",
 CellID->385898355,ExpressionUUID->"7aeecaa6-d31f-4e19-b106-7c0e0781a64f"],

Cell[BoxData[
 GraphicsBox[{{}, {InsetBox[
     FormBox[
      FormBox[
       InterpretationBox[
        GraphicsBox[{
          {Dashing[{Small, Small}], LineBox[{}]}, 
          LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {
           2, -3}}, {{0, -4}, {2, -4}}}], {
           LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -1}}], 
           DiskBox[{1, -1}, 0.09], DiskBox[{1, -2}, 0.09], 
           DiskBox[{1, -3}, 0.09], 
           {LightDarkSwitched[
             GrayLevel[1]], EdgeForm[Opacity[1]], 
            RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
            StyleBox[
             TemplateBox[{"\"Z\"", "\[Phi]"},
              "Superscript"],
             StripOnInput->False,
             FontSize->Scaled[0.2],
             FontWeight->"Light",
             FontSlant->Italic], {1., -1.}, NCache[
            ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
             ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}},
         ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
         ImageSize->118.8,
         PlotRange->{{0, 2}, {-4.5, -0.5}},
         PlotRangePadding->Scaled[0.025]],
        QuantumMob`Q3`QuantumCircuit[
         QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
           1, $CellContext`S[2, QuantumMob`Q3`$] -> 
           1, $CellContext`S[3, QuantumMob`Q3`$] -> 1}, 
          QuantumMob`Q3`Phase[$CellContext`\[Phi], 
           $CellContext`S[1, 3]]], "Visible" -> $CellContext`S[4]]],
       TraditionalForm],
      TraditionalForm], {63.9625, -78.9625}, {Center, Center}, {118.99999999999999, 149.},
     
     BaseStyle->{Graphics3DBoxOptions -> {SphericalRegion -> False}}], 
    InsetBox[
     FormBox[
      FormBox[
       InterpretationBox[
        GraphicsBox[{
          {Dashing[{Small, Small}], LineBox[{}]}, 
          LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {
           2, -3}}, {{0, -4}, {2, -4}}}], {
           LineBox[{{1, -1}, {1, -3}, {1, -2}}], DiskBox[{1, -1}, 0.09], 
           DiskBox[{1, -3}, 0.09], 
           {LightDarkSwitched[
             GrayLevel[1]], EdgeForm[Opacity[1]], 
            RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
            StyleBox[
             TemplateBox[{"\"Z\"", "\[Phi]"},
              "Superscript"],
             StripOnInput->False,
             FontSize->Scaled[0.2],
             FontWeight->"Light",
             FontSlant->Italic], {1., -2.}, NCache[
            ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
             ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}},
         ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
         ImageSize->118.8,
         PlotRange->{{0, 2}, {-4.5, -0.5}},
         PlotRangePadding->Scaled[0.025]],
        QuantumMob`Q3`QuantumCircuit[
         QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
           1, $CellContext`S[3, QuantumMob`Q3`$] -> 1}, 
          QuantumMob`Q3`Phase[$CellContext`\[Phi], 
           $CellContext`S[2, 3]]], "Visible" -> $CellContext`S[4]]],
       TraditionalForm],
      TraditionalForm], {191.8875, -78.9625}, {Center, Center}, {119., 149.},
     BaseStyle->{Graphics3DBoxOptions -> {SphericalRegion -> False}}], 
    InsetBox[
     FormBox[
      FormBox[
       InterpretationBox[
        GraphicsBox[{
          {Dashing[{Small, Small}], LineBox[{}]}, 
          LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {
           2, -3}}, {{0, -4}, {2, -4}}}], {
           LineBox[{{1, -1}, {1, -2}, {1, -3}}], DiskBox[{1, -1}, 0.09], 
           DiskBox[{1, -2}, 0.09], 
           {LightDarkSwitched[
             GrayLevel[1]], EdgeForm[Opacity[1]], 
            RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
            StyleBox[
             TemplateBox[{"\"Z\"", "\[Phi]"},
              "Superscript"],
             StripOnInput->False,
             FontSize->Scaled[0.2],
             FontWeight->"Light",
             FontSlant->Italic], {1., -3.}, NCache[
            ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
             ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}},
         ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
         ImageSize->118.8,
         PlotRange->{{0, 2}, {-4.5, -0.5}},
         PlotRangePadding->Scaled[0.025]],
        QuantumMob`Q3`QuantumCircuit[
         QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
           1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
          QuantumMob`Q3`Phase[$CellContext`\[Phi], 
           $CellContext`S[3, 3]]], "Visible" -> $CellContext`S[4]]],
       TraditionalForm],
      TraditionalForm], {319.8125, -78.9625}, {Center, Center}, {119., 149.},
     BaseStyle->{Graphics3DBoxOptions -> {SphericalRegion -> False}}]}, {}},
  ImageSize->{383.775, 157.925},
  Method->{"IgnoreImageSizeAutomaticLimit" -> True},
  PlotRange->{{0, 383.775}, {-157.925, 0}},
  PlotRangePadding->Automatic]], "Output",
 CellLabel->"Out[7]=",
 CellID->1196780901,ExpressionUUID->"abe41af4-7eae-4ba2-a5e3-6c3022ca0df5"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"Elaborate", "[", 
   RowBox[{"qc", "-", "qc1"}], "]"}], "//", "Simplify"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Elaborate", "[", 
   RowBox[{"qc", "-", "qc2"}], "]"}], "//", "Simplify"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Elaborate", "[", 
   RowBox[{"qc", "-", "qc3"}], "]"}], "//", "Simplify"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[8]:=",
 CellID->286463219,ExpressionUUID->"fe159995-4768-4b2f-ae47-77d1184a4770"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[8]=",
 CellID->887805792,ExpressionUUID->"df729024-bfe1-40f7-8005-66644709f093"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[8]=",
 CellID->635566788,ExpressionUUID->"e4f857eb-f57d-44bd-9775-0e381d9b412b"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[8]=",
 CellID->387345738,ExpressionUUID->"2bd3aadb-abd9-4af1-843c-63f74a896267"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "2"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["QuantumCircuit"]], 
           "paclet:QuantumMob/Q3/ref/QuantumCircuit", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "c1ae7fa8-8f53-4986-8889-8aac5b142a19"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CNOT"]], "paclet:QuantumMob/Q3/ref/CNOT", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "172860e9-8398-46f2-8cdd-336457d84ed2"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CZ"]], "paclet:QuantumMob/Q3/ref/CZ", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "bdc57cc5-2595-4191-a1f3-737d93372a6f"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["ControlledPower"]], 
           "paclet:QuantumMob/Q3/ref/ControlledPower", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "10e4cf4f-28cf-447d-aec4-5fee7d149031"]
       }], "SeeAlso",ExpressionUUID->"7f183082-22ef-4444-9fff-b5c68885f302"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"09ff13c1-ed4d-4389-96f3-\
a7451e2afa36"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTutorial.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TutorialsSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Two-Qubit Gates"]], 
           "paclet:QuantumMob/Q3/tutorial/TwoQubitGates"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "03fd388e-415f-426f-9fde-0d79dbb6cc7d"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Computation: Overview"]], 
           "paclet:QuantumMob/Q3/tutorial/QuantumComputationOverview"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "84eb6b0e-9749-4b8c-b5f0-8caac41f8350"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Multi-Control Unitary Gates"]], 
           "paclet:QuantumMob/Q3/tutorial/MultiControlUnitaryGates"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "5ef13f86-be56-4b6b-87c1-d1dff334a5b2"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems with Q3"]], 
           "paclet:QuantumMob/Q3/tutorial/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "31d3aacc-c5e4-476a-98a6-5a07fdfac0cc"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quick Quantum Computing with Q3"]], 
           "paclet:QuantumMob/Q3/tutorial/QuickQuantumComputingWithQ3"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "400b7997-0fc2-48f9-9b34-1da1a998fb07"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Quick Start"]], 
           "paclet:QuantumMob/Q3/tutorial/Q3QuickStart"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "f56db9e8-be76-4d01-85e8-6b0c317efca9"]}]}
     }]}
  }]], "TutorialsSection",ExpressionUUID->"bc0dca13-0a66-41a8-83ff-\
cb2a1f664cfd"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Symbolic Quantum Simulation"]], 
           "paclet:QuantumMob/Q3/guide/Q3"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "891d3b3b-b4ac-4a7c-9345-781ac9528063"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems"]], 
           "paclet:QuantumMob/Q3/guide/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "4025d723-ed3b-4fd8-b17f-45b6835ce98e"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"482a0e27-d08b-4f7c-8f46-\
0a1caa378f1e"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "M. Nielsen and I. L. Chuang (2022)"}]]]], 
             "https://doi.org/10.1017/CBO9780511976667"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "fe077493-d35e-4b04-b45b-ed2e4471432a"]}]],ExpressionUUID->
         "23e4db07-076f-421d-907c-87d2bd178cbf"],
        StyleBox[
        ", Quantum Computation and Quantum Information (Cambridge University \
Press).",
         FontSlant->"Plain"]
       }], "RelatedLinks",ExpressionUUID->
        "26830d04-7fb5-40db-b7e3-308f06bef66c"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "3c7d4753-9c60-47ea-b291-996a17ab1e49"]}]],ExpressionUUID->
         "827b0f76-d9cd-460d-aec2-db07fb7905a8"],
        ", A Quantum Computation Workbook (Springer)."
       }], "RelatedLinks",ExpressionUUID->
        "792422c7-a1f7-4888-929e-59274bc8be26"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"2f9d65c4-7879-4cb7-ac93-\
26b5d2e4318e"],

Cell[" ", "FooterCell",ExpressionUUID->"df977322-06d9-443a-8dd7-a6479e5817e4"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"ControlledGate",
Visible->True,
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, 
    "ExampleSection" -> {"0" -> Open, "1" -> Closed, "2" -> Closed}, 
    "AllOptsTable" -> Closed, "NotesSection" -> Closed, 
    "ExampleSubsection" -> {"0" -> Closed}}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "HasOptions" -> 
  True, "RootCaptions" -> "", "HeaderCoreAreaLink" -> {}, 
  "Metadata" -> {
   "built" -> "{2025, 9, 1, 18, 7, 31.837233}", 
    "history" -> {"12", "13.3", "", ""}, "context" -> "QuantumMob`Q3`", 
    "keywords" -> {}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> 
    "Quantum Mob/ Q3 Symbol", "language" -> "en", "paclet" -> "QuantumMob/Q3",
     "status" -> "None", "summary" -> 
    "ControlledGate[{c1, c2, ...}, op] represents a multi-control \
multi-target unitary gate with control qubits c1, c2, ... and unitary \
operator op acting on the target qubits. ControlledGate[c, op] is equivalent \
to ControlledGate[{c}, op]. ControlledGate[{c1 -> v1, c2 -> v2, ...}, op] \
represents a variation of the controlled-unitary gate, where operator op \
operates when the control qubits c1, c2, ... take the logical values v1, v2, \
..., respectively. ControlledGate[c -> v, ...] is automatically converted to \
ControlledGate[{c -> v}, ...]. ControlledGate[{c1, c2, ...} -> v, ...] is \
automatically converted to ControlledGate[{c1 -> v, c2 -> v, ...}, ...].", 
    "synonyms" -> {}, "tabletags" -> {}, "title" -> "ControlledGate", 
    "titlemodifier" -> "", "metadescription" -> "", "windowtitle" -> 
    "ControlledGate", "type" -> "Symbol", "uri" -> 
    "QuantumMob/Q3/ref/ControlledGate"}},
CellContext->"Global`",
FrontEndVersion->"14.3 for Mac OS X ARM (64-bit) (July 8, 2025)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "14.3 for Mac OS X ARM (64-bit) (July 8, 2025)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"],
ExpressionUUID->"e39877be-b55c-41d3-8f2f-77de2ded1bd0"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[22402, 624, 1439, 38, 70, "PrimaryExamplesSection",ExpressionUUID->"5c904f6f-ba4f-4a86-8464-8bcc8a8d92fe",
   CellTags->"PrimaryExamplesSection",
   CellID->1761304448]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 162300, 4455}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[582, 21, 7468, 179, 70, "AnchorBarGrid",ExpressionUUID->"d7259be0-a24a-4a4a-b7c9-7ee5063453c5",
 CellID->1],
Cell[8053, 202, 96, 0, 70, "ContextNameCell",ExpressionUUID->"754078ca-e630-445e-aad3-93f5e249db45"],
Cell[CellGroupData[{
Cell[8174, 206, 557, 14, 70, "ObjectNameGrid",ExpressionUUID->"2a142057-0e36-44f4-9d59-96d0e936bf1e"],
Cell[8734, 222, 7581, 217, 70, "Usage",ExpressionUUID->"1ad2a14e-bb38-4c1c-b68a-31cb33d4ff6e"]
}, Open  ]],
Cell[CellGroupData[{
Cell[16352, 444, 1851, 45, 70, "NotesSection",ExpressionUUID->"e51d6051-0009-44f3-9888-07928270afe0",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->1753919310],
Cell[18206, 491, 920, 28, 70, "Notes",ExpressionUUID->"8142ac6a-facb-4ff1-8dd2-835c28acd109",
 CellID->1702748548],
Cell[19129, 521, 459, 13, 70, "Notes",ExpressionUUID->"95437c41-9aa9-4ed2-a007-e041612f10d7",
 CellID->491054349],
Cell[19591, 536, 915, 26, 70, "Notes",ExpressionUUID->"b9d7b280-b1d8-4c2b-b73d-9f0425335385",
 CellID->2019652723],
Cell[20509, 564, 892, 26, 70, "Notes",ExpressionUUID->"e2a69f20-1de0-45b2-a4f4-db4a227eba16",
 CellID->384437925],
Cell[21404, 592, 871, 26, 70, "Notes",ExpressionUUID->"e439c028-37e5-47c1-b1bf-dfc914e8a4e3",
 CellID->1895961038]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[22402, 624, 1439, 38, 70, "PrimaryExamplesSection",ExpressionUUID->"5c904f6f-ba4f-4a86-8464-8bcc8a8d92fe",
 CellTags->"PrimaryExamplesSection",
 CellID->1761304448],
Cell[23844, 664, 202, 3, 70, "Input",ExpressionUUID->"0e71d95c-3bea-4a09-a65d-519af410abc8",
 CellID->851865642],
Cell[CellGroupData[{
Cell[24071, 671, 1416, 37, 70, "ExampleSection",ExpressionUUID->"4f51d5f5-bb35-4039-ac1e-cabf3c1a608c",
 CellID->1329267288],
Cell[25490, 710, 220, 5, 70, "Input",ExpressionUUID->"03054efb-1166-4f62-a1d4-1333f49c5d7b",
 CellID->1403695601],
Cell[25713, 717, 170, 3, 70, "ExampleText",ExpressionUUID->"3f90e8b5-3004-4d65-b954-d3303b519ec1",
 CellID->493202586],
Cell[CellGroupData[{
Cell[25908, 724, 338, 9, 70, "Input",ExpressionUUID->"c78d302e-8851-47f7-a70b-1536ddac23be",
 CellID->1804103712],
Cell[26249, 735, 623, 17, 70, "Output",ExpressionUUID->"1ed7967e-5d09-4df9-a341-f076002fd652",
 CellID->780170084]
}, Open  ]],
Cell[CellGroupData[{
Cell[26909, 757, 200, 4, 70, "Input",ExpressionUUID->"ff4f7857-00ce-493b-b072-26dc4c29b1a2",
 CellID->1699357571],
Cell[27112, 763, 1573, 41, 70, "Output",ExpressionUUID->"6115fcd8-a2d8-4160-b531-3d1324fe9ee6",
 CellID->1930936853]
}, Open  ]],
Cell[CellGroupData[{
Cell[28722, 809, 229, 5, 70, "Input",ExpressionUUID->"c9547971-e32d-4b91-b22f-54e447d1673e",
 CellID->388513540],
Cell[28954, 816, 787, 23, 70, "Output",ExpressionUUID->"de5f4ca7-18d2-467c-9921-b74528fa3aa3",
 CellID->482814907]
}, Open  ]],
Cell[CellGroupData[{
Cell[29778, 844, 199, 4, 70, "Input",ExpressionUUID->"d770e49c-272e-472c-8b18-e008989706c3",
 CellID->310774973],
Cell[29980, 850, 1573, 41, 70, "Output",ExpressionUUID->"5ff265d8-1ffc-4c2a-aca8-887d1ebb82ea",
 CellID->1476923583]
}, Open  ]],
Cell[CellGroupData[{
Cell[31590, 896, 273, 7, 70, "Input",ExpressionUUID->"33fee14c-5bec-471e-b922-05ebe3ee658b",
 CellID->227378000],
Cell[31866, 905, 2449, 61, 70, "Output",ExpressionUUID->"bc1d0d75-2544-46ca-9198-9dffce399245",
 CellID->2038667455]
}, Open  ]],
Cell[CellGroupData[{
Cell[34352, 971, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"519797b1-02c9-4f94-8ebb-1b8e14bb38da",
 CellID->1117862758],
Cell[34598, 978, 210, 4, 70, "ExampleText",ExpressionUUID->"107b18d1-121c-4b94-8fa7-8c3d14ae16a1",
 CellID->66695600],
Cell[CellGroupData[{
Cell[34833, 986, 204, 4, 70, "Input",ExpressionUUID->"f5e83c12-ca60-4706-a636-6d87dbd0a80a",
 CellID->287461810],
Cell[35040, 992, 994, 24, 70, "Output",ExpressionUUID->"a4e38de9-230d-46aa-b251-ba084e067a66",
 CellID->782328300]
}, Open  ]],
Cell[36049, 1019, 446, 12, 70, "ExampleText",ExpressionUUID->"01024663-6773-4ba9-b58e-7fe5ee7aae01",
 CellID->376653752],
Cell[CellGroupData[{
Cell[36520, 1035, 733, 20, 70, "Input",ExpressionUUID->"b4780800-6f12-4d5f-954c-c95497cc0a5f",
 CellID->1100337461],
Cell[37256, 1057, 1516, 37, 70, "Output",ExpressionUUID->"cfd46f8f-76fa-4d3c-846b-06fdf92bc4ba",
 CellID->1696851166],
Cell[38775, 1096, 1515, 37, 70, "Output",ExpressionUUID->"93a1e303-cdc7-49e5-831c-a14509a8b8e7",
 CellID->394714802],
Cell[40293, 1135, 126, 2, 70, "Output",ExpressionUUID->"747d306f-d3c2-49e0-9678-4f5b2dbfe69f",
 CellID->394691631]
}, Open  ]],
Cell[CellGroupData[{
Cell[40456, 1142, 874, 24, 70, "Input",ExpressionUUID->"f866c530-fb9c-4ece-8708-e0f4ed0bfdcf",
 CellID->1391490451],
Cell[41333, 1168, 4585, 107, 70, "Output",ExpressionUUID->"c1abf9b2-bac7-4024-8d47-b346dc3a7079",
 CellID->5256634],
Cell[45921, 1277, 4587, 107, 70, "Output",ExpressionUUID->"e9904c03-66eb-4325-81ed-fc0154c7384e",
 CellID->301418111],
Cell[50511, 1386, 125, 2, 70, "Output",ExpressionUUID->"24616620-0bea-4538-a8a8-4d2014bc1f59",
 CellID->20268304]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[50685, 1394, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"cf9dfaf4-71ad-4af9-9c65-219ffa206ae2",
 CellID->1893551625],
Cell[50931, 1401, 194, 4, 70, "ExampleText",ExpressionUUID->"8be5257d-d2db-4047-aa6f-bc04aaf41512",
 CellID->1781572424],
Cell[CellGroupData[{
Cell[51150, 1409, 459, 13, 70, "Input",ExpressionUUID->"aec26078-281d-4f2d-a361-ad9212ccabbb",
 CellID->907561411],
Cell[51612, 1424, 1921, 44, 70, "Output",ExpressionUUID->"69646ee5-7419-4a18-b19e-9a58ab84669a",
 CellID->1346969102]
}, Open  ]],
Cell[CellGroupData[{
Cell[53570, 1473, 385, 10, 70, "Input",ExpressionUUID->"26e04d34-d3cf-48c3-a1e5-17671ada62f0",
 CellID->1556697824],
Cell[53958, 1485, 1255, 28, 70, "Output",ExpressionUUID->"6b420e6a-52b9-49a5-8d4e-a92091ead539",
 CellID->1884574287]
}, Open  ]],
Cell[CellGroupData[{
Cell[55250, 1518, 200, 4, 70, "Input",ExpressionUUID->"ee31df13-5369-4d5a-a72b-e31d215c6846",
 CellID->1323430295],
Cell[55453, 1524, 5862, 145, 70, "Output",ExpressionUUID->"68e9461b-b216-456a-a2f9-5eb049d8cdb5",
 CellID->803732006]
}, Open  ]],
Cell[61330, 1672, 151, 1, 70, "ExampleText",ExpressionUUID->"9c6b617a-67e4-4abf-bac6-a06d670db411",
 CellID->796325451],
Cell[CellGroupData[{
Cell[61506, 1677, 508, 14, 70, "Input",ExpressionUUID->"a7db1abd-1660-47d6-83d5-4800098b557f",
 CellID->1688856124],
Cell[62017, 1693, 1211, 28, 70, "Output",ExpressionUUID->"6ba594fc-a28c-42fb-81f7-6f72bfe48685",
 CellID->651685212]
}, Open  ]],
Cell[CellGroupData[{
Cell[63265, 1726, 193, 4, 70, "Input",ExpressionUUID->"1febbf7b-d1db-4121-ad65-50bf44a55ae1",
 CellID->97902928],
Cell[63461, 1732, 5188, 123, 70, "Output",ExpressionUUID->"5d488596-d5a6-4aa4-99f8-f0f1bc694e4f",
 CellID->706758384]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[68698, 1861, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"740b2371-3f9a-4df8-8cd3-8a60fad43d7e",
 CellID->1616593910],
Cell[CellGroupData[{
Cell[68966, 1870, 592, 17, 70, "Input",ExpressionUUID->"8692439b-281d-480e-99b6-c233f3745b9e",
 CellID->423687378],
Cell[69561, 1889, 1276, 29, 70, "Output",ExpressionUUID->"c5a88a25-b8c8-49d9-b96c-a9f6f609eff3",
 CellID->756108331]
}, Open  ]],
Cell[CellGroupData[{
Cell[70874, 1923, 663, 19, 70, "Input",ExpressionUUID->"dba9e297-6cf7-40a0-b9d0-e3a9744b70ba",
 CellID->446009393],
Cell[71540, 1944, 2064, 49, 70, "Output",ExpressionUUID->"7b207c03-272a-4353-bd5c-1267876179ea",
 CellID->1251979818]
}, Open  ]],
Cell[CellGroupData[{
Cell[73641, 1998, 256, 7, 70, "Input",ExpressionUUID->"f4d3427d-cadd-46d2-b6a8-9d460844f4a6",
 CellID->2072193516],
Cell[73900, 2007, 207, 4, 70, "Output",ExpressionUUID->"77354e86-02ee-42cf-b599-9292fa29f916",
 CellID->980027820]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]],
Cell[CellGroupData[{
Cell[74268, 2020, 1323, 35, 70, "ExampleSection",ExpressionUUID->"2507b761-ed9c-46a7-a6b5-1b195d2cb290",
 CellID->1293636265],
Cell[CellGroupData[{
Cell[75616, 2059, 1333, 35, 70, "ExampleSubsection",ExpressionUUID->"ec9c5147-2681-46ff-8a0b-2e2f1944089d",
 CellID->1965812958],
Cell[76952, 2096, 131, 2, 70, "Output",ExpressionUUID->"fd03dbcd-f0f1-4b5c-9f5b-ee81090101df",
 CellID->127998250],
Cell[77086, 2100, 230, 5, 70, "Input",ExpressionUUID->"68933563-c7ab-4f11-b9f3-599df02d937e",
 CellID->1751976307],
Cell[77319, 2107, 190, 4, 70, "ExampleText",ExpressionUUID->"a14e895b-69bd-4658-a9db-1b3d969d8781",
 CellID->458298458],
Cell[CellGroupData[{
Cell[77534, 2115, 384, 11, 70, "Input",ExpressionUUID->"03358c60-3997-42ef-b5be-95f836c37e7d",
 CellID->1005552493],
Cell[77921, 2128, 1201, 28, 70, "Output",ExpressionUUID->"d1af5a46-4eb0-4143-aff7-07b24db177d5",
 CellID->1635457103]
}, Open  ]],
Cell[CellGroupData[{
Cell[79159, 2161, 388, 10, 70, "Input",ExpressionUUID->"6db7432e-4d7f-40c8-b344-715458cf9a74",
 CellID->1447119510],
Cell[79550, 2173, 1817, 45, 70, "Output",ExpressionUUID->"9f2f223f-fed6-4fc2-9b3a-3648c53752a4",
 CellID->1484332168]
}, Open  ]],
Cell[CellGroupData[{
Cell[81404, 2223, 230, 5, 70, "Input",ExpressionUUID->"1d838d02-1e1a-4e84-9668-e9de8ad81b47",
 CellID->1905745843],
Cell[81637, 2230, 1267, 30, 70, "Output",ExpressionUUID->"2ffbc57c-1226-4a05-8a3a-fb6e997b513b",
 CellID->2000704024]
}, Open  ]],
Cell[CellGroupData[{
Cell[82941, 2265, 259, 6, 70, "Input",ExpressionUUID->"ab2a54b0-2fae-407b-acf2-8e43bd134bec",
 CellID->722936882],
Cell[83203, 2273, 2450, 55, 70, "Output",ExpressionUUID->"6a856739-3098-402d-a2b4-1be387148164",
 CellID->533586642]
}, Open  ]],
Cell[CellGroupData[{
Cell[85690, 2333, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"505da9d5-e403-4138-b066-88eb1c0fb214",
 CellID->2123194462],
Cell[85936, 2340, 1959, 60, 70, "ExampleText",ExpressionUUID->"ac6be522-fa97-4610-8fcf-0a88c94e916b",
 CellID->227879916],
Cell[87898, 2402, 230, 5, 70, "Input",ExpressionUUID->"04cd66be-ac16-4e31-87f3-5c9a5c11b28b",
 CellID->1801264145],
Cell[88131, 2409, 136, 1, 70, "ExampleText",ExpressionUUID->"2cda983f-9e36-46c9-82aa-ab0353cde692",
 CellID->1033495556],
Cell[CellGroupData[{
Cell[88292, 2414, 530, 16, 70, "Input",ExpressionUUID->"414353ce-200f-4438-8145-9e9d91e966c7",
 CellID->1096870451],
Cell[88825, 2432, 544, 16, 70, "Output",ExpressionUUID->"a9148d68-f6fc-474b-8130-93149ab02e68",
 CellID->654678359]
}, Open  ]],
Cell[89384, 2451, 147, 1, 70, "ExampleText",ExpressionUUID->"56db4894-8e73-4ab7-8523-21a407369eda",
 CellID->1955102746],
Cell[CellGroupData[{
Cell[89556, 2456, 345, 8, 70, "Input",ExpressionUUID->"2e4d9013-edae-4349-9589-8d4ddc572ca6",
 CellID->2059470547],
Cell[89904, 2466, 1385, 43, 70, "Output",ExpressionUUID->"2ae7e3af-efcc-4b8e-ad83-533360ef6bd4",
 CellID->1226843977]
}, Open  ]],
Cell[91304, 2512, 196, 4, 70, "ExampleText",ExpressionUUID->"61ca08ab-55c7-4f07-ac9f-f8613712f7af",
 CellID->1600123813],
Cell[CellGroupData[{
Cell[91525, 2520, 453, 11, 70, "Input",ExpressionUUID->"61052633-149c-45b9-9e3b-9e23a45e04d3",
 CellID->8884588],
Cell[91981, 2533, 1173, 28, 70, "Output",ExpressionUUID->"22514ff7-3cd3-4f87-9bdc-b8b1c76418a8",
 CellID->2090953321]
}, Open  ]],
Cell[93169, 2564, 207, 4, 70, "ExampleText",ExpressionUUID->"20052806-d1f8-47ac-bde2-956461c0bcb2",
 CellID->777355164],
Cell[CellGroupData[{
Cell[93401, 2572, 222, 5, 70, "Input",ExpressionUUID->"b646ee07-76a1-48a5-b8f7-3ded77b8e208",
 CellID->1865987295],
Cell[93626, 2579, 5376, 116, 70, "Output",ExpressionUUID->"4d26312c-7ba6-4510-9588-00a7fba4d0b9",
 CellID->1874986980]
}, Open  ]],
Cell[CellGroupData[{
Cell[99039, 2700, 338, 9, 70, "Input",ExpressionUUID->"f4ba52c0-7a03-46e0-8c74-5eda969623e9",
 CellID->298820583],
Cell[99380, 2711, 116, 1, 70, "EchoTiming",ExpressionUUID->"aca0930f-a513-41e0-afef-ce5a00d3c89b",
 CellID->1083284888],
Cell[99499, 2714, 126, 2, 70, "Output",ExpressionUUID->"a5dea84c-ff66-444f-aa21-a7091d752129",
 CellID->402753350]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[99674, 2722, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"167fcf06-214b-433a-9f4d-f95a2b7d9889",
 CellID->1705608657],
Cell[99920, 2729, 1139, 33, 70, "ExampleText",ExpressionUUID->"fc36d0f2-850d-4bec-9fac-35cdb697983e",
 CellID->181077262],
Cell[CellGroupData[{
Cell[101084, 2766, 222, 5, 70, "Input",ExpressionUUID->"86af27ac-b118-4e49-a8f6-680eee9a75ad",
 CellID->1563352008],
Cell[101309, 2773, 5376, 116, 70, "Output",ExpressionUUID->"f0b5dcb0-13a5-4184-9bb6-552bbd4a2d7a",
 CellID->1223159902]
}, Open  ]],
Cell[106700, 2892, 125, 1, 70, "ExampleText",ExpressionUUID->"b27f152a-06ae-4239-bc89-22647bd2c51f",
 CellID->1652630181],
Cell[CellGroupData[{
Cell[106850, 2897, 306, 7, 70, "Input",ExpressionUUID->"a0f07e1a-c50e-40bb-98ed-d61275c19d47",
 CellID->63469277],
Cell[107159, 2906, 2860, 85, 70, "Output",ExpressionUUID->"b369526b-a456-40f3-8a1c-6a001f3513a3",
 CellID->605206458]
}, Open  ]],
Cell[110034, 2994, 238, 6, 70, "ExampleText",ExpressionUUID->"46fd75fe-da63-45f6-9c01-94bd91212265",
 CellID->1753917898],
Cell[CellGroupData[{
Cell[110297, 3004, 402, 11, 70, "Input",ExpressionUUID->"eedd0db2-6a30-4184-b0d6-ed2c25116d6c",
 CellID->1043909238],
Cell[110702, 3017, 115, 1, 70, "EchoTiming",ExpressionUUID->"1b7714ff-9eff-4f00-979b-0296e8d5c50e",
 CellID->997000311],
Cell[110820, 3020, 127, 2, 70, "Output",ExpressionUUID->"9e63841b-b1b2-4748-b215-d0fda44c1602",
 CellID->1916813083]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[110996, 3028, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"353c53f8-6cd2-47f1-a503-8a7b257497c0",
 CellID->1600539001],
Cell[111242, 3035, 571, 17, 70, "ExampleText",ExpressionUUID->"4ae9eba7-ef4f-4397-9229-be08d80a97de",
 CellID->595717937],
Cell[CellGroupData[{
Cell[111838, 3056, 388, 10, 70, "Input",ExpressionUUID->"e759f523-2738-47a0-b415-abb3283b5842",
 CellID->1811053528],
Cell[112229, 3068, 1137, 33, 70, "Output",ExpressionUUID->"d92fd4c1-2c83-487c-b80a-935d1f534a2a",
 CellID->1570984905]
}, Open  ]],
Cell[CellGroupData[{
Cell[113403, 3106, 231, 5, 70, "Input",ExpressionUUID->"cb58cb67-10fc-4819-8d2e-f1f487dcc06d",
 CellID->1793861229],
Cell[113637, 3113, 1274, 29, 70, "Output",ExpressionUUID->"c6d35a9f-9611-47d6-9f6e-20733a14e951",
 CellID->1831951961]
}, Open  ]],
Cell[114926, 3145, 395, 8, 70, "ExampleText",ExpressionUUID->"847ee447-0804-452e-b04b-a33bfbedd26a",
 CellID->1051097161],
Cell[CellGroupData[{
Cell[115346, 3157, 265, 6, 70, "Input",ExpressionUUID->"3397dfc0-ea5a-407d-809e-835966a7af50",
 CellID->1765521323],
Cell[115614, 3165, 5705, 122, 70, "Output",ExpressionUUID->"d929a8be-fc19-4ba4-b548-2a149e697c3a",
 CellID->485927215]
}, Open  ]],
Cell[CellGroupData[{
Cell[121356, 3292, 298, 8, 70, "Input",ExpressionUUID->"82981889-dc44-4121-ba48-795ac3c32d0e",
 CellID->1192347325],
Cell[121657, 3302, 115, 1, 70, "EchoTiming",ExpressionUUID->"bbe32dad-c6d7-48d9-93b2-14bc1f617849",
 CellID->854468408],
Cell[121775, 3305, 126, 2, 70, "Output",ExpressionUUID->"57a4be23-5e65-4a09-bd1d-b06b9f8aece0",
 CellID->827385767]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "0"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, Closed]]]],
Cell[CellGroupData[{
Cell[122177, 3319, 1346, 35, 70, "ExampleSection",ExpressionUUID->"2b6c4f34-4ca3-4995-a07e-bef107000cf7",
 CellID->1020263627],
Cell[123526, 3356, 218, 5, 70, "Input",ExpressionUUID->"a23f83ca-b1d4-4830-a159-8c8614c8c32f",
 CellID->54597739],
Cell[123747, 3363, 257, 4, 70, "ExampleText",ExpressionUUID->"222d4026-378a-4521-abfa-97390067d3b2",
 CellID->1658935743],
Cell[CellGroupData[{
Cell[124029, 3371, 334, 8, 70, "Input",ExpressionUUID->"ec07eb39-f250-4aa5-8cac-ce89a70031ed",
 CellID->450269680],
Cell[124366, 3381, 204, 4, 70, "Output",ExpressionUUID->"2d5d8ab4-79aa-4bb0-9af3-f440126e18ad",
 CellID->1401153192]
}, Open  ]],
Cell[CellGroupData[{
Cell[124607, 3390, 255, 6, 70, "Input",ExpressionUUID->"8cbefba7-b9e2-4943-a269-8093da807150",
 CellID->113446564],
Cell[124865, 3398, 841, 26, 70, "Output",ExpressionUUID->"214505cc-960a-4940-b522-3e1a99208c20",
 CellID->756121647]
}, Open  ]],
Cell[CellGroupData[{
Cell[125743, 3429, 366, 10, 70, "Input",ExpressionUUID->"a2837568-864f-4789-8d77-968ed9170fcf",
 CellID->1884776724],
Cell[126112, 3441, 715, 23, 70, "Output",ExpressionUUID->"4c81b5fc-5cf7-466e-a89a-4cf01fa1b473",
 CellID->42368583]
}, Open  ]],
Cell[CellGroupData[{
Cell[126864, 3469, 600, 16, 70, "Input",ExpressionUUID->"1acdc009-3213-4211-823c-608106bf1698",
 CellID->1389124015],
Cell[127467, 3487, 1169, 27, 70, "Output",ExpressionUUID->"974f1a6c-7a4f-4772-9165-d3fb31356f22",
 CellID->1971343166]
}, Open  ]],
Cell[CellGroupData[{
Cell[128673, 3519, 653, 17, 70, "Input",ExpressionUUID->"49f30619-c9a9-4353-b03e-2c319d0e42e3",
 CellID->125637926],
Cell[129329, 3538, 1100, 27, 70, "Output",ExpressionUUID->"c8549a04-cdbd-491f-97e7-ba50c6db6fbf",
 CellID->1162173736]
}, Open  ]],
Cell[CellGroupData[{
Cell[130466, 3570, 261, 6, 70, "Input",ExpressionUUID->"06c8536a-58d2-4747-af4c-e0e7e1fa089b",
 CellID->1909614846],
Cell[130730, 3578, 127, 2, 70, "Output",ExpressionUUID->"6bf77b49-e3fb-495b-a929-3e1329e8321d",
 CellID->1549838250]
}, Open  ]],
Cell[130872, 3583, 175, 3, 70, "ExampleText",ExpressionUUID->"0ab13d9a-9f5c-4d2b-b33e-4bfd1690e350",
 CellID->511713125],
Cell[CellGroupData[{
Cell[131072, 3590, 279, 7, 70, "Input",ExpressionUUID->"3c43cf5e-68d4-4058-85ee-8b7acc1551ed",
 CellID->375479679],
Cell[131354, 3599, 420, 9, 70, "Message",ExpressionUUID->"f0d43662-b1b5-4475-9abb-205092e760b8",
 CellID->979473987],
Cell[131777, 3610, 717, 23, 70, "Output",ExpressionUUID->"bbc5394f-f1f5-45b6-b96c-510a4ad2ca8f",
 CellID->1557145254]
}, Open  ]],
Cell[CellGroupData[{
Cell[132531, 3638, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"68f9ad89-bde7-406e-a11b-ad4a738f24ed",
 CellID->174573991],
Cell[132776, 3645, 374, 9, 70, "ExampleText",ExpressionUUID->"8186cb91-5e25-4427-96d6-55eb14651c0d",
 CellID->1484041902],
Cell[CellGroupData[{
Cell[133175, 3658, 419, 12, 70, "Input",ExpressionUUID->"0248c363-5162-44b1-ae88-48eebe8c9425",
 CellID->1674411155],
Cell[133597, 3672, 1036, 32, 70, "Output",ExpressionUUID->"485546ed-d528-4df2-af33-d14f564a2778",
 CellID->1586000921]
}, Open  ]],
Cell[CellGroupData[{
Cell[134670, 3709, 195, 4, 70, "Input",ExpressionUUID->"82e8dd15-9626-4b56-8f5f-bad9b19c208d",
 CellID->1750426850],
Cell[134868, 3715, 2259, 67, 70, "Output",ExpressionUUID->"4c3ab9d9-c07d-474b-9bbe-543aedb21103",
 CellID->460261667]
}, Open  ]],
Cell[CellGroupData[{
Cell[137164, 3787, 264, 7, 70, "Input",ExpressionUUID->"02706758-be0c-49fe-bad5-f01632238202",
 CellID->295000539],
Cell[137431, 3796, 884, 26, 70, "Output",ExpressionUUID->"373cdf15-8f83-4b6d-8605-d285574f2674",
 CellID->1748716918]
}, Open  ]],
Cell[138330, 3825, 175, 3, 70, "ExampleText",ExpressionUUID->"207065cf-2b86-49a2-8cfb-35909f6108f8",
 CellID->2142135012],
Cell[CellGroupData[{
Cell[138530, 3832, 506, 15, 70, "Input",ExpressionUUID->"f3ad3c35-8bf3-4334-aff3-a746a3f97b25",
 CellID->1434563406],
Cell[139039, 3849, 983, 28, 70, "Output",ExpressionUUID->"24bf8202-d5a1-4d64-a3b7-dae3051efd6f",
 CellID->217033675]
}, Open  ]],
Cell[CellGroupData[{
Cell[140059, 3882, 294, 7, 70, "Input",ExpressionUUID->"8e1ff2c5-8bdc-4123-83bf-c81861c8e9e0",
 CellID->1544994010],
Cell[140356, 3891, 126, 2, 70, "Output",ExpressionUUID->"a3ad1061-704e-4ef0-ab14-e7f282a511f7",
 CellID->977449893]
}, Open  ]],
Cell[140497, 3896, 309, 5, 70, "ExampleText",ExpressionUUID->"df4428bc-bb58-4447-b374-45e26c191fef",
 CellID->382850454],
Cell[CellGroupData[{
Cell[140831, 3905, 655, 18, 70, "Input",ExpressionUUID->"da63b44f-2f68-4357-9704-204c4fe26f27",
 CellID->1698297027],
Cell[141489, 3925, 1375, 30, 70, "Output",ExpressionUUID->"fee07717-2fc5-4e1f-afae-db0a0dd52821",
 CellID->1402986240]
}, Open  ]],
Cell[142879, 3958, 244, 4, 70, "ExampleText",ExpressionUUID->"875e9aa4-cd4b-4c02-b792-fd5864173a99",
 CellID->42562061],
Cell[CellGroupData[{
Cell[143148, 3966, 1956, 54, 70, "Input",ExpressionUUID->"7aeecaa6-d31f-4e19-b106-7c0e0781a64f",
 CellID->385898355],
Cell[145107, 4022, 4991, 111, 70, "Output",ExpressionUUID->"abe41af4-7eae-4ba2-a5e3-6c3022ca0df5",
 CellID->1196780901]
}, Open  ]],
Cell[CellGroupData[{
Cell[150135, 4138, 500, 12, 70, "Input",ExpressionUUID->"fe159995-4768-4b2f-ae47-77d1184a4770",
 CellID->286463219],
Cell[150638, 4152, 126, 2, 70, "Output",ExpressionUUID->"df729024-bfe1-40f7-8005-66644709f093",
 CellID->887805792],
Cell[150767, 4156, 126, 2, 70, "Output",ExpressionUUID->"e4f857eb-f57d-44bd-9775-0e381d9b412b",
 CellID->635566788],
Cell[150896, 4160, 126, 2, 70, "Output",ExpressionUUID->"2bd3aadb-abd9-4af1-843c-63f74a896267",
 CellID->387345738]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "2"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[151276, 4172, 2451, 66, 70, "SeeAlsoSection",ExpressionUUID->"09ff13c1-ed4d-4389-96f3-a7451e2afa36"],
Cell[153730, 4240, 2631, 65, 70, "TutorialsSection",ExpressionUUID->"bc0dca13-0a66-41a8-83ff-cb2a1f664cfd"],
Cell[156364, 4307, 1124, 28, 70, "MoreAboutSection",ExpressionUUID->"482a0e27-d08b-4f7c-8f46-0a1caa378f1e"],
Cell[157491, 4337, 2094, 59, 70, "RelatedLinksSection",ExpressionUUID->"2f9d65c4-7879-4cb7-ac93-26b5d2e4318e"],
Cell[159588, 4398, 78, 0, 70, "FooterCell",ExpressionUUID->"df977322-06d9-443a-8dd7-a6479e5817e4"]
}
]
*)

(* End of internal cache information *)
