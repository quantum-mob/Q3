(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[    183894,       4898]
NotebookOptionsPosition[    159672,       4400]
NotebookOutlinePosition[    162590,       4467]
CellTagsIndexPosition[    162503,       4462]
WindowTitle->ControlledGate
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["QUANTUM MOB/ Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "a4932a88-0838-443d-9b28-13a91e86b4c5"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "1badf007-7670-4389-baf4-8345175f7cf1"],
        Background->LightDarkSwitched[
          RGBColor[0.490196, 0.576471, 0.690196]],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "5814928f-b126-4907-84b0-a11d134bb728"]
         }],ExpressionUUID->"648b3062-7bb3-4ea2-a2ac-e25cb0a31973"],
         StripOnInput->False],{
        StyleBox[
          "\"QuantumCircuit\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/QuantumCircuit"], 
         StyleBox["\"CNOT\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/CNOT"], 
         StyleBox["\"CZ\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/CZ"], 
         StyleBox[
          "\"ControlledPower\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/ControlledPower"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "1e9aa281-d071-4c7d-8b32-eb96a96b31cd"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "cec4f368-7974-4fe4-aa22-2aa42557e3dc"]
         }],ExpressionUUID->"9da6006d-04e4-4080-a416-7289ccdbfa72"],
         StripOnInput->False],{
        "\"Q3: Symbolic Quantum Simulation\"" :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/guide/Q3"], 
         "\"Quantum Information Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/guide/QuantumInformationSystems"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "307eeeb6-adff-49c5-8a9c-de58dcd23018"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "0e30aba8-fa86-440a-b780-d2d3cd6e5ce0"]
         }],ExpressionUUID->"c795dbf8-a760-4501-b56f-4fc1cf459177"],
         StripOnInput->False],{
        "\"Two-Qubit Gates\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/TwoQubitGates"], 
         "\"Quantum Computation: Overview\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuantumComputationOverview"], 
         "\"Multi-Control Unitary Gates\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/MultiControlUnitaryGates"], 
         "\"Quantum Information Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuantumInformationSystems"], 
         "\"Quick Quantum Computing with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuickQuantumComputingWithQ3"], 
         "\"Q3: Quick Start\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/Q3QuickStart"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "dd5954ec-6e61-4993-8096-8a107fdd363e"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "9a969ec0-f4a2-4b01-9ce1-02ac541dee59"]
         }],ExpressionUUID->"1cb7d7b4-5399-46bc-be03-430a1c9bcf39"],
         StripOnInput->False],{
        "\"QuantumMob/Q3/ref/ControlledGate\"" :> None, 
         "\"Copy Wolfram Documentation Center URL\"" :> 
         CopyToClipboard["QuantumMob/Q3/ref/ControlledGate"], Delimiter, 
         "\"Copy web URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{
               Cell[BoxData[
                 MakeBoxes[
                  Hyperlink[
                   "http://reference.wolfram.com/language/QuantumMob/Q3/ref/\
ControlledGate.html"], StandardForm]], "Input", TextClipboardType -> 
                 "PlainText"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], 
         "\"Go to web URL\"" :> 
         FrontEndExecute[{
           NotebookLocate[{
             URL[(If[TrueQ[False], 
                  "http://reference.wolfram.com/system-modeler/", 
                  "http://reference.wolfram.com/language/"] <> 
                "QuantumMob/Q3/ref/ControlledGate") <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "68769a0b-d593-4202-be50-bb34b62cf260"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "44d80e6a-5a47-4a3d-9afc-698e110805d7"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"b717ddab-84cb-471a-97ca-dfc09725d2d9"],

Cell["QuantumMob`Q3`", "ContextNameCell",ExpressionUUID->"36ad854a-8e14-4740-95e1-7abd5fcf2b5a"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "ControlledGate", "ObjectName",ExpressionUUID->
      "55161f26-6ff8-4cc9-8fa7-ecd33404ca22"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"3bce4a8b-1c35-4b19-b11c-3054e2a0cb3d"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "4447affd-1e87-40d5-8d0b-729b4462b437"]
    }],ExpressionUUID->"cdb090df-b0f0-446e-9b63-ce5f66b96d80"], 
    "\[SpanFromLeft]"}
  }]], "ObjectNameGrid",ExpressionUUID->"fccd315f-db5c-431c-b3c9-\
80d885c712e9"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["2", "TR"]], ",", "\[Ellipsis]"}], "}"}], ",", 
        StyleBox["op", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "528f74b4-d5bb-4ff0-b9f7-352a27cb33a5"],
     "\[LineSeparator]represents a multi-control multi-target unitary gate \
with control qubits ",
     Cell[BoxData[
      RowBox[{
       SubscriptBox[
        StyleBox["c", "TI"], 
        StyleBox["1", "TR"]], ",", 
       SubscriptBox[
        StyleBox["c", "TI"], 
        StyleBox["2", "TR"]], ",", "\[Ellipsis]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "91936365-546b-4fad-a9a4-2588ea016817"],
     " and unitary operator ",
     Cell[BoxData[
      StyleBox["op", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "02ff081d-aad5-46b3-8102-e93a9b3327c2"],
     " acting on the target qubits."
    }],ExpressionUUID->"8655db07-4e6f-41e1-a51e-3fc30a59572c"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["c", "TI"], ",", 
        StyleBox["op", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "9b5a0779-de1d-44a0-9a48-be5b8fbd119b"],
     "\[LineSeparator]is equivalent to ",
     Cell[BoxData[
      RowBox[{"ControlledGate", "[", 
       RowBox[{
        RowBox[{"{", 
         StyleBox["c", "TI"], "}"}], ",", 
        StyleBox["op", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "55188ec0-b3b2-454d-bdd7-b2273a8feca7"],
     "."
    }],ExpressionUUID->"f55de2f9-0c0b-49cb-a16f-7af7301ba2c7"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           SubscriptBox[
            StyleBox["c", "TI"], 
            StyleBox["1", "TR"]], "\[Rule]", 
           SubscriptBox[
            StyleBox["v", "TI"], 
            StyleBox["1", "TR"]]}], ",", 
          RowBox[{
           SubscriptBox[
            StyleBox["c", "TI"], 
            StyleBox["2", "TR"]], "\[Rule]", 
           SubscriptBox[
            StyleBox["v", "TI"], 
            StyleBox["2", "TR"]]}], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
        StyleBox["op", "TR"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "ab937080-a388-41d8-854b-c1d09577c995"],
     "\[LineSeparator]represents a variation of the controlled-unitary gate, \
where operator op operates when the control qubits ",
     Cell[BoxData[
      RowBox[{
       SubscriptBox[
        StyleBox["c", "TI"], 
        StyleBox["1", "TR"]], ",", 
       SubscriptBox[
        StyleBox["c", "TI"], 
        StyleBox["2", "TR"]], ",", 
       StyleBox["\[Ellipsis]", "TR"]}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "9fcb37b6-0086-4ebf-805d-5fec7a188029"],
     " take the logical values ",
     Cell[BoxData[
      RowBox[{
       SubscriptBox[
        StyleBox["v", "TI"], 
        StyleBox["1", "TR"]], ",", 
       SubscriptBox[
        StyleBox["v", "TI"], 
        StyleBox["2", "TR"]], ",", 
       StyleBox["\[Ellipsis]", "TR"]}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "772820df-3f1c-4076-ba8c-fececaeba768"],
     ", respectively."
    }],ExpressionUUID->"24134ca0-05e1-4f4b-8235-808744b1fd0f"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{
         StyleBox["c", "TI"], "\[Rule]", 
         StyleBox["v", "TI"]}], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "df30f423-83e2-453d-bb76-f625abb58c70"],
     "\[LineSeparator]is automatically converted to ",
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          StyleBox["c", "TI"], "\[Rule]", 
          StyleBox["v", "TI"]}], "}"}], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "38f4d630-7ee0-4802-bacf-9806e6e9846e"],
     "."
    }],ExpressionUUID->"ed4c7ac4-b68f-4b9d-8ee6-b0f0708ea563"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           SubscriptBox[
            StyleBox["c", "TI"], 
            StyleBox["1", "TR"]], ",", 
           SubscriptBox[
            StyleBox["c", "TI"], 
            StyleBox["2", "TR"]], ",", 
           StyleBox["\[Ellipsis]", "TR"]}], "}"}], "\[Rule]", 
         StyleBox["v", "TI"]}], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "3253b9bd-532e-429e-9683-51df06bdbded"],
     "\[LineSeparator]is automatically converted to ",
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledGate"]], 
         "paclet:QuantumMob/Q3/ref/ControlledGate", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           SubscriptBox[
            StyleBox["c", "TI"], 
            StyleBox["1", "TR"]], "\[Rule]", 
           StyleBox["v", "TI"]}], ",", 
          RowBox[{
           SubscriptBox[
            StyleBox["c", "TI"], 
            StyleBox["2", "TR"]], "\[Rule]", 
           StyleBox["v", "TI"]}], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "6f1dfbdf-7ffe-46c4-aef5-48031a818987"],
     "."
    }],ExpressionUUID->"56632cb4-01a1-4cbf-93b0-0fc44997536d"]}
  }]], "Usage",ExpressionUUID->"4710eef5-0775-407e-993b-ed4c4d69f92b"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[CurrentValue[
         EvaluationCell[], "CellGroupOpen"] =!= Closed, 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{
      13.600000000000003`, {-0.1685058593749993, 13.768505859375}}]],
    ExpressionUUID->"7da834ec-b8d6-4c34-ad13-d0f0175df67b"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"2a333355-9d7f-4f1a-98ef-b6e0c4fba316"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"f5079239-3be3-4307-8b14-3272090e141b"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"e6ce9521-3249-4913-bf14-f382dbd32773"]], \
"NotesSection",
 ShowGroupOpener->"Thumbnail",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->455642102,ExpressionUUID->"b19f398d-a4bf-4cd2-b2eb-10bf11871dad"],

Cell[TextData[{
 "If ",
 Cell[BoxData[
  StyleBox["op", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "2e631463-02a3-4a8a-a49f-8f3556bde02d"],
 " is an operator of the form ",
 Cell[BoxData[
  RowBox[{"T", "[", 
   RowBox[{
    StyleBox["j", "TI"], ",", "\[Ellipsis]", ",", 
    StyleBox["k", "TI"]}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "d1b9b0f7-9761-465c-b879-9cc8176513f5"],
 ", it is regarded to act on qubit ",
 Cell[BoxData[
  RowBox[{"T", "[", 
   RowBox[{
    StyleBox["j", "TI"], ",", "\[Ellipsis]", ",", 
    TemplateBox[{
      Cell[
       TextData["$"]], "paclet:ref/$"},
     "RefLink",
     BaseStyle->{"InlineFormula"}]}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "da7532da-7c2e-4be8-b342-838dd955675b"],
 "."
}], "Notes",
 CellID->1702748548,ExpressionUUID->"5fb83261-c367-4c0d-aa60-9ecfde7cd1fe"],

Cell[TextData[{
 "Otherwise, ",
 Cell[BoxData[
  StyleBox["op", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "34d12ba8-f102-4f81-906c-c0c091bdd9a7"],
 " acts on the qubits involved in ",
 Cell[BoxData[
  StyleBox["op", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "159eed7a-2f27-4f2d-8745-9d3c5b8738ea"],
 "."
}], "Notes",
 CellID->491054349,ExpressionUUID->"8c9b1845-995a-484e-95a7-2ba5297c1d73"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Elaborate"]], "paclet:QuantumMob/Q3/ref/Elaborate", 
     "QuantumMob Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{"ControlledGate", "[", "\[Ellipsis]", "]"}], "]"}]], 
  "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "62ff3bce-73b3-49d9-9165-ea8a8d67ced2"],
 " expands ",
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["ControlledGate"]], "paclet:QuantumMob/Q3/ref/ControlledGate", 
     "QuantumMob Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", "\[Ellipsis]", "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "1fb127d4-bc04-416b-a36b-4542082add62"],
 " explicitly in terms of the Pauli operators."
}], "Notes",
 CellID->2019652723,ExpressionUUID->"2cf253de-24a3-4cf4-8994-16e017d98fe6"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Matrix"]], "paclet:QuantumMob/Q3/ref/Matrix", 
     "QuantumMob Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{"ControlledGate", "[", "\[Ellipsis]", "]"}], "]"}]], 
  "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "40ce3e63-f164-4806-99c5-3b581bc1125b"],
 " gives the matrix representation of ",
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["ControlledGate"]], "paclet:QuantumMob/Q3/ref/ControlledGate", 
     "QuantumMob Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", "\[Ellipsis]", "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "2733c515-5dba-4d7f-a89a-2c29ebc73ab7"],
 "."
}], "Notes",
 CellID->384437925,ExpressionUUID->"512449a0-7316-4ce5-8c8a-b2d382437cb2"],

Cell[TextData[{
 "[EXPERIMENTAL] ",
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Unfold"]], "paclet:ref/Unfold"},
    "RefLink",
    BaseStyle->{"InlineFormula"}], "[", 
   RowBox[{"ControlledGate", "[", 
    StyleBox["\[Ellipsis]", "TR"], "]"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "7fbaa20c-743d-4d17-95de-15492aa33a3a"],
 " decomposes the controlled-unitary gate as a product of single-qubit \
rotations and ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["CNOT"]], "paclet:QuantumMob/Q3/ref/CNOT", 
    "QuantumMob Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "e87c811a-a4ba-433a-a82d-11b93791b043"],
 " gates."
}], "Notes",
 CellID->1895961038,ExpressionUUID->"fc0d6ac1-99f7-42a4-a107-2e0e8abcbbd9"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.251494140625001, 9.348505859375003}}]],
  ExpressionUUID->"97ad3d8b-79ea-401b-b2d5-f48c13d865ff"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"59274f6d-b62c-4668-9fd3-f50325c1be7a"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(10)", "ExampleCount",ExpressionUUID->
  "3c0136fd-6f9c-4a1c-ae6c-addc0d9d5e17"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->50123112,ExpressionUUID->"e916ec90-0856-4507-a351-4f7474fe1e34"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<QuantumMob`Q3`\>\"", "]"}]], "Input", "ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->851865642,ExpressionUUID->"1951e91c-ff18-44f0-8bc1-9833f44a4666"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.551318359375001, 9.048681640625002}}]],
  ExpressionUUID->"e01840ed-100d-4ce8-a613-368ebc6c5357"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"f5a526ea-2baa-48fe-b1e3-890dd9823856"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(4)", "ExampleCount",ExpressionUUID->
  "d1e612b4-da02-4318-a830-786c1715dbc1"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->605553760,ExpressionUUID->"8152af1d-ad25-4162-8b89-88d64e602ebc"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1403695601,ExpressionUUID->"c82910c6-d42d-4bb6-9045-93204408bbeb"],

Cell["\<\
This is a controlled-U operator. Usually it remains unevaluated.\
\>", "ExampleText",
 CellID->493202586,ExpressionUUID->"c907824b-0a44-4b35-9c04-99ca2e2015dc"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"ControlledGate", "[", 
   RowBox[{
    RowBox[{"S", "[", "1", "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"2", ",", "1"}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1804103712,ExpressionUUID->"242fbdc2-aeda-4a4d-ad5a-cda6a15ddb40"],

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "1"},
        "RowWithSeparators"]],
      $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}], "}"}], ",", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 1]]}], "]"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->780170084,ExpressionUUID->"2e9a5edb-8537-4a7f-be21-622964ec4ca7"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "[", "op", "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1699357571,ExpressionUUID->"1234b9fa-3771-4110-ba90-4222f2912e43"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "2"], "-", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1]]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 1]]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1930936853,ExpressionUUID->"20f73a6f-f462-4fe5-9e88-2b288cf19c5b"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Matrix", "[", "op", "]"}], "//", "MatrixForm"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->388513540,ExpressionUUID->"1ed8f59b-18f9-478c-968e-514956375f58"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", "1", "0", "0"},
     {"0", "0", "0", "1"},
     {"0", "0", "1", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {4, 4}, 0, {
     1, {{0, 1, 2, 4, 6}, {{1}, {2}, {4}, {3}, {3}, {4}}}, {1, 1, 1, 0, 1, 
      0}}]]]]], "Output",
 CellLabel->"Out[4]//MatrixForm=",
 CellID->482814907,ExpressionUUID->"7b8c07ce-b4b1-491c-a254-93f941437d1c"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "[", "op", "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->310774973,ExpressionUUID->"a018654e-cced-490c-a88d-1cd9e71f8a5b"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "2"], "-", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1]]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 1]]}]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->1476923583,ExpressionUUID->"fe549a9f-6b9c-495b-9886-32d355a638db"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"op", "**", 
   RowBox[{"S", "[", 
    RowBox[{"2", ",", "3"}], "]"}]}], "//", "Elaborate"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->227378000,ExpressionUUID->"63ea661e-cfd3-4f8f-84c0-daae804b2dcc"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "2"], " ", "\[ImaginaryI]", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 2]]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3]]]}], "-", 
  RowBox[{
   FractionBox["1", "2"], " ", "\[ImaginaryI]", " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 2]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}]}]], "Output",
 CellLabel->"Out[6]=",
 CellID->2038667455,ExpressionUUID->"82bd61f7-2c53-440f-9fa6-7c40806dfe38"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "a3149cae-0c5f-4310-93dc-fc1d6bc395e1"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1117862758,ExpressionUUID->"00f3e541-a24c-4e69-a893-a74bbac9d3e9"],

Cell["\<\
In the quantum circuit model, a controlled-U gate is depicted by the \
following quantum circuit element.\
\>", "ExampleText",
 CellID->66695600,ExpressionUUID->"2ca9cdbe-d89b-4cb3-9cdc-e47bd50aa523"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"QuantumCircuit", "[", "op", "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->287461810,ExpressionUUID->"70f2a3dd-2269-4877-890c-4294d79fe205"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}}], {
     LineBox[{{1, -1}, {1, -2}}], DiskBox[{1, -1}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox["\<\"X\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-2.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, 
    $CellContext`S[2, 1]]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->782328300,ExpressionUUID->"e55c83f7-532e-4745-9afc-0db2aa0852d0"]
}, Open  ]],

Cell[TextData[{
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["CNOT"]], "paclet:QuantumMob/Q3/ref/CNOT", 
    "QuantumMob Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "cbfbc302-aee8-4acc-9ad5-6c7667034352"],
 " is a special case of controlled-U gate."
}], "ExampleText",
 CellID->376653752,ExpressionUUID->"88f1a058-45b0-4bc0-a290-1217983a6326"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"x1", "=", 
  RowBox[{
   RowBox[{"Elaborate", "@", 
    RowBox[{"ControlledGate", "[", 
     RowBox[{
      RowBox[{"S", "[", "1", "]"}], ",", 
      RowBox[{"S", "[", 
       RowBox[{"2", ",", "1"}], "]"}]}], "]"}]}], "//", "Simplify"}]}], "\[IndentingNewLine]", 
 RowBox[{"x2", "=", 
  RowBox[{
   RowBox[{"Elaborate", "@", 
    RowBox[{"CNOT", "[", 
     RowBox[{
      RowBox[{"S", "[", "1", "]"}], ",", 
      RowBox[{"S", "[", "2", "]"}]}], "]"}]}], "//", "Simplify"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"x1", "-", "x2"}], "//", "Simplify"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1100337461,ExpressionUUID->"85f60bcb-1dc8-4fca-bf23-8a8dc797f03c"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "2"], " ", 
  RowBox[{"(", 
   RowBox[{"1", "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 1]]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[1, 3]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[2, 1]]}], ")"}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1696851166,ExpressionUUID->"1f0ba1b3-6e4c-4669-9dc1-bd9e28f9e554"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "2"], " ", 
  RowBox[{"(", 
   RowBox[{"1", "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 1]]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[1, 3]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[2, 1]]}], ")"}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->394714802,ExpressionUUID->"4bcc44e3-5202-443a-9371-4906a6f4276a"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[2]=",
 CellID->394691631,ExpressionUUID->"552e54bb-fd66-484b-8faf-f3b12865d5a2"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"x1", "=", 
  RowBox[{
   RowBox[{"Elaborate", "@", 
    RowBox[{"ControlledGate", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"S", "[", "1", "]"}], ",", 
        RowBox[{"S", "[", "2", "]"}]}], "}"}], ",", 
      RowBox[{"S", "[", 
       RowBox[{"3", ",", "1"}], "]"}]}], "]"}]}], "//", "Simplify"}]}], "\[IndentingNewLine]", 
 RowBox[{"x2", "=", 
  RowBox[{
   RowBox[{"Elaborate", "[", 
    RowBox[{"Toffoli", "[", 
     RowBox[{
      RowBox[{"S", "[", "1", "]"}], ",", 
      RowBox[{"S", "[", "2", "]"}], ",", 
      RowBox[{"S", "[", "3", "]"}]}], "]"}], "]"}], "//", "Simplify"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"x1", "-", "x2"}], "//", "Simplify"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1391490451,ExpressionUUID->"ecd55cc8-9858-4b67-b607-7f2ca9fcc4b3"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "4"], " ", 
  RowBox[{"(", 
   RowBox[{"3", "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 3]]], "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[3, 1]]], "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[2, 3], 
      $CellContext`S[3, 1]]], "+", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 3], 
      $CellContext`S[3, 1]]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[1, 3]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[2, 3]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[3, 1]]}], ")"}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->5256634,ExpressionUUID->"f06a451e-64e7-4b09-9eaf-126848fd9239"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "4"], " ", 
  RowBox[{"(", 
   RowBox[{"3", "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 3]]], "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[3, 1]]], "-", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[2, 3], 
      $CellContext`S[3, 1]]], "+", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 3], 
      $CellContext`S[3, 1]]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[1, 3]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[2, 3]], "+", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[3, 1]]}], ")"}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->301418111,ExpressionUUID->"29b55fb6-c216-4f00-b738-46b3436cf13e"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->20268304,ExpressionUUID->"3446e027-103b-4412-a203-e2d518449055"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "46a70da9-1fee-4efd-87ea-02300ba1c984"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1893551625,ExpressionUUID->"83c1955b-038c-4633-a6fd-546afad2dc26"],

Cell["\<\
Here, the controlled-unitary gate has the unitary operator acting on multiple \
qubits.\
\>", "ExampleText",
 CellID->1781572424,ExpressionUUID->"4c2ec941-4689-4869-8e2a-4905ee1daa2f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"U", "=", 
  RowBox[{
   RowBox[{"Rotation", "[", 
    RowBox[{"\[Phi]", ",", 
     RowBox[{"S", "[", 
      RowBox[{"2", ",", "1"}], "]"}]}], "]"}], "**", 
   RowBox[{"Rotation", "[", 
    RowBox[{"\[Theta]", ",", 
     RowBox[{"S", "[", 
      RowBox[{"3", ",", "2"}], "]"}]}], "]"}]}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->907561411,ExpressionUUID->"a1f4aa50-d61a-49a4-9364-2e2f12497f53"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       TagBox[
        RowBox[{"Exp", 
          RowBox[{"(", 
            RowBox[{
              RowBox[{"(", 
                RowBox[{"0.`", "\[VeryThinSpace]", "+", 
                  RowBox[{"0.2256710094531388`", " ", "\[ImaginaryI]"}]}], 
                ")"}], " ", 
              InterpretationBox[
               TemplateBox[{"S", 
                 TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
                 TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
                "Subsuperscript"], 
               $CellContext`S[2, 1]]}], ")"}]}], DisplayForm], 
       QuantumMob`Q3`Rotation[-0.4513420189062776, {1, 0, 0}, 
        $CellContext`S[2, QuantumMob`Q3`$]]], 
      InterpretationBox[
       TagBox[
        RowBox[{"Exp", 
          RowBox[{"(", 
            RowBox[{
              RowBox[{"-", 
                FractionBox["1", "2"]}], " ", "\[ImaginaryI]", " ", 
              "\[Theta]", " ", 
              InterpretationBox[
               TemplateBox[{"S", 
                 TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
                 TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
                "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
               $CellContext`S[3, 2]]}], ")"}]}], DisplayForm], 
       QuantumMob`Q3`Rotation[$CellContext`\[Theta], {0, 1, 0}, 
        $CellContext`S[3, QuantumMob`Q3`$]]]}, "RowWithSeparators"]},
   "RowDefault"],
  QuantumMob`Q3`Multiply[
   QuantumMob`Q3`Rotation[-0.4513420189062776, {1, 0, 0}, 
    $CellContext`S[2, QuantumMob`Q3`$]], 
   QuantumMob`Q3`Rotation[$CellContext`\[Theta], {0, 1, 0}, 
    $CellContext`S[3, QuantumMob`Q3`$]]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->1346969102,ExpressionUUID->"1aaf87d4-83f0-4f87-be10-17c07f807d0d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledGate", "[", 
    RowBox[{
     RowBox[{"S", "[", "1", "]"}], ",", "U", ",", 
     RowBox[{"\"\<Label\>\"", "->", "\"\<U\>\""}]}], "]"}], "]"}]}]], "Input",\

 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1556697824,ExpressionUUID->"575f0fef-655c-483a-918e-2ce07cb56ce7"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}}], DiskBox[{1, -1}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.5}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-3.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, 
    QuantumMob`Q3`Multiply[
     QuantumMob`Q3`Rotation[-0.4513420189062776, {1, 0, 0}, 
      $CellContext`S[2, QuantumMob`Q3`$]], 
     QuantumMob`Q3`Rotation[$CellContext`\[Theta], {0, 1, 0}, 
      $CellContext`S[3, QuantumMob`Q3`$]]], "Label" -> "U"]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1884574287,ExpressionUUID->"b2e283fd-cedd-4fd7-8abd-727353055000"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "[", "qc", "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1323430295,ExpressionUUID->"541e7a20-bbfa-472a-bd07-444a23e9eb4a"],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "2"], "+", 
  RowBox[{"0.48732209057491`", " ", 
   RowBox[{"Cos", "[", 
    FractionBox["\[Theta]", "2"], "]"}]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.11188020395806939`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   RowBox[{"Cos", "[", 
    FractionBox["\[Theta]", "2"], "]"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "2"], "-", 
     RowBox[{"0.48732209057491`", " ", 
      RowBox[{"Cos", "[", 
       FractionBox["\[Theta]", "2"], "]"}]}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.11188020395806939`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   RowBox[{"Cos", "[", 
    FractionBox["\[Theta]", "2"], "]"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 1]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.48732209057491`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[3, 2]]], " ", 
   RowBox[{"Sin", "[", 
    FractionBox["\[Theta]", "2"], "]"}]}], "+", 
  RowBox[{"0.11188020395806939`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[2, 1], 
     $CellContext`S[3, 2]]], " ", 
   RowBox[{"Sin", "[", 
    FractionBox["\[Theta]", "2"], "]"}]}], "-", 
  RowBox[{"0.11188020395806939`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1], 
     $CellContext`S[3, 2]]], " ", 
   RowBox[{"Sin", "[", 
    FractionBox["\[Theta]", "2"], "]"}]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.48732209057491`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[3, 2]], " ", 
   RowBox[{"Sin", "[", 
    FractionBox["\[Theta]", "2"], "]"}]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->803732006,ExpressionUUID->"8e96fbb6-9dc9-40e1-bfbe-3f3ec64434f4"]
}, Open  ]],

Cell["It is more common to have multiple controlled qubits.", "ExampleText",
 CellID->796325451,ExpressionUUID->"1950b447-0f6a-4494-8765-7aa838248fff"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledGate", "[", 
    RowBox[{
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}]}], ",", 
     RowBox[{"Rotation", "[", 
      RowBox[{"\[Phi]", ",", 
       RowBox[{"S", "[", 
        RowBox[{"3", ",", "2"}], "]"}]}], "]"}]}], "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1688856124,ExpressionUUID->"2c4ac056-bd8f-48ca-804e-08b323e8a9e1"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}}], DiskBox[{1, -1}, 0.09], 
     DiskBox[{1, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-3.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
    QuantumMob`Q3`Rotation[-0.4513420189062776, {0, 1, 0}, 
     $CellContext`S[3, QuantumMob`Q3`$]]]]]], "Output",
 CellLabel->"Out[4]=",
 CellID->651685212,ExpressionUUID->"a4f9138d-459e-4f94-a781-ac9cec9f7e6f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "@", "qc"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->97902928,ExpressionUUID->"9889686e-d7cc-4669-b2ec-2ce469f8846f"],

Cell[BoxData[
 RowBox[{"0.993661045287455`", "\[VeryThinSpace]", "-", 
  RowBox[{"0.006338954712545003`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.05594010197903469`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[3, 2]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.05594010197903469`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[2, 3], 
     $CellContext`S[3, 2]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.05594010197903469`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3], 
     $CellContext`S[3, 2]]]}], "+", 
  RowBox[{"0.006338954712545003`", " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "+", 
  RowBox[{"0.006338954712545003`", " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.05594010197903469`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[3, 2]]}]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->706758384,ExpressionUUID->"c1e689f1-f162-4d31-a323-a44e7925f915"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "41590ef3-0f46-4197-b5ea-142173ef21fa"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1616593910,ExpressionUUID->"7bf5d895-82b9-4df7-b428-4e23fe4ccc57"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledGate", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2"}], "}"}]}], "->", 
      RowBox[{"{", 
       RowBox[{"1", ",", "0"}], "}"}]}], ",", 
     RowBox[{"Rotation", "[", 
      RowBox[{"\[Phi]", ",", 
       RowBox[{"S", "[", 
        RowBox[{"3", ",", "2"}], "]"}]}], "]"}]}], "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->423687378,ExpressionUUID->"d184a8f4-6cbd-4229-a300-2b3228a97806"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}}], DiskBox[{1, -1}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], DiskBox[{1, -2}, 0.09]}, 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-3.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 0}, 
    QuantumMob`Q3`Rotation[-0.4513420189062776, {0, 1, 0}, 
     $CellContext`S[3, QuantumMob`Q3`$]]]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->756108331,ExpressionUUID->"8abe8978-0124-4d02-97b0-30bf104bd435"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"2", ",", "1"}], "]"}], ",", 
    RowBox[{"ControlledGate", "[", 
     RowBox[{
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2"}], "}"}]}], ",", 
      RowBox[{"Rotation", "[", 
       RowBox[{"\[Phi]", ",", 
        RowBox[{"S", "[", 
         RowBox[{"3", ",", "2"}], "]"}]}], "]"}]}], "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"2", ",", "1"}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->446009393,ExpressionUUID->"e27bcbc0-8b36-443a-924a-8bf91b9dee3c"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}}], {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox["\<\"X\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -3}}], 
     DiskBox[{2, -1}, 0.09], DiskBox[{2, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -3.4}, {2.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {2., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"X\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {3., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->190.79999999999998`,
   PlotRange->{{0, 4}, {-3.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   $CellContext`S[2, 1], 
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
    QuantumMob`Q3`Rotation[-0.4513420189062776, {0, 1, 0}, 
     $CellContext`S[3, QuantumMob`Q3`$]]], 
   $CellContext`S[2, 1]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1251979818,ExpressionUUID->"92c8a605-0047-411a-8c1e-a82d4fc7ee8a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"new", "-", "qc"}], "//", "Elaborate"}], "//", 
  "Simplify"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->2072193516,ExpressionUUID->"b3908621-b530-49c7-a67a-2da48defd8e4"],

Cell[BoxData[
 RowBox[{"0.`", "\[VeryThinSpace]", "+", 
  RowBox[{"0.`", " ", "\[ImaginaryI]"}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->980027820,ExpressionUUID->"bf85c56b-bdbf-42ef-a1b4-5c8d6cf674cb"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]]]],ExpressionUUID->
  "ac590565-b9f7-40b2-8997-6c16ee172481"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"f30bc832-1020-46f3-a9ad-583034af37e4"],
 "Scope",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(4)", "ExampleCount",ExpressionUUID->
  "d7d42b7c-9093-41e6-bea1-f60e384ed3e6"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1293636265,ExpressionUUID->"30b0bc32-c521-436d-ad14-2ec3a57e5eb1"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "ExampleSubsection", "0"}, Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]]]],ExpressionUUID->
  "b061d1f0-736e-4ffd-b88f-ee8e8d3edc93"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"70875c31-6884-40c0-8a33-f2d8ef40b95c"],
 "Unfold",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(4)", "ExampleCount",ExpressionUUID->
  "903a71cd-e3cc-4795-9a30-04ebba2ad6b1"]
}], "ExampleSubsection", "ExampleSubsection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1965812958,ExpressionUUID->"fb341cfa-73c0-44a9-b100-592a923f8c7a"],

Cell[BoxData["Unfold"], "Output",
 CellLabel->"Out[1]=",
 CellID->127998250,ExpressionUUID->"d72f18ed-721f-498e-be28-2d07dd6237cb"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S", ",", "T"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1751976307,ExpressionUUID->"92fbb74d-10ab-485c-88e4-d4574c62b292"],

Cell["\<\
Consider a Pauli string; i.e., the tensor product of single-qubit Pauli \
operators.\
\>", "ExampleText",
 CellID->458298458,ExpressionUUID->"66e911a2-33fc-4eac-9152-4641d69c458f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{"T", "[", 
    RowBox[{"1", ",", "2"}], "]"}], "**", 
   RowBox[{"T", "[", 
    RowBox[{"2", ",", "2"}], "]"}], "**", 
   RowBox[{"T", "[", 
    RowBox[{"3", ",", "1"}], "]"}]}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1005552493,ExpressionUUID->"7a31d126-0cce-4fbb-a794-4314eb98d18a"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       TemplateBox[{"T", 
         TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
         TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
        "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
       $CellContext`T[1, 2]], 
      InterpretationBox[
       TemplateBox[{"T", 
         TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
         TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
        "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
       $CellContext`T[2, 2]], 
      InterpretationBox[
       TemplateBox[{"T", 
         TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
         TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
        "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
       $CellContext`T[3, 1]]}, "RowWithSeparators"]},
   "RowDefault"],
  QuantumMob`Q3`Multiply[
   $CellContext`T[1, 2], 
   $CellContext`T[2, 2], 
   $CellContext`T[3, 1]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->1635457103,ExpressionUUID->"f09e0689-4dd0-4c98-87c1-ec3604efe1e0"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ctr", "=", 
  RowBox[{"ControlledGate", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], ",", "op", ",", 
    RowBox[{"\"\<Label\>\"", "->", "\"\<U\>\""}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1447119510,ExpressionUUID->"841bc915-3176-4d9d-95ba-6c02d79e03a1"],

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      InterpretationBox[
       SubscriptBox["S", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}], ",", 
     RowBox[{
      InterpretationBox[
       SubscriptBox["S", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`S[2, QuantumMob`Q3`$]], "\[Rule]", "1"}]}], "}"}], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"T", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`T[1, 2]], 
        InterpretationBox[
         TemplateBox[{"T", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`T[2, 2]], 
        InterpretationBox[
         TemplateBox[{"T", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`T[3, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`T[1, 2], 
     $CellContext`T[2, 2], 
     $CellContext`T[3, 1]]], ",", 
   RowBox[{"\<\"Label\"\>", "\[Rule]", "\<\"U\"\>"}]}], "]"}]], "Output",
 CellLabel->"Out[4]=",
 CellID->1484332168,ExpressionUUID->"1263ee66-a33b-4999-bf5f-9ba67a2f6bc7"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", "ctr", "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1905745843,ExpressionUUID->"48cef4cc-4762-4140-8913-2ec2cae2556e"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
     0, -4}, {2, -4}}, {{0, -5}, {2, -5}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}, {1, -5}}], 
     DiskBox[{1, -1}, 0.09], DiskBox[{1, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -5.4}, {1.4, -2.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-5.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
    QuantumMob`Q3`Multiply[
     $CellContext`T[1, 2], 
     $CellContext`T[2, 2], 
     $CellContext`T[3, 1]], "Label" -> "U"]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->2000704024,ExpressionUUID->"42c841bf-2ebf-4c6b-a62b-8db8493ae14f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Unfold", "@", "ctr"}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->722936882,ExpressionUUID->"0cdf37d0-79dc-495f-ad70-1c5745cc5bb2"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}, {{
     0, -4}, {4, -4}}, {{0, -5}, {4, -5}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}}], DiskBox[{1, -1}, 0.09], 
     DiskBox[{1, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
      StyleBox["\<\"Y\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {1., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -4}}], 
     DiskBox[{2, -1}, 0.09], DiskBox[{2, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, InsetBox[
      StyleBox["\<\"Y\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {2., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{3, -1}, {3, -2}, {3, -5}}], 
     DiskBox[{3, -1}, 0.09], DiskBox[{3, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -5.4}, {3.4, -4.6}]}, InsetBox[
      StyleBox["\<\"X\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {3., -5.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->190.79999999999998`,
   PlotRange->{{0, 4}, {-5.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
    $CellContext`T[1, 2], {}], 
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
    $CellContext`T[2, 2], {}], 
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
    $CellContext`T[3, 1], {}]]]], "Output",
 CellLabel->"Out[6]=",
 CellID->533586642,ExpressionUUID->"97b36037-aebc-40c3-88c8-483c333c239e"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "9636daef-72ef-4a08-8709-f009ebcb9c6a"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->2123194462,ExpressionUUID->"a79f203e-c159-4dfe-a17e-dea5712358bd"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Expand"]], "paclet:ref/Expand"},
    "RefLink",
    BaseStyle->{"InlineFormula"}], "[", 
   RowBox[{
    TemplateBox[{
      Cell[
       TextData["ControlledGate"]], "paclet:QuantumMob/Q3/ref/ControlledGate",
       "QuantumMob Package Symbol"},
     "PackageLink",
     BaseStyle->"InlineFormula"], "[", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        SubscriptBox[
         StyleBox["c", "TI"], 
         StyleBox["1", "TR"]], ",", 
        SubscriptBox[
         StyleBox["c", "TI"], 
         StyleBox["2", "TR"]], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        SubscriptBox[
         StyleBox["v", "TI"], 
         StyleBox["1", "TR"]], ",", 
        SubscriptBox[
         StyleBox["v", "TI"], 
         StyleBox["2", "TR"]], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "}"}]}], ",", " ", 
     StyleBox["op", "TI"]}], "]"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "6c95a2ec-c20c-4f63-a3dc-3fec4f27cca1"],
 " decomposes the controlled-unitary gate into a product of the CNOT and \
single-qubit rotations. Note that this ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["Expand"]], "paclet:ref/Expand"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "e9f528e6-6b39-45b9-8860-c809f12699d0"],
 " feature of ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["ControlledGate"]], "paclet:QuantumMob/Q3/ref/ControlledGate", 
    "QuantumMob Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "d07bbef6-237d-4946-8479-3b84b811d93c"],
 " is still experimental (as of Q3 v2.11.2)."
}], "ExampleText",
 CellID->227879916,ExpressionUUID->"b8e8ca7f-a9c3-4f43-af7e-e654bb4b966c"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S", ",", "T"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1801264145,ExpressionUUID->"3fbba9b1-9b6a-4b08-8a8b-bd4622c1d5cd"],

Cell["Consider a single-qubit unitary gate:", "ExampleText",
 CellID->1033495556,ExpressionUUID->"c099c147-1b32-4122-92c7-902dca333a7e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{"Exp", "[", 
    RowBox[{
     RowBox[{"-", "I"}], "*", 
     RowBox[{"Pi", "/", "4"}]}], "]"}], "*", 
   RowBox[{"EulerRotation", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Pi", "/", "3"}], ",", 
       RowBox[{"Pi", "/", "2"}], ",", 
       RowBox[{"Pi", "/", "6"}]}], "}"}], ",", "T"}], "]"}]}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1096870451,ExpressionUUID->"287d995f-5ef6-48cd-a0a7-3c8c0e1be08d"],

Cell[BoxData[
 RowBox[{
  SuperscriptBox["\[ExponentialE]", 
   RowBox[{"-", 
    FractionBox[
     RowBox[{"\[ImaginaryI]", " ", "\[Pi]"}], "4"]}]], " ", 
  RowBox[{"EulerRotation", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      FractionBox["\[Pi]", "3"], ",", 
      FractionBox["\[Pi]", "2"], ",", 
      FractionBox["\[Pi]", "6"]}], "}"}], ",", 
    InterpretationBox["T",
     $CellContext`T[QuantumMob`Q3`$]]}], "]"}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->654678359,ExpressionUUID->"728300e2-af83-4a17-a619-3ce1eb66a4d9"]
}, Open  ]],

Cell["Get the matrix representation of the above gate:", "ExampleText",
 CellID->1955102746,ExpressionUUID->"9d6734f6-73a7-4a70-a480-9a0606a43d34"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{
    RowBox[{"Matrix", "[", "op", "]"}], "//", "SimplifyThrough"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->2059470547,ExpressionUUID->"b30d99c0-6580-4910-926d-adf36260fcf5"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"-", 
       FractionBox["\[ImaginaryI]", 
        SqrtBox["2"]]}], 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{"\[ImaginaryI]", "+", 
          SqrtBox["3"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]},
     {
      FractionBox[
       RowBox[{
        RowBox[{"-", "\[ImaginaryI]"}], "+", 
        SqrtBox["3"]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]], 
      FractionBox["1", 
       SqrtBox["2"]]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {2, 2}, 0, {
     1, {{0, 2, 4}, {{1}, {2}, {2}, {1}}}, {
      Complex[0, -1] 2^Rational[-1, 2], Complex[0, Rational[1, 2]] 
       2^Rational[-1, 2] (Complex[0, 1] + 3^Rational[1, 2]), 2^
       Rational[-1, 2], Rational[1, 2] 
       2^Rational[-1, 2] (Complex[0, -1] + 3^Rational[1, 2])}}]]]]], "Output",\

 CellLabel->"Out[3]//MatrixForm=",
 CellID->1226843977,ExpressionUUID->"71d6b990-dff0-4a4e-bec6-ce29d859fa91"]
}, Open  ]],

Cell["\<\
Now, consider a controlled-unitary gate with the above gate acting on the \
target qubit:\
\>", "ExampleText",
 CellID->1600123813,ExpressionUUID->"42eafaca-4399-4e5e-b1a9-5fb3dbffbeb1"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"cu", "=", 
   RowBox[{"ControlledGate", "[", 
    RowBox[{
     RowBox[{"S", "[", "1", "]"}], ",", "op", ",", 
     RowBox[{"\"\<Label\>\"", "->", "\"\<U\>\""}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", "cu", "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->8884588,ExpressionUUID->"9306cfd1-71ef-48cd-a03b-162dd488ccf6"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}}], {
     LineBox[{{1, -1}, {1, -2}}], DiskBox[{1, -1}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-2.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, 
    E^(Complex[0, 
        Rational[-1, 4]] Pi) 
    QuantumMob`Q3`EulerRotation[{
      Rational[1, 3] Pi, Rational[1, 2] Pi, Rational[1, 6] Pi}, 
      $CellContext`T[QuantumMob`Q3`$]], "Label" -> "U"]]]], "Output",
 CellLabel->"Out[4]=",
 CellID->2090953321,ExpressionUUID->"f6e86fb8-ada1-4cca-9b09-2fc92de60417"]
}, Open  ]],

Cell["\<\
Decompose the controlled-unitary gate above into a product of single-qubit \
rotations and CNOT gate:\
\>", "ExampleText",
 CellID->777355164,ExpressionUUID->"3de96286-ab21-454a-8855-938385fae3ba"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"Unfold", "[", "cu", "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1865987295,ExpressionUUID->"6d9d405b-1441-46c5-98dc-3181e9f4ca29"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {7, -1}}, {{0, -2}, {7, -2}}}], {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox["\<\"C\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], {CircleBox[{2, -2}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -2}, {2.2666666666666666`, -2}}, {{
         2, -2.2666666666666666`}, {2, -1.7333333333333334`}}}]}}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"B\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {3., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}}], 
     DiskBox[{4, -1}, 0.09], {CircleBox[{4, -2}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -2}, {4.266666666666667, -2}}, {{
         4, -2.2666666666666666`}, {4, -1.7333333333333334`}}}]}}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -2.4}, {5.4, -1.6}]}, InsetBox[
      StyleBox["\<\"A\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {5., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -1.4}, {6.4, -0.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", 
         RowBox[{"-", 
           FractionBox["\[Pi]", "4"]}]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {6., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->298.8,
   PlotRange->{{0, 7}, {-2.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`Rotation[-
    ArcTan[((-2^
           Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) - 
          2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])) + 
        2^Rational[-1, 2] ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])))^(-1) ((-2^
          Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
           Rational[1, 4] 3^Rational[1, 2]) + 
         2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])) + 
       2^Rational[-1, 2] (
         2^Rational[-1, 2] (Rational[-1, 4] + 
           Rational[1, 4] 3^Rational[1, 2]) + 
         2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])))], {0, 0, 1}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "C"], 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`T[QuantumMob`Q3`$]}], 
   QuantumMob`Q3`EulerRotation[{
    0, -ArcSin[((Rational[-1, 4] + Rational[1, 4] 3^Rational[1, 2])^2 + (
          Rational[1, 4] + Rational[1, 4] 3^Rational[1, 2])^2)^
       Rational[1, 2]], Rational[-1, 4] Pi}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "B"], 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`T[QuantumMob`Q3`$]}], 
   QuantumMob`Q3`EulerRotation[{
    Rational[1, 4] Pi + 
     ArcTan[((-2^
            Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
             Rational[1, 4] 3^Rational[1, 2]) - 
           2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])) + 
         2^Rational[-1, 2] ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
             Rational[1, 4] 3^Rational[1, 2]) + 
           2^Rational[-1, 2] (Rational[1, 4] + 
             Rational[1, 4] 3^Rational[1, 2])))^(-1) ((-2^
           Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])) + 
        2^Rational[-1, 2] (
          2^Rational[-1, 2] (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])))], 
     ArcSin[((Rational[-1, 4] + Rational[1, 4] 3^Rational[1, 2])^2 + (
         Rational[1, 4] + Rational[1, 4] 3^Rational[1, 2])^2)^Rational[1, 2]],
      0}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "A"], 
   QuantumMob`Q3`Phase[Rational[-1, 4] Pi, 
    $CellContext`S[1, 3]]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->1874986980,ExpressionUUID->"861dbb9a-052c-4763-a321-a5e17ddb9503"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"Elaborate", "[", "cu", "]"}], "-", 
    RowBox[{"Elaborate", "[", "new", "]"}]}], "//", "FullGarner"}], 
  "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->298820583,ExpressionUUID->"4587ecd1-49da-4eb2-b0f8-26e0a31a6a2c"],

Cell[BoxData["3.062262`"], "EchoTiming",
 CellID->1083284888,ExpressionUUID->"ce725f4f-1cdf-4bcf-a48a-3f5f2ce53e8d"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[6]=",
 CellID->402753350,ExpressionUUID->"0db1eec4-0049-4204-92f5-625f2b6021e1"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "7846fb99-8a63-4a25-b38f-29f2d5fa8432"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1705608657,ExpressionUUID->"40c00426-6b58-428e-b341-39ba83c3d006"],

Cell[TextData[{
 "The ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["Unfold"]], "paclet:ref/Unfold"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "ce4bc795-7ddb-4a94-8d9c-ba4420b104b4"],
 " feature of ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["ControlledGate"]], "paclet:QuantumMob/Q3/ref/ControlledGate", 
    "QuantumMob Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "f5d3c097-1863-4c47-b765-9a5b56f7e8e6"],
 " is supposed to be used inside ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["QuantumCircuit"]], "paclet:QuantumMob/Q3/ref/QuantumCircuit", 
    "QuantumMob Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "f2b1cfd1-b122-41ca-9e23-29895b5e5b35"],
 ". If you want to analyse or check the decomposition, the following example \
may be useful:"
}], "ExampleText",
 CellID->181077262,ExpressionUUID->"d3a1843b-16e5-4830-807c-21aef4a2463f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"cmp", "=", 
  RowBox[{"Unfold", "[", "cu", "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1563352008,ExpressionUUID->"06205087-6aa1-4ba9-b6ad-3ebe15eb5c7b"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {7, -1}}, {{0, -2}, {7, -2}}}], {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox["\<\"C\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], {CircleBox[{2, -2}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -2}, {2.2666666666666666`, -2}}, {{
         2, -2.2666666666666666`}, {2, -1.7333333333333334`}}}]}}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"B\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {3., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}}], 
     DiskBox[{4, -1}, 0.09], {CircleBox[{4, -2}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -2}, {4.266666666666667, -2}}, {{
         4, -2.2666666666666666`}, {4, -1.7333333333333334`}}}]}}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -2.4}, {5.4, -1.6}]}, InsetBox[
      StyleBox["\<\"A\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {5., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -1.4}, {6.4, -0.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", 
         RowBox[{"-", 
           FractionBox["\[Pi]", "4"]}]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {6., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->298.8,
   PlotRange->{{0, 7}, {-2.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`Rotation[-
    ArcTan[((-2^
           Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) - 
          2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])) + 
        2^Rational[-1, 2] ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])))^(-1) ((-2^
          Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
           Rational[1, 4] 3^Rational[1, 2]) + 
         2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])) + 
       2^Rational[-1, 2] (
         2^Rational[-1, 2] (Rational[-1, 4] + 
           Rational[1, 4] 3^Rational[1, 2]) + 
         2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])))], {0, 0, 1}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "C"], 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`T[QuantumMob`Q3`$]}], 
   QuantumMob`Q3`EulerRotation[{
    0, -ArcSin[((Rational[-1, 4] + Rational[1, 4] 3^Rational[1, 2])^2 + (
          Rational[1, 4] + Rational[1, 4] 3^Rational[1, 2])^2)^
       Rational[1, 2]], Rational[-1, 4] Pi}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "B"], 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`T[QuantumMob`Q3`$]}], 
   QuantumMob`Q3`EulerRotation[{
    Rational[1, 4] Pi + 
     ArcTan[((-2^
            Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
             Rational[1, 4] 3^Rational[1, 2]) - 
           2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])) + 
         2^Rational[-1, 2] ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
             Rational[1, 4] 3^Rational[1, 2]) + 
           2^Rational[-1, 2] (Rational[1, 4] + 
             Rational[1, 4] 3^Rational[1, 2])))^(-1) ((-2^
           Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])) + 
        2^Rational[-1, 2] (
          2^Rational[-1, 2] (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])))], 
     ArcSin[((Rational[-1, 4] + Rational[1, 4] 3^Rational[1, 2])^2 + (
         Rational[1, 4] + Rational[1, 4] 3^Rational[1, 2])^2)^Rational[1, 2]],
      0}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "A"], 
   QuantumMob`Q3`Phase[Rational[-1, 4] Pi, 
    $CellContext`S[1, 3]]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->1223159902,ExpressionUUID->"78149a8a-4b48-4806-9dfd-2b9164750b28"]
}, Open  ]],

Cell["You can remove the labels:", "ExampleText",
 CellID->1652630181,ExpressionUUID->"5d05eee9-c92c-470b-9c8d-cd9a5e118dc3"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"more", "=", 
   RowBox[{"QuantumElements", "[", "cmp", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"more", "//", "N"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->63469277,ExpressionUUID->"a369739b-382a-4984-a682-7ef1e2a021a5"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TagBox[
     RowBox[{"Exp", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"0.`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.1308996938995747`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{"0.`", "\[VeryThinSpace]", "+", 
          RowBox[{"1.`", " ", 
           InterpretationBox[
            TemplateBox[{"T", 
              
              TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"Z\""}, 
               "RowWithSeparators"]},
             "Superscript"],
            $CellContext`T[3]]}]}], ")"}]}], ")"}]}],
     DisplayForm],
    QuantumMob`Q3`Rotation[-0.2617993877991494, {0., 0., 1.}, 
     $CellContext`T[QuantumMob`Q3`$]]], ",", 
   RowBox[{"CNOT", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       InterpretationBox[
        SubscriptBox["S", 
         TemplateBox[{",", "\",\"", "1"},
          "RowWithSeparators"]],
        $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}], "}"}], ",", 
     RowBox[{"{", 
      InterpretationBox["T",
       $CellContext`T[QuantumMob`Q3`$]], "}"}]}], "]"}], ",", 
   RowBox[{"EulerRotation", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0.`", ",", 
       RowBox[{"-", "0.7853981633974484`"}], ",", 
       RowBox[{"-", "0.7853981633974483`"}]}], "}"}], ",", 
     InterpretationBox["T",
      $CellContext`T[QuantumMob`Q3`$]]}], "]"}], ",", 
   RowBox[{"CNOT", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       InterpretationBox[
        SubscriptBox["S", 
         TemplateBox[{",", "\",\"", "1"},
          "RowWithSeparators"]],
        $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}], "}"}], ",", 
     RowBox[{"{", 
      InterpretationBox["T",
       $CellContext`T[QuantumMob`Q3`$]], "}"}]}], "]"}], ",", 
   RowBox[{"EulerRotation", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"1.0471975511965976`", ",", "0.7853981633974484`", ",", "0.`"}],
       "}"}], ",", 
     InterpretationBox["T",
      $CellContext`T[QuantumMob`Q3`$]]}], "]"}], ",", 
   InterpretationBox[
    TagBox[
     FormBox[
      TagBox[
       RowBox[{
        FormBox[
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
           "Subsuperscript"],
          $CellContext`S[1, 3]],
         TraditionalForm], "\[InvisibleApplication]", 
        RowBox[{"(", 
         RowBox[{"-", "0.7853981633974483`"}], ")"}]}],
       HoldForm],
      TraditionalForm],
     TraditionalForm,
     Editable->True],
    QuantumMob`Q3`Phase[-0.7853981633974483, 
     $CellContext`S[1, 3]]]}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->605206458,ExpressionUUID->"a947050a-eef2-41b0-9c8b-a128d88b0613"]
}, Open  ]],

Cell[TextData[{
 "You can directly multiply the components to check the equivalence. Here, \
notice ",
 StyleBox["Reverse[cmp]", "Input"],
 ":"
}], "ExampleText",
 CellID->1753917898,ExpressionUUID->"2cde06ef-a93e-46d3-8ef5-4a2b9317f871"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"Apply", "[", 
      RowBox[{"Multiply", ",", 
       RowBox[{"Reverse", "@", "cmp"}]}], "]"}], "-", "cu"}], "//", 
    "Elaborate"}], "//", "FullGarner"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1043909238,ExpressionUUID->"a9931576-e405-4a92-9a6c-fc75c6f5a6cb"],

Cell[BoxData["0.981172`"], "EchoTiming",
 CellID->997000311,ExpressionUUID->"7c205c4c-4f19-456d-8bfd-8f309da3e90e"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->1916813083,ExpressionUUID->"41f47c7a-de2a-4074-880c-6611d47958b1"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "9ea42f87-9992-4122-83dc-c9956f3cd2d7"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1600539001,ExpressionUUID->"71cd4b75-be7f-4c62-810a-c99f5beba527"],

Cell[TextData[{
 "The ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["Unfold"]], "paclet:ref/Unfold"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "16af778e-592d-48fb-8141-4abce9aef385"],
 " feature also applies to multi-control unitary gates. For example, consider \
the above unitary gate controlled by two qubits ",
 StyleBox["S[0,$]", "Input"],
 " and ",
 StyleBox["S[1,$]", "Input"],
 ":"
}], "ExampleText",
 CellID->595717937,ExpressionUUID->"85c20807-f00a-4322-949d-fa8b2885ec0b"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ccu", "=", 
  RowBox[{"ControlledGate", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"0", ",", "1"}], "}"}]}], ",", "op", ",", 
    RowBox[{"\"\<Label\>\"", "->", "\"\<U\>\""}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1811053528,ExpressionUUID->"8587c7c0-5811-4805-82bc-33c94c7432db"],

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      InterpretationBox[
       SubscriptBox["S", 
        TemplateBox[{",", "\",\"", "0"},
         "RowWithSeparators"]],
       $CellContext`S[0, QuantumMob`Q3`$]], "\[Rule]", "1"}], ",", 
     RowBox[{
      InterpretationBox[
       SubscriptBox["S", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}]}], "}"}], ",", 
   RowBox[{
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", "\[Pi]"}], "4"]}]], " ", 
    RowBox[{"EulerRotation", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        FractionBox["\[Pi]", "3"], ",", 
        FractionBox["\[Pi]", "2"], ",", 
        FractionBox["\[Pi]", "6"]}], "}"}], ",", 
      InterpretationBox["T",
       $CellContext`T[QuantumMob`Q3`$]]}], "]"}]}], ",", 
   RowBox[{"\<\"Label\"\>", "\[Rule]", "\<\"U\"\>"}]}], "]"}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1570984905,ExpressionUUID->"398678b9-1b46-42c6-b32f-0148dd383c64"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qcc", "=", 
  RowBox[{"QuantumCircuit", "[", "ccu", "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1793861229,ExpressionUUID->"8d08fd36-f519-4a7c-9875-b7c59ac826a4"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}}], DiskBox[{1, -1}, 0.09], 
     DiskBox[{1, -2}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-3.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[0, QuantumMob`Q3`$] -> 
     1, $CellContext`S[1, QuantumMob`Q3`$] -> 1}, E^(Complex[0, 
        Rational[-1, 4]] Pi) 
    QuantumMob`Q3`EulerRotation[{
      Rational[1, 3] Pi, Rational[1, 2] Pi, Rational[1, 6] Pi}, 
      $CellContext`T[QuantumMob`Q3`$]], "Label" -> "U"]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1831951961,ExpressionUUID->"64b2a0a9-30a7-46e5-9017-9b8d68bb0880"]
}, Open  ]],

Cell[TextData[{
 "Decompose the quantum circuit above into a product of the multi-controlled \
NOT gate  and single-qubit rotations (see also the ",
 ButtonBox["Generalization & Extensions",
  BaseStyle->"Link",
  ButtonData->"paclet:QuantumMob/Q3/ref/ControlledGate#1020263627"],
 " section below):"
}], "ExampleText",
 CellID->1051097161,ExpressionUUID->"75a41819-b97f-4a0b-bc3b-771d07f4415d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Unfold", "[", "ccu", "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1765521323,ExpressionUUID->"0a15f4ed-2291-4903-a7f4-3d2308773772"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {7, -1}}, {{0, -2}, {7, -2}}, {{0, -3}, {7, -3}}}], {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
      StyleBox["\<\"C\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {1., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -3}}], 
     DiskBox[{2, -1}, 0.09], 
     DiskBox[{2, -2}, 0.09], {CircleBox[{2, -3}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -3}, {2.2666666666666666`, -3}}, {{
         2, -3.2666666666666666`}, {2, -2.7333333333333334`}}}]}}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -3.4}, {3.4, -2.6}]}, InsetBox[
      StyleBox["\<\"B\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {3., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}, {4, -3}}], 
     DiskBox[{4, -1}, 0.09], 
     DiskBox[{4, -2}, 0.09], {CircleBox[{4, -3}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -3}, {4.266666666666667, -3}}, {{
         4, -3.2666666666666666`}, {4, -2.7333333333333334`}}}]}}, {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox["\<\"A\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {5., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -1}, {6, -2}}], 
     DiskBox[{6, -1}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -2.4}, {6.4, -1.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", 
         RowBox[{"-", 
           FractionBox["\[Pi]", "4"]}]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {6., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->298.8,
   PlotRange->{{0, 7}, {-3.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`Rotation[-
    ArcTan[((-2^
           Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) - 
          2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])) + 
        2^Rational[-1, 2] ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])))^(-1) ((-2^
          Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
           Rational[1, 4] 3^Rational[1, 2]) + 
         2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])) + 
       2^Rational[-1, 2] (
         2^Rational[-1, 2] (Rational[-1, 4] + 
           Rational[1, 4] 3^Rational[1, 2]) + 
         2^Rational[-1, 2] (Rational[1, 4] + 
           Rational[1, 4] 3^Rational[1, 2])))], {0, 0, 1}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "C"], 
   QuantumMob`Q3`CNOT[{$CellContext`S[0, QuantumMob`Q3`$] -> 
     1, $CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`T[QuantumMob`Q3`$]}], 
   QuantumMob`Q3`EulerRotation[{
    0, -ArcSin[((Rational[-1, 4] + Rational[1, 4] 3^Rational[1, 2])^2 + (
          Rational[1, 4] + Rational[1, 4] 3^Rational[1, 2])^2)^
       Rational[1, 2]], Rational[-1, 4] Pi}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "B"], 
   QuantumMob`Q3`CNOT[{$CellContext`S[0, QuantumMob`Q3`$] -> 
     1, $CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`T[QuantumMob`Q3`$]}], 
   QuantumMob`Q3`EulerRotation[{
    Rational[1, 4] Pi + 
     ArcTan[((-2^
            Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
             Rational[1, 4] 3^Rational[1, 2]) - 
           2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])) + 
         2^Rational[-1, 2] ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
             Rational[1, 4] 3^Rational[1, 2]) + 
           2^Rational[-1, 2] (Rational[1, 4] + 
             Rational[1, 4] 3^Rational[1, 2])))^(-1) ((-2^
           Rational[-1, 2]) ((-2^Rational[-1, 2]) (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])) + 
        2^Rational[-1, 2] (
          2^Rational[-1, 2] (Rational[-1, 4] + 
            Rational[1, 4] 3^Rational[1, 2]) + 
          2^Rational[-1, 2] (Rational[1, 4] + 
            Rational[1, 4] 3^Rational[1, 2])))], 
     ArcSin[((Rational[-1, 4] + Rational[1, 4] 3^Rational[1, 2])^2 + (
         Rational[1, 4] + Rational[1, 4] 3^Rational[1, 2])^2)^Rational[1, 2]],
      0}, 
    $CellContext`T[QuantumMob`Q3`$], "Label" -> "A"], 
   QuantumMob`Q3`ControlledGate[{$CellContext`S[0, QuantumMob`Q3`$] -> 1}, 
    QuantumMob`Q3`Phase[Rational[-1, 4] Pi, 
     $CellContext`S[1, 3]]]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->485927215,ExpressionUUID->"c767749c-6e1a-4bd1-a7d9-3e2d38527ca3"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"qcc", "-", "new"}], "//", "Elaborate"}], "//", "FullGarner"}], 
  "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1192347325,ExpressionUUID->"9d69a21c-40cf-438a-9fd1-45fee95ab3f1"],

Cell[BoxData["14.53492`"], "EchoTiming",
 CellID->854468408,ExpressionUUID->"c8ccbfa9-7504-42b6-926b-436b7be3b941"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[4]=",
 CellID->827385767,ExpressionUUID->"096c0989-4b6f-4f27-a9a0-546865b8b6c6"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "0"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "2"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]]]],ExpressionUUID->
  "d3c602be-413c-485b-b8ba-c203d187fccf"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"ea32a64c-fd8a-4899-9675-d2c21f179b58"],
 "Generalizations & Extensions",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount",ExpressionUUID->
  "baa00069-a138-44d1-89b6-40b0369538ac"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1020263627,ExpressionUUID->"a0a530b4-4824-44ab-b0ae-557b91274e5a"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->54597739,ExpressionUUID->"292f9e5e-4add-48eb-8927-d2db17a5e55d"],

Cell["\<\
When the unitary operator is a complex number of unit amplitude, then the \
controlled-U gate is equivalent to the phase gate on the controlled qubit:\
\>", "ExampleText",
 CellID->1658935743,ExpressionUUID->"72cc4b1b-7964-464f-80c6-4617991b3568"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Let", "[", 
  RowBox[{"Real", ",", "\[Phi]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"z", "=", 
  RowBox[{"Exp", "[", 
   RowBox[{"I", " ", "\[Phi]"}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->450269680,ExpressionUUID->"76879d73-1929-4e03-b4be-8bf7211bcf05"],

Cell[BoxData[
 SuperscriptBox["\[ExponentialE]", 
  RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1401153192,ExpressionUUID->"284314cd-381f-4cae-8fbf-bfa5a98953f6"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"S", "[", "1", "]"}], ",", "z"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->113446564,ExpressionUUID->"cdb6295c-3103-4bef-8710-81f8525af0e5"],

Cell[BoxData[
 InterpretationBox[
  TagBox[
   FormBox[
    TagBox[
     RowBox[{
      FormBox[
       InterpretationBox[
        TemplateBox[{"S", 
          TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
         "Subsuperscript"],
        $CellContext`S[1, 3]],
       TraditionalForm], "\[InvisibleApplication]", 
      RowBox[{"(", 
       RowBox[{"arg", "(", 
        SuperscriptBox["\[ExponentialE]", 
         RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], ")"}], ")"}]}],
     HoldForm],
    TraditionalForm],
   TraditionalForm,
   Editable->True],
  QuantumMob`Q3`Phase[
   Arg[E^(Complex[0, 1] $CellContext`\[Phi])], 
   $CellContext`S[1, 3]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->756121647,ExpressionUUID->"b46ba138-d07b-4ac1-8c6d-499a2f79b34b"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"ControlledGate", "[", 
   RowBox[{
    RowBox[{"S", "[", "1", "]"}], ",", "z"}], "]"}], "/.", 
  RowBox[{"{", 
   RowBox[{"\[Phi]", "\[Rule]", 
    RowBox[{"Pi", "/", "3"}]}], "}"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1884776724,ExpressionUUID->"5269f506-e32e-495b-aac0-d71a90114a7d"],

Cell[BoxData[
 InterpretationBox[
  TagBox[
   FormBox[
    TagBox[
     RowBox[{
      FormBox[
       InterpretationBox[
        TemplateBox[{"S", 
          TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
         "Subsuperscript"],
        $CellContext`S[1, 3]],
       TraditionalForm], "\[InvisibleApplication]", 
      RowBox[{"(", 
       FractionBox["\[Pi]", "3"], ")"}]}],
     HoldForm],
    TraditionalForm],
   TraditionalForm,
   Editable->True],
  QuantumMob`Q3`Phase[Rational[1, 3] Pi, 
   $CellContext`S[1, 3]]]], "Output",
 CellLabel->"Out[4]=",
 CellID->42368583,ExpressionUUID->"04088a4e-678a-4c13-9758-1cfe3e4c4c3d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledGate", "[", 
    RowBox[{
     RowBox[{"S", "[", "1", "]"}], ",", 
     RowBox[{
      RowBox[{"S", "[", 
       RowBox[{"2", ",", "0"}], "]"}], " ", 
      RowBox[{"Exp", "[", 
       RowBox[{"I", " ", "\[Phi]"}], "]"}]}], ",", 
     RowBox[{"\"\<Label\>\"", "\[Rule]", 
      RowBox[{"Exp", "[", 
       RowBox[{"I", " ", "\[Phi]"}], "]"}]}]}], "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1389124015,ExpressionUUID->"ac16c774-ee19-43b3-af40-b2490b1ecd45"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}}], {
     LineBox[{{1, -1}, {1, -2}}], DiskBox[{1, -1}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
      StyleBox[
       SuperscriptBox["\[ExponentialE]", 
        RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-2.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, 
    E^(Complex[0, 1] $CellContext`\[Phi]) $CellContext`S[2, 0], "Label" -> 
    E^(Complex[0, 1] $CellContext`\[Phi])]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->1971343166,ExpressionUUID->"b93f2c6d-8d5f-40ec-8513-d95c4eedaec3"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc1", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"ControlledGate", "[", 
     RowBox[{
      RowBox[{"S", "[", "1", "]"}], ",", " ", 
      RowBox[{"Exp", "[", 
       RowBox[{"I", " ", "\[Phi]"}], "]"}], ",", 
      RowBox[{"\"\<Label\>\"", "\[Rule]", 
       RowBox[{"Exp", "[", 
        RowBox[{"I", " ", "\[Phi]"}], "]"}]}]}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"\"\<Visible\>\"", "\[Rule]", 
     RowBox[{"S", "[", "2", "]"}]}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->125637926,ExpressionUUID->"544e0c0f-df48-4499-a99b-94c3c3598a9f"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}}], {
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox[
       SuperscriptBox["\[ExponentialE]", 
        RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-2.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`Phase[
    Arg[E^(Complex[0, 1] $CellContext`\[Phi])], 
    $CellContext`S[1, 3], "Label" -> E^(Complex[0, 1] $CellContext`\[Phi])], 
   "Visible" -> $CellContext`S[2]]]], "Output",
 CellLabel->"Out[6]=",
 CellID->1162173736,ExpressionUUID->"ddf0dffd-60b9-452d-b9b4-4b85f80360f5"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Elaborate", "[", 
   RowBox[{"qc", "-", "qc1"}], "]"}], "//", "FullSimplify"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[7]:=",
 CellID->1909614846,ExpressionUUID->"490a28fd-d8b9-41b6-ad89-726b59c00aad"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[7]=",
 CellID->1549838250,ExpressionUUID->"8a66fbaa-6381-4047-80f2-671486274f42"]
}, Open  ]],

Cell["\<\
When the number is not of unit magnitude, it gives a warning message:\
\>", "ExampleText",
 CellID->511713125,ExpressionUUID->"2dfae2d1-220c-4e79-9561-294df17d4c77"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"S", "[", "1", "]"}], ",", 
   RowBox[{"1", "+", "I"}]}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[8]:=",
 CellID->375479679,ExpressionUUID->"e7ef83c6-183e-4835-9002-2a3424623527"],

Cell[BoxData[
 TemplateBox[{
  "ControlledGate", "unitary", 
   "\"The operator \\!\\(\\*RowBox[{\\\"1\\\", \\\"+\\\", \\\"\[ImaginaryI]\\\
\"}]\\) is not unitary.\"", 2, 69, 28, 17297984436475954584, "Local", 
   "QuantumMob`Q3`ControlledGate"},
  "MessageTemplate2",
  BaseStyle->"MSG"]], "Message",
 CellLabel->"During evaluation of In[8]:=",
 CellID->979473987,ExpressionUUID->"96bb5503-0695-4623-b15f-50f4becf58f8"],

Cell[BoxData[
 InterpretationBox[
  TagBox[
   FormBox[
    TagBox[
     RowBox[{
      FormBox[
       InterpretationBox[
        TemplateBox[{"S", 
          TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
         "Subsuperscript"],
        $CellContext`S[1, 3]],
       TraditionalForm], "\[InvisibleApplication]", 
      RowBox[{"(", 
       FractionBox["\[Pi]", "4"], ")"}]}],
     HoldForm],
    TraditionalForm],
   TraditionalForm,
   Editable->True],
  QuantumMob`Q3`Phase[Rational[1, 4] Pi, 
   $CellContext`S[1, 3]]]], "Output",
 CellLabel->"Out[8]=",
 CellID->1557145254,ExpressionUUID->"366f455f-df24-4fbd-a692-4c1e90d14d89"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "1151906e-9311-4b2e-8390-7f1434b250dc"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->174573991,ExpressionUUID->"a4150d4d-57b3-4063-8822-c80142f21e1e"],

Cell[TextData[{
 "When there are more than one control qubits, then the controlled-U gate \
induces a relative phase shift on the state ",
 Cell[BoxData[
  TemplateBox[{
    RowBox[{"11", "\[Ellipsis]1"}]},
   "Ket"]],ExpressionUUID->"b778d522-1421-4278-ae25-39b70f33711c"],
 ":"
}], "ExampleText",
 CellID->1484041902,ExpressionUUID->"6bf1753b-e398-4213-9e42-14f27649d813"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"ControlledGate", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], ",", 
    RowBox[{"Exp", "[", 
     RowBox[{"I", " ", 
      RowBox[{"\[Pi]", "/", "4"}]}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1674411155,ExpressionUUID->"411a238b-b268-45eb-b372-c04f29c6fdd2"],

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "1"},
        "RowWithSeparators"]],
      $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}], "}"}], ",", 
   InterpretationBox[
    TagBox[
     FormBox[
      TagBox[
       RowBox[{
        FormBox[
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
           "Subsuperscript"],
          $CellContext`S[2, 3]],
         TraditionalForm], "\[InvisibleApplication]", 
        RowBox[{"(", 
         FractionBox["\[Pi]", "4"], ")"}]}],
       HoldForm],
      TraditionalForm],
     TraditionalForm,
     Editable->True],
    QuantumMob`Q3`Phase[Rational[1, 4] Pi, 
     $CellContext`S[2, 3]]]}], "]"}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1586000921,ExpressionUUID->"183cd5c6-7b87-4731-b0c7-b9e898ccf735"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "@", "op"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1750426850,ExpressionUUID->"aa4eb695-3f46-44ea-8ead-4545f9889948"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "4"], " ", 
   RowBox[{"(", 
    RowBox[{"3", "+", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"1", "/", "4"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "1"}], "+", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"1", "/", "4"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3]]]}], "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"1", "/", "4"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"1", "/", "4"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->460261667,ExpressionUUID->"075b3d70-cb15-485d-83c7-7ffa76ad19aa"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Matrix", "[", "op", "]"}], "//", "Simplify"}], "//", 
  "MatrixForm"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->295000539,ExpressionUUID->"cefc1f1e-1842-4179-9b84-f679ca5fde27"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", "1", "0", "0"},
     {"0", "0", "1", "0"},
     {"0", "0", "0", 
      FractionBox[
       RowBox[{"1", "+", "\[ImaginaryI]"}], 
       SqrtBox["2"]]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {4, 4}, 0, {
     1, {{0, 1, 2, 3, 4}, {{1}, {2}, {3}, {4}}}, {
      1, 1, 1, Complex[1, 1] 2^Rational[-1, 2]}}]]]]], "Output",
 CellLabel->"Out[3]//MatrixForm=",
 CellID->1748716918,ExpressionUUID->"43feb5e4-9346-4cd0-8a10-8d9edd8ee06c"]
}, Open  ]],

Cell["\<\
This expression is equivalent to the above one, but does not expand:\
\>", "ExampleText",
 CellID->2142135012,ExpressionUUID->"4f5b9fb3-78eb-44b5-93c2-bede2c9ab6c1"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"ControlledGate", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], ",", 
    RowBox[{
     RowBox[{"Exp", "[", 
      RowBox[{"I", " ", 
       RowBox[{"\[Pi]", "/", "4"}]}], "]"}], " ", 
     RowBox[{"S", "[", 
      RowBox[{"3", ",", "0"}], "]"}]}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1434563406,ExpressionUUID->"a9067825-3c20-4b3a-b824-4160ffc66dd9"],

Cell[BoxData[
 RowBox[{"ControlledGate", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      InterpretationBox[
       SubscriptBox["S", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`S[1, QuantumMob`Q3`$]], "\[Rule]", "1"}], ",", 
     RowBox[{
      InterpretationBox[
       SubscriptBox["S", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`S[2, QuantumMob`Q3`$]], "\[Rule]", "1"}]}], "}"}], ",", 
   RowBox[{
    SuperscriptBox["\[ExponentialE]", 
     FractionBox[
      RowBox[{"\[ImaginaryI]", " ", "\[Pi]"}], "4"]], " ", 
    InterpretationBox[
     TemplateBox[{"S", 
       TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
       TemplateBox[{",", "\",\"", "0"}, "RowWithSeparators"]},
      "Subsuperscript"],
     $CellContext`S[3, 0]]}]}], "]"}]], "Output",
 CellLabel->"Out[4]=",
 CellID->217033675,ExpressionUUID->"8e1e054e-8744-4fc5-a6b7-8772c5a5338f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Elaborate", "[", "op", "]"}], "-", 
   RowBox[{"Elaborate", "[", "new", "]"}]}], "//", "Simplify"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1544994010,ExpressionUUID->"689a08a1-063f-4dd5-ac3b-a23b01324695"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[5]=",
 CellID->977449893,ExpressionUUID->"99186ac8-5f32-4fb1-bd80-d43a2772f5fa"]
}, Open  ]],

Cell["\<\
The equivalence can also be examined in quantum circuit model. The \
controlled-unitary gate with the unitary gate given by the global phase shift \
is represented by the following quantum circuit model:\
\>", "ExampleText",
 CellID->382850454,ExpressionUUID->"9d251dbe-12c6-4a9f-ba0c-356ecf55f572"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledGate", "[", 
    RowBox[{
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", 
     RowBox[{
      RowBox[{"S", "[", 
       RowBox[{"4", ",", "0"}], "]"}], 
      RowBox[{"Exp", "[", 
       RowBox[{"I", " ", "\[Phi]"}], "]"}]}], ",", 
     RowBox[{"\"\<Label\>\"", "\[Rule]", 
      RowBox[{"Exp", "[", 
       RowBox[{"I", " ", "\[Phi]"}], "]"}]}]}], "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->1698297027,ExpressionUUID->"c56c2cee-da67-449a-a98e-2ed545ad82ad"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
     0, -4}, {2, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     DiskBox[{1, -1}, 0.09], DiskBox[{1, -2}, 0.09], DiskBox[{1, -3}, 0.09], 
     {LightDarkSwitched[
       GrayLevel[1]], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       SuperscriptBox["\[ExponentialE]", 
        RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[
   QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
     1, $CellContext`S[2, QuantumMob`Q3`$] -> 
     1, $CellContext`S[3, QuantumMob`Q3`$] -> 1}, 
    E^(Complex[0, 1] $CellContext`\[Phi]) $CellContext`S[4, 0], "Label" -> 
    E^(Complex[0, 1] $CellContext`\[Phi])]]]], "Output",
 CellLabel->"Out[6]=",
 CellID->1402986240,ExpressionUUID->"b51dce1b-718b-4827-9338-add4b58f4013"]
}, Open  ]],

Cell["\<\
It is equivalent to the following three quantum circuit models involving \
(relative) phase-shift gate, and leaving the forth qubit intact:\
\>", "ExampleText",
 CellID->42562061,ExpressionUUID->"9c9d6763-7b80-415a-a9e0-89bffb9ca2d3"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"qc1", "=", 
   RowBox[{"QuantumCircuit", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ControlledGate", "[", 
      RowBox[{
       RowBox[{"S", "@", 
        RowBox[{"{", 
         RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", 
       RowBox[{"Phase", "[", 
        RowBox[{"\[Phi]", ",", 
         RowBox[{"S", "[", 
          RowBox[{"1", ",", "3"}], "]"}]}], "]"}]}], "]"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Visible\>\"", "\[Rule]", 
      RowBox[{"S", "[", "4", "]"}]}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"qc2", "=", 
   RowBox[{"QuantumCircuit", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ControlledGate", "[", 
      RowBox[{
       RowBox[{"S", "@", 
        RowBox[{"{", 
         RowBox[{"1", ",", "3"}], "}"}]}], ",", 
       RowBox[{"Phase", "[", 
        RowBox[{"\[Phi]", ",", 
         RowBox[{"S", "[", 
          RowBox[{"2", ",", "3"}], "]"}]}], "]"}]}], "]"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Visible\>\"", "\[Rule]", 
      RowBox[{"S", "[", "4", "]"}]}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"qc3", "=", 
   RowBox[{"QuantumCircuit", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ControlledGate", "[", 
      RowBox[{
       RowBox[{"S", "@", 
        RowBox[{"{", 
         RowBox[{"1", ",", "2"}], "}"}]}], ",", 
       RowBox[{"Phase", "[", 
        RowBox[{"\[Phi]", ",", 
         RowBox[{"S", "[", 
          RowBox[{"3", ",", "3"}], "]"}]}], "]"}]}], "]"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Visible\>\"", "\[Rule]", 
      RowBox[{"S", "[", "4", "]"}]}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"GraphicsRow", "@", 
  RowBox[{"{", 
   RowBox[{"qc1", ",", "qc2", ",", "qc3"}], "}"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[7]:=",
 CellID->385898355,ExpressionUUID->"20650a7c-34fc-4814-9321-a938a1fa5ec4"],

Cell[BoxData[
 GraphicsBox[{{}, {InsetBox[
     FormBox[
      FormBox[
       InterpretationBox[
        GraphicsBox[{
          {Dashing[{Small, Small}], LineBox[{}]}, 
          LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {
           2, -3}}, {{0, -4}, {2, -4}}}], {
           LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -1}}], 
           DiskBox[{1, -1}, 0.09], DiskBox[{1, -2}, 0.09], 
           DiskBox[{1, -3}, 0.09], 
           {LightDarkSwitched[
             GrayLevel[1]], EdgeForm[Opacity[1]], 
            RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
            StyleBox[
             TemplateBox[{"\"Z\"", "\[Phi]"},
              "Superscript"],
             StripOnInput->False,
             FontSize->Scaled[0.2],
             FontWeight->"Light",
             FontSlant->Italic], {1., -1.}, NCache[
            ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
             ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}},
         ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
         ImageSize->118.8,
         PlotRange->{{0, 2}, {-4.5, -0.5}},
         PlotRangePadding->Scaled[0.025]],
        QuantumMob`Q3`QuantumCircuit[
         QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
           1, $CellContext`S[2, QuantumMob`Q3`$] -> 
           1, $CellContext`S[3, QuantumMob`Q3`$] -> 1}, 
          QuantumMob`Q3`Phase[$CellContext`\[Phi], 
           $CellContext`S[1, 3]]], "Visible" -> $CellContext`S[4]]],
       TraditionalForm],
      TraditionalForm], {63.9625, -78.9625}, {Center, Center}, {118.99999999999999, 149.},
     
     BaseStyle->{Graphics3DBoxOptions -> {SphericalRegion -> False}}], 
    InsetBox[
     FormBox[
      FormBox[
       InterpretationBox[
        GraphicsBox[{
          {Dashing[{Small, Small}], LineBox[{}]}, 
          LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {
           2, -3}}, {{0, -4}, {2, -4}}}], {
           LineBox[{{1, -1}, {1, -3}, {1, -2}}], DiskBox[{1, -1}, 0.09], 
           DiskBox[{1, -3}, 0.09], 
           {LightDarkSwitched[
             GrayLevel[1]], EdgeForm[Opacity[1]], 
            RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
            StyleBox[
             TemplateBox[{"\"Z\"", "\[Phi]"},
              "Superscript"],
             StripOnInput->False,
             FontSize->Scaled[0.2],
             FontWeight->"Light",
             FontSlant->Italic], {1., -2.}, NCache[
            ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
             ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}},
         ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
         ImageSize->118.8,
         PlotRange->{{0, 2}, {-4.5, -0.5}},
         PlotRangePadding->Scaled[0.025]],
        QuantumMob`Q3`QuantumCircuit[
         QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
           1, $CellContext`S[3, QuantumMob`Q3`$] -> 1}, 
          QuantumMob`Q3`Phase[$CellContext`\[Phi], 
           $CellContext`S[2, 3]]], "Visible" -> $CellContext`S[4]]],
       TraditionalForm],
      TraditionalForm], {191.8875, -78.9625}, {Center, Center}, {119., 149.},
     BaseStyle->{Graphics3DBoxOptions -> {SphericalRegion -> False}}], 
    InsetBox[
     FormBox[
      FormBox[
       InterpretationBox[
        GraphicsBox[{
          {Dashing[{Small, Small}], LineBox[{}]}, 
          LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {
           2, -3}}, {{0, -4}, {2, -4}}}], {
           LineBox[{{1, -1}, {1, -2}, {1, -3}}], DiskBox[{1, -1}, 0.09], 
           DiskBox[{1, -2}, 0.09], 
           {LightDarkSwitched[
             GrayLevel[1]], EdgeForm[Opacity[1]], 
            RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
            StyleBox[
             TemplateBox[{"\"Z\"", "\[Phi]"},
              "Superscript"],
             StripOnInput->False,
             FontSize->Scaled[0.2],
             FontWeight->"Light",
             FontSlant->Italic], {1., -3.}, NCache[
            ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
             ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}},
         ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
         ImageSize->118.8,
         PlotRange->{{0, 2}, {-4.5, -0.5}},
         PlotRangePadding->Scaled[0.025]],
        QuantumMob`Q3`QuantumCircuit[
         QuantumMob`Q3`ControlledGate[{$CellContext`S[1, QuantumMob`Q3`$] -> 
           1, $CellContext`S[2, QuantumMob`Q3`$] -> 1}, 
          QuantumMob`Q3`Phase[$CellContext`\[Phi], 
           $CellContext`S[3, 3]]], "Visible" -> $CellContext`S[4]]],
       TraditionalForm],
      TraditionalForm], {319.8125, -78.9625}, {Center, Center}, {119., 149.},
     BaseStyle->{Graphics3DBoxOptions -> {SphericalRegion -> False}}]}, {}},
  ImageSize->{383.775, 157.925},
  Method->{"IgnoreImageSizeAutomaticLimit" -> True},
  PlotRange->{{0, 383.775}, {-157.925, 0}},
  PlotRangePadding->Automatic]], "Output",
 CellLabel->"Out[7]=",
 CellID->1196780901,ExpressionUUID->"8677606f-7c89-410f-899b-1164fbd901c8"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"Elaborate", "[", 
   RowBox[{"qc", "-", "qc1"}], "]"}], "//", "Simplify"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Elaborate", "[", 
   RowBox[{"qc", "-", "qc2"}], "]"}], "//", "Simplify"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Elaborate", "[", 
   RowBox[{"qc", "-", "qc3"}], "]"}], "//", "Simplify"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[8]:=",
 CellID->286463219,ExpressionUUID->"4f8584e2-6142-49d2-aac9-9ea75ef71bd3"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[8]=",
 CellID->887805792,ExpressionUUID->"9f51a052-dd19-48e4-8c00-b64a83c9868c"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[8]=",
 CellID->635566788,ExpressionUUID->"64b79d3f-61b0-444d-9bb7-a521743e7dde"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[8]=",
 CellID->387345738,ExpressionUUID->"8e0dc242-24fa-4e3b-85c8-957e6fb09d0b"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "2"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["QuantumCircuit"]], 
           "paclet:QuantumMob/Q3/ref/QuantumCircuit", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "bba4f56a-f9c4-4ba1-a58e-19046d2edaf2"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CNOT"]], "paclet:QuantumMob/Q3/ref/CNOT", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "790bae29-5d2d-4f87-99b6-db517ac95ea1"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CZ"]], "paclet:QuantumMob/Q3/ref/CZ", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "fe37c1f0-498c-4bee-8dd0-9136f6e5cdc2"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["ControlledPower"]], 
           "paclet:QuantumMob/Q3/ref/ControlledPower", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "4c2b0c0e-cba4-412b-8b7b-07079f9831b5"]
       }], "SeeAlso",ExpressionUUID->"b83dd1bf-2d8d-4b55-86ca-cf71487b411a"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"801f2549-9dc9-4295-8212-\
656ecce1c1c3"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTutorial.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TutorialsSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Two-Qubit Gates"]], 
           "paclet:QuantumMob/Q3/tutorial/TwoQubitGates"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "ff88a4d7-7a66-4996-b749-4ad51ed9268a"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Computation: Overview"]], 
           "paclet:QuantumMob/Q3/tutorial/QuantumComputationOverview"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "f7ac3701-922f-46c6-bbd7-da655b6c0e6e"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Multi-Control Unitary Gates"]], 
           "paclet:QuantumMob/Q3/tutorial/MultiControlUnitaryGates"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "b3ce176f-a720-424f-819c-c7f73f681f96"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems with Q3"]], 
           "paclet:QuantumMob/Q3/tutorial/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "578fcc55-72cb-480e-b1ff-55d51ba765f9"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quick Quantum Computing with Q3"]], 
           "paclet:QuantumMob/Q3/tutorial/QuickQuantumComputingWithQ3"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "ea4e3ed4-0b45-4be2-90e9-430f2be250a5"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Quick Start"]], 
           "paclet:QuantumMob/Q3/tutorial/Q3QuickStart"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "fe454d5e-e9e5-42eb-b4da-4a2bab7e71f0"]}]}
     }]}
  }]], "TutorialsSection",ExpressionUUID->"1aa98912-0ebb-44d7-9d95-\
8e3e0e751ef0"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Symbolic Quantum Simulation"]], 
           "paclet:QuantumMob/Q3/guide/Q3"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "13ea07e1-ffb8-456e-9715-8e203f698073"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems"]], 
           "paclet:QuantumMob/Q3/guide/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "916944c7-b21c-49d3-bc96-b05991178be8"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"5262ddd5-8f21-4e02-87ab-\
1a10f720f0dd"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "M. Nielsen and I. L. Chuang (2022)"}]]]], 
             "https://doi.org/10.1017/CBO9780511976667"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "e976cf25-f682-45be-b835-dae7ad93bfed"]}]],ExpressionUUID->
         "9f784e54-fac3-44d8-9e27-5c98bd0570a6"],
        StyleBox[
        ", Quantum Computation and Quantum Information (Cambridge University \
Press).",
         FontSlant->"Plain"]
       }], "RelatedLinks",ExpressionUUID->
        "d0a5a9a6-623d-47f0-99db-f46851ae3595"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "8ecac847-e20f-4e97-8dae-f7a308dc54f5"]}]],ExpressionUUID->
         "e85d7b76-74de-4797-94d5-a784edd0d0f5"],
        ", A Quantum Computation Workbook (Springer)."
       }], "RelatedLinks",ExpressionUUID->
        "c8cb9bba-310c-446c-a124-c48f9ee400f4"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"ec6cc6bf-204d-493b-be34-\
3a41cf3d398c"],

Cell[" ", "FooterCell",ExpressionUUID->"af1aec02-2762-4c4a-bdca-8a79e3ed3002"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"ControlledGate",
Visible->True,
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, 
    "ExampleSection" -> {"0" -> Open, "1" -> Closed, "2" -> Closed}, 
    "AllOptsTable" -> Closed, "NotesSection" -> Closed, 
    "ExampleSubsection" -> {"0" -> Closed}}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "HasOptions" -> 
  True, "RootCaptions" -> "", "HeaderCoreAreaLink" -> {}, 
  "Metadata" -> {
   "built" -> "{2026, 2, 10, 14, 22, 36.432871}", 
    "history" -> {"12", "13.3", "", ""}, "context" -> "QuantumMob`Q3`", 
    "keywords" -> {}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> 
    "Quantum Mob/ Q3 Symbol", "language" -> "en", "paclet" -> "QuantumMob/Q3",
     "status" -> "None", "summary" -> 
    "ControlledGate[{c1, c2, ...}, op] represents a multi-control \
multi-target unitary gate with control qubits c1, c2, ... and unitary \
operator op acting on the target qubits. ControlledGate[c, op] is equivalent \
to ControlledGate[{c}, op]. ControlledGate[{c1 -> v1, c2 -> v2, ...}, op] \
represents a variation of the controlled-unitary gate, where operator op \
operates when the control qubits c1, c2, ... take the logical values v1, v2, \
..., respectively. ControlledGate[c -> v, ...] is automatically converted to \
ControlledGate[{c -> v}, ...]. ControlledGate[{c1, c2, ...} -> v, ...] is \
automatically converted to ControlledGate[{c1 -> v, c2 -> v, ...}, ...].", 
    "synonyms" -> {}, "tabletags" -> {}, "title" -> "ControlledGate", 
    "titlemodifier" -> "", "metadescription" -> "", "windowtitle" -> 
    "ControlledGate", "type" -> "Symbol", "uri" -> 
    "QuantumMob/Q3/ref/ControlledGate"}},
CellContext->"Global`",
FrontEndVersion->"14.3 for Mac OS X ARM (64-bit) (July 8, 2025)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "14.3 for Mac OS X ARM (64-bit) (July 8, 2025)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"],
ExpressionUUID->"cdfec8b4-82b8-44c2-99ac-807d0dee53a6"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[22401, 624, 1440, 38, 70, "PrimaryExamplesSection",ExpressionUUID->"e916ec90-0856-4507-a351-4f7474fe1e34",
   CellTags->"PrimaryExamplesSection",
   CellID->50123112]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 162304, 4455}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[582, 21, 7468, 179, 70, "AnchorBarGrid",ExpressionUUID->"b717ddab-84cb-471a-97ca-dfc09725d2d9",
 CellID->1],
Cell[8053, 202, 96, 0, 70, "ContextNameCell",ExpressionUUID->"36ad854a-8e14-4740-95e1-7abd5fcf2b5a"],
Cell[CellGroupData[{
Cell[8174, 206, 557, 14, 70, "ObjectNameGrid",ExpressionUUID->"fccd315f-db5c-431c-b3c9-80d885c712e9"],
Cell[8734, 222, 7581, 217, 70, "Usage",ExpressionUUID->"4710eef5-0775-407e-993b-ed4c4d69f92b"]
}, Open  ]],
Cell[CellGroupData[{
Cell[16352, 444, 1850, 45, 70, "NotesSection",ExpressionUUID->"b19f398d-a4bf-4cd2-b2eb-10bf11871dad",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->455642102],
Cell[18205, 491, 920, 28, 70, "Notes",ExpressionUUID->"5fb83261-c367-4c0d-aa60-9ecfde7cd1fe",
 CellID->1702748548],
Cell[19128, 521, 459, 13, 70, "Notes",ExpressionUUID->"8c9b1845-995a-484e-95a7-2ba5297c1d73",
 CellID->491054349],
Cell[19590, 536, 915, 26, 70, "Notes",ExpressionUUID->"2cf253de-24a3-4cf4-8994-16e017d98fe6",
 CellID->2019652723],
Cell[20508, 564, 892, 26, 70, "Notes",ExpressionUUID->"512449a0-7316-4ce5-8c8a-b2d382437cb2",
 CellID->384437925],
Cell[21403, 592, 871, 26, 70, "Notes",ExpressionUUID->"fc0d6ac1-99f7-42a4-a107-2e0e8abcbbd9",
 CellID->1895961038]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[22401, 624, 1440, 38, 70, "PrimaryExamplesSection",ExpressionUUID->"e916ec90-0856-4507-a351-4f7474fe1e34",
 CellTags->"PrimaryExamplesSection",
 CellID->50123112],
Cell[23844, 664, 202, 3, 70, "Input",ExpressionUUID->"1951e91c-ff18-44f0-8bc1-9833f44a4666",
 CellID->851865642],
Cell[CellGroupData[{
Cell[24071, 671, 1418, 37, 70, "ExampleSection",ExpressionUUID->"8152af1d-ad25-4162-8b89-88d64e602ebc",
 CellID->605553760],
Cell[25492, 710, 220, 5, 70, "Input",ExpressionUUID->"c82910c6-d42d-4bb6-9045-93204408bbeb",
 CellID->1403695601],
Cell[25715, 717, 170, 3, 70, "ExampleText",ExpressionUUID->"c907824b-0a44-4b35-9c04-99ca2e2015dc",
 CellID->493202586],
Cell[CellGroupData[{
Cell[25910, 724, 338, 9, 70, "Input",ExpressionUUID->"242fbdc2-aeda-4a4d-ad5a-cda6a15ddb40",
 CellID->1804103712],
Cell[26251, 735, 623, 17, 70, "Output",ExpressionUUID->"2e9a5edb-8537-4a7f-be21-622964ec4ca7",
 CellID->780170084]
}, Open  ]],
Cell[CellGroupData[{
Cell[26911, 757, 200, 4, 70, "Input",ExpressionUUID->"1234b9fa-3771-4110-ba90-4222f2912e43",
 CellID->1699357571],
Cell[27114, 763, 1573, 41, 70, "Output",ExpressionUUID->"20f73a6f-f462-4fe5-9e88-2b288cf19c5b",
 CellID->1930936853]
}, Open  ]],
Cell[CellGroupData[{
Cell[28724, 809, 229, 5, 70, "Input",ExpressionUUID->"1ed8f59b-18f9-478c-968e-514956375f58",
 CellID->388513540],
Cell[28956, 816, 787, 23, 70, "Output",ExpressionUUID->"7b8c07ce-b4b1-491c-a254-93f941437d1c",
 CellID->482814907]
}, Open  ]],
Cell[CellGroupData[{
Cell[29780, 844, 199, 4, 70, "Input",ExpressionUUID->"a018654e-cced-490c-a88d-1cd9e71f8a5b",
 CellID->310774973],
Cell[29982, 850, 1573, 41, 70, "Output",ExpressionUUID->"fe549a9f-6b9c-495b-9886-32d355a638db",
 CellID->1476923583]
}, Open  ]],
Cell[CellGroupData[{
Cell[31592, 896, 273, 7, 70, "Input",ExpressionUUID->"63ea661e-cfd3-4f8f-84c0-daae804b2dcc",
 CellID->227378000],
Cell[31868, 905, 2449, 61, 70, "Output",ExpressionUUID->"82bd61f7-2c53-440f-9fa6-7c40806dfe38",
 CellID->2038667455]
}, Open  ]],
Cell[CellGroupData[{
Cell[34354, 971, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"00f3e541-a24c-4e69-a893-a74bbac9d3e9",
 CellID->1117862758],
Cell[34600, 978, 210, 4, 70, "ExampleText",ExpressionUUID->"2ca9cdbe-d89b-4cb3-9cdc-e47bd50aa523",
 CellID->66695600],
Cell[CellGroupData[{
Cell[34835, 986, 204, 4, 70, "Input",ExpressionUUID->"70f2a3dd-2269-4877-890c-4294d79fe205",
 CellID->287461810],
Cell[35042, 992, 994, 24, 70, "Output",ExpressionUUID->"e55c83f7-532e-4745-9afc-0db2aa0852d0",
 CellID->782328300]
}, Open  ]],
Cell[36051, 1019, 446, 12, 70, "ExampleText",ExpressionUUID->"88f1a058-45b0-4bc0-a290-1217983a6326",
 CellID->376653752],
Cell[CellGroupData[{
Cell[36522, 1035, 733, 20, 70, "Input",ExpressionUUID->"85f60bcb-1dc8-4fca-bf23-8a8dc797f03c",
 CellID->1100337461],
Cell[37258, 1057, 1516, 37, 70, "Output",ExpressionUUID->"1f0ba1b3-6e4c-4669-9dc1-bd9e28f9e554",
 CellID->1696851166],
Cell[38777, 1096, 1515, 37, 70, "Output",ExpressionUUID->"4bcc44e3-5202-443a-9371-4906a6f4276a",
 CellID->394714802],
Cell[40295, 1135, 126, 2, 70, "Output",ExpressionUUID->"552e54bb-fd66-484b-8faf-f3b12865d5a2",
 CellID->394691631]
}, Open  ]],
Cell[CellGroupData[{
Cell[40458, 1142, 874, 24, 70, "Input",ExpressionUUID->"ecd55cc8-9858-4b67-b607-7f2ca9fcc4b3",
 CellID->1391490451],
Cell[41335, 1168, 4585, 107, 70, "Output",ExpressionUUID->"f06a451e-64e7-4b09-9eaf-126848fd9239",
 CellID->5256634],
Cell[45923, 1277, 4587, 107, 70, "Output",ExpressionUUID->"29b55fb6-c216-4f00-b738-46b3436cf13e",
 CellID->301418111],
Cell[50513, 1386, 125, 2, 70, "Output",ExpressionUUID->"3446e027-103b-4412-a203-e2d518449055",
 CellID->20268304]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[50687, 1394, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"83c1955b-038c-4633-a6fd-546afad2dc26",
 CellID->1893551625],
Cell[50933, 1401, 194, 4, 70, "ExampleText",ExpressionUUID->"4c2ec941-4689-4869-8e2a-4905ee1daa2f",
 CellID->1781572424],
Cell[CellGroupData[{
Cell[51152, 1409, 459, 13, 70, "Input",ExpressionUUID->"a1f4aa50-d61a-49a4-9364-2e2f12497f53",
 CellID->907561411],
Cell[51614, 1424, 1921, 44, 70, "Output",ExpressionUUID->"1aaf87d4-83f0-4f87-be10-17c07f807d0d",
 CellID->1346969102]
}, Open  ]],
Cell[CellGroupData[{
Cell[53572, 1473, 385, 10, 70, "Input",ExpressionUUID->"575f0fef-655c-483a-918e-2ce07cb56ce7",
 CellID->1556697824],
Cell[53960, 1485, 1255, 28, 70, "Output",ExpressionUUID->"b2e283fd-cedd-4fd7-8abd-727353055000",
 CellID->1884574287]
}, Open  ]],
Cell[CellGroupData[{
Cell[55252, 1518, 200, 4, 70, "Input",ExpressionUUID->"541e7a20-bbfa-472a-bd07-444a23e9eb4a",
 CellID->1323430295],
Cell[55455, 1524, 5862, 145, 70, "Output",ExpressionUUID->"8e96fbb6-9dc9-40e1-bfbe-3f3ec64434f4",
 CellID->803732006]
}, Open  ]],
Cell[61332, 1672, 151, 1, 70, "ExampleText",ExpressionUUID->"1950b447-0f6a-4494-8765-7aa838248fff",
 CellID->796325451],
Cell[CellGroupData[{
Cell[61508, 1677, 508, 14, 70, "Input",ExpressionUUID->"2c4ac056-bd8f-48ca-804e-08b323e8a9e1",
 CellID->1688856124],
Cell[62019, 1693, 1211, 28, 70, "Output",ExpressionUUID->"a4f9138d-459e-4f94-a781-ac9cec9f7e6f",
 CellID->651685212]
}, Open  ]],
Cell[CellGroupData[{
Cell[63267, 1726, 193, 4, 70, "Input",ExpressionUUID->"9889686e-d7cc-4669-b2ec-2ce469f8846f",
 CellID->97902928],
Cell[63463, 1732, 5188, 123, 70, "Output",ExpressionUUID->"c1e689f1-f162-4d31-a323-a44e7925f915",
 CellID->706758384]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[68700, 1861, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"7bf5d895-82b9-4df7-b428-4e23fe4ccc57",
 CellID->1616593910],
Cell[CellGroupData[{
Cell[68968, 1870, 592, 17, 70, "Input",ExpressionUUID->"d184a8f4-6cbd-4229-a300-2b3228a97806",
 CellID->423687378],
Cell[69563, 1889, 1276, 29, 70, "Output",ExpressionUUID->"8abe8978-0124-4d02-97b0-30bf104bd435",
 CellID->756108331]
}, Open  ]],
Cell[CellGroupData[{
Cell[70876, 1923, 663, 19, 70, "Input",ExpressionUUID->"e27bcbc0-8b36-443a-924a-8bf91b9dee3c",
 CellID->446009393],
Cell[71542, 1944, 2064, 49, 70, "Output",ExpressionUUID->"92c8a605-0047-411a-8c1e-a82d4fc7ee8a",
 CellID->1251979818]
}, Open  ]],
Cell[CellGroupData[{
Cell[73643, 1998, 256, 7, 70, "Input",ExpressionUUID->"b3908621-b530-49c7-a67a-2da48defd8e4",
 CellID->2072193516],
Cell[73902, 2007, 207, 4, 70, "Output",ExpressionUUID->"bf85c56b-bdbf-42ef-a1b4-5c8d6cf674cb",
 CellID->980027820]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]],
Cell[CellGroupData[{
Cell[74270, 2020, 1323, 35, 70, "ExampleSection",ExpressionUUID->"30b0bc32-c521-436d-ad14-2ec3a57e5eb1",
 CellID->1293636265],
Cell[CellGroupData[{
Cell[75618, 2059, 1333, 35, 70, "ExampleSubsection",ExpressionUUID->"fb341cfa-73c0-44a9-b100-592a923f8c7a",
 CellID->1965812958],
Cell[76954, 2096, 131, 2, 70, "Output",ExpressionUUID->"d72f18ed-721f-498e-be28-2d07dd6237cb",
 CellID->127998250],
Cell[77088, 2100, 230, 5, 70, "Input",ExpressionUUID->"92fbb74d-10ab-485c-88e4-d4574c62b292",
 CellID->1751976307],
Cell[77321, 2107, 190, 4, 70, "ExampleText",ExpressionUUID->"66e911a2-33fc-4eac-9152-4641d69c458f",
 CellID->458298458],
Cell[CellGroupData[{
Cell[77536, 2115, 384, 11, 70, "Input",ExpressionUUID->"7a31d126-0cce-4fbb-a794-4314eb98d18a",
 CellID->1005552493],
Cell[77923, 2128, 1201, 28, 70, "Output",ExpressionUUID->"f09e0689-4dd0-4c98-87c1-ec3604efe1e0",
 CellID->1635457103]
}, Open  ]],
Cell[CellGroupData[{
Cell[79161, 2161, 388, 10, 70, "Input",ExpressionUUID->"841bc915-3176-4d9d-95ba-6c02d79e03a1",
 CellID->1447119510],
Cell[79552, 2173, 1817, 45, 70, "Output",ExpressionUUID->"1263ee66-a33b-4999-bf5f-9ba67a2f6bc7",
 CellID->1484332168]
}, Open  ]],
Cell[CellGroupData[{
Cell[81406, 2223, 230, 5, 70, "Input",ExpressionUUID->"48cef4cc-4762-4140-8913-2ec2cae2556e",
 CellID->1905745843],
Cell[81639, 2230, 1267, 30, 70, "Output",ExpressionUUID->"42c841bf-2ebf-4c6b-a62b-8db8493ae14f",
 CellID->2000704024]
}, Open  ]],
Cell[CellGroupData[{
Cell[82943, 2265, 259, 6, 70, "Input",ExpressionUUID->"0cdf37d0-79dc-495f-ad70-1c5745cc5bb2",
 CellID->722936882],
Cell[83205, 2273, 2450, 55, 70, "Output",ExpressionUUID->"97b36037-aebc-40c3-88c8-483c333c239e",
 CellID->533586642]
}, Open  ]],
Cell[CellGroupData[{
Cell[85692, 2333, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"a79f203e-c159-4dfe-a17e-dea5712358bd",
 CellID->2123194462],
Cell[85938, 2340, 1959, 60, 70, "ExampleText",ExpressionUUID->"b8e8ca7f-a9c3-4f43-af7e-e654bb4b966c",
 CellID->227879916],
Cell[87900, 2402, 230, 5, 70, "Input",ExpressionUUID->"3fbba9b1-9b6a-4b08-8a8b-bd4622c1d5cd",
 CellID->1801264145],
Cell[88133, 2409, 136, 1, 70, "ExampleText",ExpressionUUID->"c099c147-1b32-4122-92c7-902dca333a7e",
 CellID->1033495556],
Cell[CellGroupData[{
Cell[88294, 2414, 530, 16, 70, "Input",ExpressionUUID->"287d995f-5ef6-48cd-a0a7-3c8c0e1be08d",
 CellID->1096870451],
Cell[88827, 2432, 544, 16, 70, "Output",ExpressionUUID->"728300e2-af83-4a17-a619-3ce1eb66a4d9",
 CellID->654678359]
}, Open  ]],
Cell[89386, 2451, 147, 1, 70, "ExampleText",ExpressionUUID->"9d6734f6-73a7-4a70-a480-9a0606a43d34",
 CellID->1955102746],
Cell[CellGroupData[{
Cell[89558, 2456, 345, 8, 70, "Input",ExpressionUUID->"b30d99c0-6580-4910-926d-adf36260fcf5",
 CellID->2059470547],
Cell[89906, 2466, 1385, 43, 70, "Output",ExpressionUUID->"71d6b990-dff0-4a4e-bec6-ce29d859fa91",
 CellID->1226843977]
}, Open  ]],
Cell[91306, 2512, 196, 4, 70, "ExampleText",ExpressionUUID->"42eafaca-4399-4e5e-b1a9-5fb3dbffbeb1",
 CellID->1600123813],
Cell[CellGroupData[{
Cell[91527, 2520, 453, 11, 70, "Input",ExpressionUUID->"9306cfd1-71ef-48cd-a03b-162dd488ccf6",
 CellID->8884588],
Cell[91983, 2533, 1173, 28, 70, "Output",ExpressionUUID->"f6e86fb8-ada1-4cca-9b09-2fc92de60417",
 CellID->2090953321]
}, Open  ]],
Cell[93171, 2564, 207, 4, 70, "ExampleText",ExpressionUUID->"3de96286-ab21-454a-8855-938385fae3ba",
 CellID->777355164],
Cell[CellGroupData[{
Cell[93403, 2572, 222, 5, 70, "Input",ExpressionUUID->"6d9d405b-1441-46c5-98dc-3181e9f4ca29",
 CellID->1865987295],
Cell[93628, 2579, 5376, 116, 70, "Output",ExpressionUUID->"861dbb9a-052c-4763-a321-a5e17ddb9503",
 CellID->1874986980]
}, Open  ]],
Cell[CellGroupData[{
Cell[99041, 2700, 338, 9, 70, "Input",ExpressionUUID->"4587ecd1-49da-4eb2-b0f8-26e0a31a6a2c",
 CellID->298820583],
Cell[99382, 2711, 116, 1, 70, "EchoTiming",ExpressionUUID->"ce725f4f-1cdf-4bcf-a48a-3f5f2ce53e8d",
 CellID->1083284888],
Cell[99501, 2714, 126, 2, 70, "Output",ExpressionUUID->"0db1eec4-0049-4204-92f5-625f2b6021e1",
 CellID->402753350]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[99676, 2722, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"40c00426-6b58-428e-b341-39ba83c3d006",
 CellID->1705608657],
Cell[99922, 2729, 1139, 33, 70, "ExampleText",ExpressionUUID->"d3a1843b-16e5-4830-807c-21aef4a2463f",
 CellID->181077262],
Cell[CellGroupData[{
Cell[101086, 2766, 222, 5, 70, "Input",ExpressionUUID->"06205087-6aa1-4ba9-b6ad-3ebe15eb5c7b",
 CellID->1563352008],
Cell[101311, 2773, 5376, 116, 70, "Output",ExpressionUUID->"78149a8a-4b48-4806-9dfd-2b9164750b28",
 CellID->1223159902]
}, Open  ]],
Cell[106702, 2892, 125, 1, 70, "ExampleText",ExpressionUUID->"5d05eee9-c92c-470b-9c8d-cd9a5e118dc3",
 CellID->1652630181],
Cell[CellGroupData[{
Cell[106852, 2897, 306, 7, 70, "Input",ExpressionUUID->"a369739b-382a-4984-a682-7ef1e2a021a5",
 CellID->63469277],
Cell[107161, 2906, 2860, 85, 70, "Output",ExpressionUUID->"a947050a-eef2-41b0-9c8b-a128d88b0613",
 CellID->605206458]
}, Open  ]],
Cell[110036, 2994, 238, 6, 70, "ExampleText",ExpressionUUID->"2cde06ef-a93e-46d3-8ef5-4a2b9317f871",
 CellID->1753917898],
Cell[CellGroupData[{
Cell[110299, 3004, 402, 11, 70, "Input",ExpressionUUID->"a9931576-e405-4a92-9a6c-fc75c6f5a6cb",
 CellID->1043909238],
Cell[110704, 3017, 115, 1, 70, "EchoTiming",ExpressionUUID->"7c205c4c-4f19-456d-8bfd-8f309da3e90e",
 CellID->997000311],
Cell[110822, 3020, 127, 2, 70, "Output",ExpressionUUID->"41f47c7a-de2a-4074-880c-6611d47958b1",
 CellID->1916813083]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[110998, 3028, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"71cd4b75-be7f-4c62-810a-c99f5beba527",
 CellID->1600539001],
Cell[111244, 3035, 571, 17, 70, "ExampleText",ExpressionUUID->"85c20807-f00a-4322-949d-fa8b2885ec0b",
 CellID->595717937],
Cell[CellGroupData[{
Cell[111840, 3056, 388, 10, 70, "Input",ExpressionUUID->"8587c7c0-5811-4805-82bc-33c94c7432db",
 CellID->1811053528],
Cell[112231, 3068, 1137, 33, 70, "Output",ExpressionUUID->"398678b9-1b46-42c6-b32f-0148dd383c64",
 CellID->1570984905]
}, Open  ]],
Cell[CellGroupData[{
Cell[113405, 3106, 231, 5, 70, "Input",ExpressionUUID->"8d08fd36-f519-4a7c-9875-b7c59ac826a4",
 CellID->1793861229],
Cell[113639, 3113, 1274, 29, 70, "Output",ExpressionUUID->"64b2a0a9-30a7-46e5-9017-9b8d68bb0880",
 CellID->1831951961]
}, Open  ]],
Cell[114928, 3145, 395, 8, 70, "ExampleText",ExpressionUUID->"75a41819-b97f-4a0b-bc3b-771d07f4415d",
 CellID->1051097161],
Cell[CellGroupData[{
Cell[115348, 3157, 265, 6, 70, "Input",ExpressionUUID->"0a15f4ed-2291-4903-a7f4-3d2308773772",
 CellID->1765521323],
Cell[115616, 3165, 5705, 122, 70, "Output",ExpressionUUID->"c767749c-6e1a-4bd1-a7d9-3e2d38527ca3",
 CellID->485927215]
}, Open  ]],
Cell[CellGroupData[{
Cell[121358, 3292, 298, 8, 70, "Input",ExpressionUUID->"9d69a21c-40cf-438a-9fd1-45fee95ab3f1",
 CellID->1192347325],
Cell[121659, 3302, 115, 1, 70, "EchoTiming",ExpressionUUID->"c8ccbfa9-7504-42b6-926b-436b7be3b941",
 CellID->854468408],
Cell[121777, 3305, 126, 2, 70, "Output",ExpressionUUID->"096c0989-4b6f-4f27-a9a0-546865b8b6c6",
 CellID->827385767]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "0"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, Closed]]]],
Cell[CellGroupData[{
Cell[122179, 3319, 1346, 35, 70, "ExampleSection",ExpressionUUID->"a0a530b4-4824-44ab-b0ae-557b91274e5a",
 CellID->1020263627],
Cell[123528, 3356, 218, 5, 70, "Input",ExpressionUUID->"292f9e5e-4add-48eb-8927-d2db17a5e55d",
 CellID->54597739],
Cell[123749, 3363, 257, 4, 70, "ExampleText",ExpressionUUID->"72cc4b1b-7964-464f-80c6-4617991b3568",
 CellID->1658935743],
Cell[CellGroupData[{
Cell[124031, 3371, 334, 8, 70, "Input",ExpressionUUID->"76879d73-1929-4e03-b4be-8bf7211bcf05",
 CellID->450269680],
Cell[124368, 3381, 204, 4, 70, "Output",ExpressionUUID->"284314cd-381f-4cae-8fbf-bfa5a98953f6",
 CellID->1401153192]
}, Open  ]],
Cell[CellGroupData[{
Cell[124609, 3390, 255, 6, 70, "Input",ExpressionUUID->"cdb6295c-3103-4bef-8710-81f8525af0e5",
 CellID->113446564],
Cell[124867, 3398, 841, 26, 70, "Output",ExpressionUUID->"b46ba138-d07b-4ac1-8c6d-499a2f79b34b",
 CellID->756121647]
}, Open  ]],
Cell[CellGroupData[{
Cell[125745, 3429, 366, 10, 70, "Input",ExpressionUUID->"5269f506-e32e-495b-aac0-d71a90114a7d",
 CellID->1884776724],
Cell[126114, 3441, 715, 23, 70, "Output",ExpressionUUID->"04088a4e-678a-4c13-9758-1cfe3e4c4c3d",
 CellID->42368583]
}, Open  ]],
Cell[CellGroupData[{
Cell[126866, 3469, 600, 16, 70, "Input",ExpressionUUID->"ac16c774-ee19-43b3-af40-b2490b1ecd45",
 CellID->1389124015],
Cell[127469, 3487, 1169, 27, 70, "Output",ExpressionUUID->"b93f2c6d-8d5f-40ec-8513-d95c4eedaec3",
 CellID->1971343166]
}, Open  ]],
Cell[CellGroupData[{
Cell[128675, 3519, 653, 17, 70, "Input",ExpressionUUID->"544e0c0f-df48-4499-a99b-94c3c3598a9f",
 CellID->125637926],
Cell[129331, 3538, 1100, 27, 70, "Output",ExpressionUUID->"ddf0dffd-60b9-452d-b9b4-4b85f80360f5",
 CellID->1162173736]
}, Open  ]],
Cell[CellGroupData[{
Cell[130468, 3570, 261, 6, 70, "Input",ExpressionUUID->"490a28fd-d8b9-41b6-ad89-726b59c00aad",
 CellID->1909614846],
Cell[130732, 3578, 127, 2, 70, "Output",ExpressionUUID->"8a66fbaa-6381-4047-80f2-671486274f42",
 CellID->1549838250]
}, Open  ]],
Cell[130874, 3583, 175, 3, 70, "ExampleText",ExpressionUUID->"2dfae2d1-220c-4e79-9561-294df17d4c77",
 CellID->511713125],
Cell[CellGroupData[{
Cell[131074, 3590, 279, 7, 70, "Input",ExpressionUUID->"e7ef83c6-183e-4835-9002-2a3424623527",
 CellID->375479679],
Cell[131356, 3599, 420, 9, 70, "Message",ExpressionUUID->"96bb5503-0695-4623-b15f-50f4becf58f8",
 CellID->979473987],
Cell[131779, 3610, 717, 23, 70, "Output",ExpressionUUID->"366f455f-df24-4fbd-a692-4c1e90d14d89",
 CellID->1557145254]
}, Open  ]],
Cell[CellGroupData[{
Cell[132533, 3638, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"a4150d4d-57b3-4063-8822-c80142f21e1e",
 CellID->174573991],
Cell[132778, 3645, 374, 9, 70, "ExampleText",ExpressionUUID->"6bf1753b-e398-4213-9e42-14f27649d813",
 CellID->1484041902],
Cell[CellGroupData[{
Cell[133177, 3658, 419, 12, 70, "Input",ExpressionUUID->"411a238b-b268-45eb-b372-c04f29c6fdd2",
 CellID->1674411155],
Cell[133599, 3672, 1036, 32, 70, "Output",ExpressionUUID->"183cd5c6-7b87-4731-b0c7-b9e898ccf735",
 CellID->1586000921]
}, Open  ]],
Cell[CellGroupData[{
Cell[134672, 3709, 195, 4, 70, "Input",ExpressionUUID->"aa4eb695-3f46-44ea-8ead-4545f9889948",
 CellID->1750426850],
Cell[134870, 3715, 2259, 67, 70, "Output",ExpressionUUID->"075b3d70-cb15-485d-83c7-7ffa76ad19aa",
 CellID->460261667]
}, Open  ]],
Cell[CellGroupData[{
Cell[137166, 3787, 264, 7, 70, "Input",ExpressionUUID->"cefc1f1e-1842-4179-9b84-f679ca5fde27",
 CellID->295000539],
Cell[137433, 3796, 884, 26, 70, "Output",ExpressionUUID->"43feb5e4-9346-4cd0-8a10-8d9edd8ee06c",
 CellID->1748716918]
}, Open  ]],
Cell[138332, 3825, 175, 3, 70, "ExampleText",ExpressionUUID->"4f5b9fb3-78eb-44b5-93c2-bede2c9ab6c1",
 CellID->2142135012],
Cell[CellGroupData[{
Cell[138532, 3832, 506, 15, 70, "Input",ExpressionUUID->"a9067825-3c20-4b3a-b824-4160ffc66dd9",
 CellID->1434563406],
Cell[139041, 3849, 983, 28, 70, "Output",ExpressionUUID->"8e1e054e-8744-4fc5-a6b7-8772c5a5338f",
 CellID->217033675]
}, Open  ]],
Cell[CellGroupData[{
Cell[140061, 3882, 294, 7, 70, "Input",ExpressionUUID->"689a08a1-063f-4dd5-ac3b-a23b01324695",
 CellID->1544994010],
Cell[140358, 3891, 126, 2, 70, "Output",ExpressionUUID->"99186ac8-5f32-4fb1-bd80-d43a2772f5fa",
 CellID->977449893]
}, Open  ]],
Cell[140499, 3896, 309, 5, 70, "ExampleText",ExpressionUUID->"9d251dbe-12c6-4a9f-ba0c-356ecf55f572",
 CellID->382850454],
Cell[CellGroupData[{
Cell[140833, 3905, 655, 18, 70, "Input",ExpressionUUID->"c56c2cee-da67-449a-a98e-2ed545ad82ad",
 CellID->1698297027],
Cell[141491, 3925, 1375, 30, 70, "Output",ExpressionUUID->"b51dce1b-718b-4827-9338-add4b58f4013",
 CellID->1402986240]
}, Open  ]],
Cell[142881, 3958, 244, 4, 70, "ExampleText",ExpressionUUID->"9c9d6763-7b80-415a-a9e0-89bffb9ca2d3",
 CellID->42562061],
Cell[CellGroupData[{
Cell[143150, 3966, 1956, 54, 70, "Input",ExpressionUUID->"20650a7c-34fc-4814-9321-a938a1fa5ec4",
 CellID->385898355],
Cell[145109, 4022, 4991, 111, 70, "Output",ExpressionUUID->"8677606f-7c89-410f-899b-1164fbd901c8",
 CellID->1196780901]
}, Open  ]],
Cell[CellGroupData[{
Cell[150137, 4138, 500, 12, 70, "Input",ExpressionUUID->"4f8584e2-6142-49d2-aac9-9ea75ef71bd3",
 CellID->286463219],
Cell[150640, 4152, 126, 2, 70, "Output",ExpressionUUID->"9f51a052-dd19-48e4-8c00-b64a83c9868c",
 CellID->887805792],
Cell[150769, 4156, 126, 2, 70, "Output",ExpressionUUID->"64b79d3f-61b0-444d-9bb7-a521743e7dde",
 CellID->635566788],
Cell[150898, 4160, 126, 2, 70, "Output",ExpressionUUID->"8e0dc242-24fa-4e3b-85c8-957e6fb09d0b",
 CellID->387345738]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "2"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[151278, 4172, 2451, 66, 70, "SeeAlsoSection",ExpressionUUID->"801f2549-9dc9-4295-8212-656ecce1c1c3"],
Cell[153732, 4240, 2631, 65, 70, "TutorialsSection",ExpressionUUID->"1aa98912-0ebb-44d7-9d95-8e3e0e751ef0"],
Cell[156366, 4307, 1124, 28, 70, "MoreAboutSection",ExpressionUUID->"5262ddd5-8f21-4e02-87ab-1a10f720f0dd"],
Cell[157493, 4337, 2094, 59, 70, "RelatedLinksSection",ExpressionUUID->"ec6cc6bf-204d-493b-be34-3a41cf3d398c"],
Cell[159590, 4398, 78, 0, 70, "FooterCell",ExpressionUUID->"af1aec02-2762-4c4a-bdca-8a79e3ed3002"]
}
]
*)

(* End of internal cache information *)
