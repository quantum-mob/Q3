(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[     71198,       1902]
NotebookOptionsPosition[     60409,       1689]
NotebookOutlinePosition[     62678,       1745]
CellTagsIndexPosition[     62592,       1740]
WindowTitle->VacuumExpectation
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["QUANTUM MOB/ Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "4f65bab4-f7f1-4b77-8af3-4fe24dbc792a"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "4f55b12b-d982-43e4-b296-36845e68f6da"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "77248a3a-6193-4f1c-a580-b4d16f6447a2"]
         }],ExpressionUUID->"26879190-343f-4588-8c53-ef8e6b2932e8"],
         StripOnInput->False],{
        StyleBox["\"Vacuum\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/Vacuum"], 
         StyleBox[
          "\"SurviveVacuum\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/SurviveVacuum"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "a73633ea-4315-425f-9a38-9aab019b8b6c"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "1e113eab-6b1d-488e-b57c-931ff17ad17f"]
         }],ExpressionUUID->"9451584f-f556-4882-bb53-b1e00796e7c7"],
         StripOnInput->False],{
        "\"Quantum Many-Body Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/guide/QuantumManyBodySystems"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "7a4c02ce-c657-4351-b649-f1fa81b5c763"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "88d8b1e1-5700-42ee-9554-aee53ed0fd90"]
         }],ExpressionUUID->"cf571953-f8df-4d78-a359-7cbcb7db8858"],
         StripOnInput->False],{
        "\"Quantum Many-Body Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuantumManyBodySystems"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "0f328a32-609a-41d6-a362-7fac33f0c726"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "1334db8c-03bb-4bd3-85c7-cd93ec7ffd78"]
         }],ExpressionUUID->"07829d6b-5e70-4d55-ad4a-3de1e9b30d1f"],
         StripOnInput->False],{
        "\"QuantumMob/Q3/ref/VacuumExpectation\"" :> None, 
         "\"Copy Wolfram Documentation Center URL\"" :> 
         CopyToClipboard["QuantumMob/Q3/ref/VacuumExpectation"], Delimiter, 
         "\"Copy web URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{
               Cell[BoxData[
                 MakeBoxes[
                  Hyperlink[
                   "http://reference.wolfram.com/language/QuantumMob/Q3/ref/\
VacuumExpectation.html"], StandardForm]], "Input", TextClipboardType -> 
                 "PlainText"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], 
         "\"Go to web URL\"" :> 
         FrontEndExecute[{
           NotebookLocate[{
             URL[If[TrueQ[False], 
                 "http://reference.wolfram.com/system-modeler/", 
                 "http://reference.wolfram.com/language/"] <> 
               "QuantumMob/Q3/ref/VacuumExpectation" <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "18cbd960-4ecf-4cad-a368-6477c59a084c"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "67cfdb75-2172-4b48-bdf1-4f3f844e306d"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"45c0c031-3553-4aee-b2b9-1736555b53fd"],

Cell["QuantumMob`Q3`", "ContextNameCell",ExpressionUUID->"5387e855-aeaa-4fae-ac07-f22619816cf6"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "VacuumExpectation", "ObjectName",ExpressionUUID->
      "3db420a4-71e5-4c6a-a304-bb70b078a843"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"e9604bb7-444e-4c9b-a549-3ba1ec753024"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "2bc4fae5-2c3e-4d64-8150-4ce6cdeb0178"]
    }],ExpressionUUID->"ea25b01d-ab11-4e8a-846b-8785b2f5bce8"], Cell[BoxData[
     StyleBox[
      GraphicsBox[InsetBox[
        StyleBox["\<\"UPDATED IN 14.1\"\>",
         StripOnInput->False,
         FontFamily->"Source Sans Pro",
         FontSize->17,
         FontWeight->"Bold",
         FontSlant->"Italic",
         FontColor->RGBColor[0.968627, 0.466667, 0]], {Right, Center}, {
        Right, Center}],
       ImageSize->{125, 24},
       PlotRangePadding->Scaled[0.025]], "NewInGraphic",
      StripOnInput->False]],
     Deployed->True,
     Magnification->1,ExpressionUUID->
     "b50a2e90-09b7-4263-b2f5-cea75a66dcda"]}
  }]], "ObjectNameGrid",
 CacheGraphics->False,ExpressionUUID->"1aa4d046-5da6-4d4d-b488-565287f0f0b1"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{"VacuumExpectation", "[", 
       StyleBox["expr", "TI"], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "2ef48da4-26a7-45f0-9670-c87e960b6b61"],
     "\[LineSeparator]returns the vacuum expectation value of ",
     Cell[BoxData[
      StyleBox["expr", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "c5b002dc-1d20-4ad0-afa6-701ba258b5e9"],
     "."
    }],ExpressionUUID->"c32c17d6-1c6e-4df7-936a-b7f8b3e7fad7"]}
  }]], "Usage",ExpressionUUID->"8af184e1-3f83-4739-850f-1b14e28bfc3f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{
      13.600000000000003`, {-0.1685058593749993, 13.768505859375}}]],
    ExpressionUUID->"290dd6e1-ea76-4063-8438-f8bdd18bc145"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"8247390e-5ffc-4e2a-aad6-ba9c812de934"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"1ede88cf-4eb9-4a6a-8e50-411261f9cd41"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"bd80c71c-0e53-44f2-83ca-1913ebde0881"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->583901594,ExpressionUUID->"fd2336f3-eaf7-4361-a17b-331a99c7a00e"],

Cell["The following options can be given: ", "Notes",ExpressionUUID->"a4df8a81-633a-472a-ac57-058a96dceb6f"],

Cell[BoxData[GridBox[{
   {Cell["      ", "TableRowIcon",ExpressionUUID->
     "3af0dada-b295-434e-9e26-8a0d62bb8a0a"], 
    TemplateBox[{
      Cell[
       TextData["Method"]], "paclet:ref/Method"},
     "RefLink",
     BaseStyle->{"3ColumnTableMod"}], "Algebra", Cell[TextData[{
     "With \"Algebra\" it uses the standard algebraic method and with \
\"Occupations\" using the ",
     Cell[BoxData[
      TemplateBox[{
        Cell[
         TextData["Fock"]], "paclet:QuantumMob/Q3/ref/Fock", 
        "QuantumMob Package Symbol"},
       "PackageLink",
       BaseStyle->"3ColumnTableMod"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "e3a491d5-5538-43d6-86ba-24bdf720e170"],
     " states Ket[<|...|>]."
    }], "TableText",ExpressionUUID->"6a3c058f-e3db-497a-8907-dc53451161b2"]}
  }]], "3ColumnTableMod",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {{None}}},
 GridBoxDividers->{
  "Rows" -> {{
     True, True}}}},ExpressionUUID->"6aed0f13-a03f-4ff4-aa28-77adc7f9bdf0"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.251494140625001, 9.348505859375003}}]],
  ExpressionUUID->"a27cc3b6-29fd-497e-be2a-38032a69d98b"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"3757ad34-3523-468e-8700-5efe8fbb4d6a"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(3)", "ExampleCount",ExpressionUUID->
  "01264b69-d860-4fdf-b8e0-44ee55eb3aed"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->1781307215,ExpressionUUID->"95a90e05-46d4-4a97-80df-fb2a36c409a2"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<QuantumMob`Q3`\>\"", "]"}]], "Input", "ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->1927565408,ExpressionUUID->"024f336f-3a03-42dd-bc5a-9d1aa92e53dd"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.551318359375001, 9.048681640625002}}]],
  ExpressionUUID->"48944684-4be7-43e8-9065-9f9b9aa0724b"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"ad5ff09f-e1ae-4460-84c1-29ea820e0121"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(3)", "ExampleCount",ExpressionUUID->
  "252bd637-a26c-4000-9fdb-dc6bf5cb62e7"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->360839678,ExpressionUUID->"b5d88634-205b-46fd-b2bf-5948e11790ba"],

Cell["For bosons, it is more or less straightforward.", "ExampleText",
 CellID->814487388,ExpressionUUID->"11c85158-82c9-4684-9226-b956f0778321"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a", ",", "b"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1028764138,ExpressionUUID->"9c360511-f4dd-40d3-98d7-810cd5606150"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aa", "=", 
  RowBox[{"MultiplyPower", "[", 
   RowBox[{"a", ",", "3"}], "]"}]}], "\n", 
 RowBox[{"expr", "=", 
  RowBox[{"aa", "**", 
   RowBox[{"Dagger", "[", "aa", "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "expr", "]"}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", 
  RowBox[{"expr", ",", 
   RowBox[{"Method", "\[Rule]", "\"\<Occupations\>\""}]}], "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1048025369,ExpressionUUID->"92e20fc4-378e-4808-8023-c18c47b71ec2"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", "a", "a", "a"}, 
     "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[$CellContext`a, $CellContext`a, $CellContext`a]]], "Output",
 CellLabel->"Out[2]=",
 CellID->707697795,ExpressionUUID->"cae99f96-3798-4db7-a4fa-54d91d6b94d6"],

Cell[BoxData[
 RowBox[{"6", "+", 
  RowBox[{"18", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"a", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         Q3`Dagger[$CellContext`a]], "a"}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[$CellContext`a], $CellContext`a]]}], "+", 
  RowBox[{"9", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"a", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         Q3`Dagger[$CellContext`a]], 
        InterpretationBox[
         TemplateBox[{"a", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         Q3`Dagger[$CellContext`a]], "a", "a"}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[$CellContext`a], 
     Q3`Dagger[$CellContext`a], $CellContext`a, $CellContext`a]]}], "+", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"a", 
          
          TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
           "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
         SuperscriptBox], 
        Q3`Dagger[$CellContext`a]], 
       InterpretationBox[
        TemplateBox[{"a", 
          
          TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
           "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
         SuperscriptBox], 
        Q3`Dagger[$CellContext`a]], 
       InterpretationBox[
        TemplateBox[{"a", 
          
          TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
           "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
         SuperscriptBox], 
        Q3`Dagger[$CellContext`a]], "a", "a", "a"}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[$CellContext`a], 
    Q3`Dagger[$CellContext`a], 
    Q3`Dagger[$CellContext`a], $CellContext`a, $CellContext`a, \
$CellContext`a]]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1512403479,ExpressionUUID->"efee3c3b-8584-40a9-903a-b4ebf9b2c3e2"],

Cell[BoxData["6"], "Output",
 CellLabel->"Out[2]=",
 CellID->1348825661,ExpressionUUID->"a0be4dce-1010-4dfe-b0e2-211b017c7924"],

Cell[BoxData["6"], "Output",
 CellLabel->"Out[2]=",
 CellID->875506695,ExpressionUUID->"3b324b38-c09a-4801-9ee7-9e4f5d08e536"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aa", "=", 
  RowBox[{
   RowBox[{"a", "[", "i", "]"}], "**", 
   RowBox[{"a", "[", "j", "]"}], "**", 
   RowBox[{"a", "[", "l", "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "aa", "]"}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", 
  RowBox[{"Dagger", "[", "aa", "]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"VacuumExpectation", "[", 
   RowBox[{"aa", "**", 
    RowBox[{"Dagger", "[", "aa", "]"}]}], "]"}], "//", "Simplify"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"VacuumExpectation", "[", 
   RowBox[{"aa", "**", 
    RowBox[{"Dagger", "[", "aa", "]"}]}], "]"}], "/.", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"j", "\[Rule]", "i"}], ",", 
    RowBox[{"l", "\[Rule]", "i"}]}], "}"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1245538910,ExpressionUUID->"54e1487c-200b-492f-8003-0eabb64047ec"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "l"}, "RowWithSeparators"]], 
       $CellContext`a[$CellContext`l]], 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "j"}, "RowWithSeparators"]], 
       $CellContext`a[$CellContext`j]], 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "i"}, "RowWithSeparators"]], 
       $CellContext`a[$CellContext`i]]}, "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[
   $CellContext`a[$CellContext`l], 
   $CellContext`a[$CellContext`j], 
   $CellContext`a[$CellContext`i]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->496087249,ExpressionUUID->"89e0bff0-935a-4b5a-851f-e9be50d79010"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->1206876289,ExpressionUUID->"aa894134-bdc9-4967-bd73-166981b795e3"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->986743308,ExpressionUUID->"071b747f-43ca-4ecd-a49b-2c453cfe14ce"],

Cell[BoxData[
 RowBox[{"1", "+", 
  TemplateBox[{
    RowBox[{"i", ",", "l"}]},
   "KroneckerDeltaSeq"], "+", 
  TemplateBox[{
    RowBox[{"j", ",", "l"}]},
   "KroneckerDeltaSeq"], "+", 
  RowBox[{
   TemplateBox[{
     RowBox[{"i", ",", "j"}]},
    "KroneckerDeltaSeq"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", " ", 
      TemplateBox[{
        RowBox[{"i", ",", "l"}]},
       "KroneckerDeltaSeq"], " ", 
      TemplateBox[{
        RowBox[{"j", ",", "l"}]},
       "KroneckerDeltaSeq"]}]}], ")"}]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1326055422,ExpressionUUID->"d817f2df-4f31-423b-83ff-18bb3ccfe249"],

Cell[BoxData["6"], "Output",
 CellLabel->"Out[3]=",
 CellID->428188988,ExpressionUUID->"cb512d7f-48b6-49d8-9efd-448f40104742"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "91349292-d898-451a-b3a1-de4ec86340e5"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->130908940,ExpressionUUID->"91e5c24a-fcce-46d3-8544-4f1db0096d7a"],

Cell["\<\
For a Fermion with Void vacuum, it is as simple as the Bosonic case.\
\>", "ExampleText",
 CellID->2489740,ExpressionUUID->"1a5a5550-fda9-4a12-b6c4-9ee9f5ad3f4f"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "d"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1042870887,ExpressionUUID->"33344226-399f-4dbf-bb7f-b9bb8c4735bb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dd", "=", 
  RowBox[{
   RowBox[{"d", "[", "Up", "]"}], "**", 
   RowBox[{"d", "[", "Down", "]"}]}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1916954642,ExpressionUUID->"a9c5426c-7045-449b-883e-465156de18df"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       SubscriptBox["d", 
        TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, "RowWithSeparators"]], 
       $CellContext`d[Plus[1]/2]], 
      InterpretationBox[
       SubscriptBox["d", 
        TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, "RowWithSeparators"]], 
       $CellContext`d[(-1)/2]]}, "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[
   $CellContext`d[
    Rational[1, 2]], 
   $CellContext`d[
    Rational[-1, 2]]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1213022651,ExpressionUUID->"118d8356-4eaa-47aa-89e8-f89257e865dc"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"dd", "**", 
  RowBox[{"Dagger", "[", "dd", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", 
  RowBox[{"dd", " ", "**", " ", 
   RowBox[{"Dagger", "[", "dd", "]"}]}], "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1244370327,ExpressionUUID->"17e5c413-0037-417c-a44f-73b9b175e376"],

Cell[BoxData[
 RowBox[{"1", "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"d", 
          
          TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`d[(-1)/2]]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`d[(-1)/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`d[
      Rational[-1, 2]]], 
    $CellContext`d[
     Rational[-1, 2]]]], "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"d", 
          TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, "RowWithSeparators"], 
          
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`d[1/2]]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`d[Plus[1]/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`d[
      Rational[1, 2]]], 
    $CellContext`d[
     Rational[1, 2]]]], "+", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"d", 
          
          TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`d[(-1)/2]]], 
       InterpretationBox[
        TemplateBox[{"d", 
          TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, "RowWithSeparators"], 
          
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`d[1/2]]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`d[Plus[1]/2]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`d[(-1)/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`d[
      Rational[-1, 2]]], 
    Q3`Dagger[
     $CellContext`d[
      Rational[1, 2]]], 
    $CellContext`d[
     Rational[1, 2]], 
    $CellContext`d[
     Rational[-1, 2]]]]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1485319708,ExpressionUUID->"55f0ebb7-7609-48a9-bbe1-a288fc243bc9"],

Cell[BoxData["1"], "Output",
 CellLabel->"Out[3]=",
 CellID->1418419628,ExpressionUUID->"d7a50c2c-9ab0-455d-8b5a-4dda45119b0b"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "4e3e7ee3-cc6f-409a-9b54-d54fd2c14d66"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->622693905,ExpressionUUID->"c63f394d-4438-412a-8bd2-1284d49508f4"],

Cell["\<\
The most complicated case is when the Vacuum is a Fermi sea (Vacuum == \
\"Sea\").\
\>", "ExampleText",
 CellID->1374766908,ExpressionUUID->"0aabdfa5-8aaf-4f10-b9e0-0309d0e25fd0"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "c", ",", "d", ",", " ", 
   RowBox[{"Vacuum", "\[Rule]", "\"\<Sea\>\""}]}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->930864683,ExpressionUUID->"60ba04f8-df3e-474b-b644-539b647128d7"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"nn", "=", 
  RowBox[{"MultiplyPower", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"c", "[", 
      RowBox[{"k", ",", "Up"}], "]"}], "**", 
     RowBox[{"Dagger", "[", 
      RowBox[{"c", "[", 
       RowBox[{"k", ",", "Up"}], "]"}], "]"}]}], ",", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "nn", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->624358786,ExpressionUUID->"249699f5-fcd7-4986-9b44-b6ce8c09b54c"],

Cell[BoxData[
 RowBox[{"1", "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          
          TemplateBox[{",", "\",\"", "1", "\"\[UpArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[1, 1/2]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "1", "\"\[UpArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`c[1, Plus[1]/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[1, 
      Rational[1, 2]]], 
    $CellContext`c[1, 
     Rational[1, 2]]]]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1493083383,ExpressionUUID->"1fc06a29-8e3d-4e1a-93f3-2a81fd26ef8d"],

Cell[BoxData["1"], "Output",
 CellLabel->"Out[2]=",
 CellID->906002886,ExpressionUUID->"a47cda0d-e786-48c9-b6b5-b9d95cc4e6c3"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"k", "=", 
   RowBox[{"-", "1"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"nn", "=", 
  RowBox[{"MultiplyPower", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"c", "[", 
      RowBox[{"k", ",", "Up"}], "]"}], "**", 
     RowBox[{"Dagger", "[", 
      RowBox[{"c", "[", 
       RowBox[{"k", ",", "Up"}], "]"}], "]"}]}], ",", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "nn", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1419121191,ExpressionUUID->"24dc5bd5-863c-43d9-9aae-8a762680bf00"],

Cell[BoxData[
 RowBox[{"1", "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", 
            RowBox[{"-", "1"}], "\"\[UpArrow]\""}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[-1, 1/2]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", 
           RowBox[{"-", "1"}], "\"\[UpArrow]\""}, "RowWithSeparators"]], 
        $CellContext`c[-1, Plus[1]/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[-1, 
      Rational[1, 2]]], 
    $CellContext`c[-1, 
     Rational[1, 2]]]]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1420930842,ExpressionUUID->"2420a013-ec76-4878-b422-8dabf149962c"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->1566506854,ExpressionUUID->"6abe44fa-452b-4bc4-962c-dab9453e4a1a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Clear", "[", "k", "]"}], "\[IndentingNewLine]", 
 RowBox[{"expr", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"c", "[", 
     RowBox[{"i", ",", "s"}], "]"}], "^", "Dagger"}], "**", 
   RowBox[{"c", "[", 
    RowBox[{"j", ",", "s"}], "]"}], "**", 
   RowBox[{"c", "[", 
    RowBox[{"k", ",", "s"}], "]"}], "**", 
   RowBox[{
    RowBox[{"c", "[", 
     RowBox[{"l", ",", "s"}], "]"}], "^", "Dagger"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "expr", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1630700915,ExpressionUUID->"e2bb43c0-4590-44b0-b784-98941ebcacd1"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   TemplateBox[{
     RowBox[{"k", ",", "l"}]},
    "KroneckerDeltaSeq"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"c", 
           TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`c[$CellContext`i, $CellContext`s]]], 
        InterpretationBox[
         SubscriptBox["c", 
          TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
         $CellContext`c[$CellContext`j, $CellContext`s]]}, 
       "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[
      $CellContext`c[$CellContext`i, $CellContext`s]], 
     $CellContext`c[$CellContext`j, $CellContext`s]]]}], "-", 
  RowBox[{
   TemplateBox[{
     RowBox[{"j", ",", "l"}]},
    "KroneckerDeltaSeq"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"c", 
           TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`c[$CellContext`i, $CellContext`s]]], 
        InterpretationBox[
         SubscriptBox["c", 
          TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
         $CellContext`c[$CellContext`k, $CellContext`s]]}, 
       "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[
      $CellContext`c[$CellContext`i, $CellContext`s]], 
     $CellContext`c[$CellContext`k, $CellContext`s]]]}], "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`l, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`k, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, $CellContext`s]]}, 
      "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`i, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`l, $CellContext`s]], 
    $CellContext`c[$CellContext`k, $CellContext`s], 
    $CellContext`c[$CellContext`j, $CellContext`s]]]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->2132039604,ExpressionUUID->"cc653f2b-c81c-4605-afee-0043241268dd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Bra"], 
         Bra[Q3`Vacuum]], 
        InterpretationBox[
         TemplateBox[{"c", 
           TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`c[$CellContext`i, $CellContext`s]]], 
        InterpretationBox[
         TemplateBox[{"c", 
           TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`c[$CellContext`l, $CellContext`s]]], 
        InterpretationBox[
         SubscriptBox["c", 
          TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
         $CellContext`c[$CellContext`k, $CellContext`s]], 
        InterpretationBox[
         SubscriptBox["c", 
          TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
         $CellContext`c[$CellContext`j, $CellContext`s]], 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
         Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Bra[Q3`Vacuum], 
     Q3`Dagger[
      $CellContext`c[$CellContext`i, $CellContext`s]], 
     Q3`Dagger[
      $CellContext`c[$CellContext`l, $CellContext`s]], 
     $CellContext`c[$CellContext`k, $CellContext`s], 
     $CellContext`c[$CellContext`j, $CellContext`s], 
     Ket[Q3`Vacuum]]]}], "-", 
  RowBox[{
   TemplateBox[{
     RowBox[{"i", ",", "k"}]},
    "KroneckerDeltaSeq"], " ", 
   TemplateBox[{
     RowBox[{"j", ",", "l"}]},
    "KroneckerDeltaSeq"], " ", 
   InterpretationBox[
    TagBox[
     RowBox[{"\[Theta]", "(", 
      RowBox[{"-", "i"}], ")"}],
     DisplayForm],
    UnitStep[-$CellContext`i]]}], "+", 
  RowBox[{
   TemplateBox[{
     RowBox[{"i", ",", "j"}]},
    "KroneckerDeltaSeq"], " ", 
   TemplateBox[{
     RowBox[{"k", ",", "l"}]},
    "KroneckerDeltaSeq"], " ", 
   InterpretationBox[
    TagBox[
     RowBox[{"\[Theta]", "(", 
      RowBox[{"-", "i"}], ")"}],
     DisplayForm],
    UnitStep[-$CellContext`i]]}]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->277490586,ExpressionUUID->"adae625f-2f8a-4d36-9921-97d19d89ce32"]
}, Open  ]],

Cell["\<\
If operators have different Heads, then they are regarded different \
regardless of the Flavor indices.\
\>", "ExampleText",
 CellID->606257165,ExpressionUUID->"2d68a44f-3478-4b3e-82a0-9d4814b28a5a"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr2", "=", 
  RowBox[{"Multiply", "[", 
   RowBox[{
    RowBox[{"Dagger", "[", 
     RowBox[{"c", "[", 
      RowBox[{"i", ",", " ", "s"}], "]"}], "]"}], ",", " ", 
    RowBox[{"Dagger", "[", 
     RowBox[{"c", "[", 
      RowBox[{"l", ",", " ", "s"}], "]"}], "]"}], ",", " ", 
    RowBox[{"c", "[", 
     RowBox[{"j", ",", " ", "s"}], "]"}], ",", " ", 
    RowBox[{"d", "[", 
     RowBox[{"k", ",", " ", "s"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"expr2a", "=", 
  RowBox[{"VacuumExpectation", "[", "expr2", "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1701750787,ExpressionUUID->"bb493cc9-d8a6-4ee4-916a-393fb4517029"],

Cell[BoxData[
 RowBox[{"-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`l, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
        $CellContext`d[$CellContext`k, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, $CellContext`s]]}, 
      "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`i, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`l, $CellContext`s]], 
    $CellContext`d[$CellContext`k, $CellContext`s], 
    $CellContext`c[$CellContext`j, $CellContext`s]]]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->1553264899,ExpressionUUID->"2f0637a8-96d0-4068-ac35-fd767cd2c298"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[5]=",
 CellID->911944561,ExpressionUUID->"823825c2-f83b-47c3-a5ff-be7394b69b88"]
}, Open  ]],

Cell["Further Examples", "ExampleText",
 CellID->1517812154,ExpressionUUID->"a29ccf02-ff36-4afc-bb83-8b976c4a346d"],

Cell[BoxData[{
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "c"}], "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->2058113212,ExpressionUUID->"c8960f3a-026d-4005-8ddc-f5ef6912753b"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr", "=", 
  RowBox[{
   RowBox[{"a", "[", "1", "]"}], "**", 
   RowBox[{"Exp", "[", 
    RowBox[{"a", "[", "1", "]"}], "]"}], "**", 
   RowBox[{
    RowBox[{"c", "[", 
     RowBox[{"1", ",", "Up"}], "]"}], "^", "Dagger"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"expr", "**", 
  RowBox[{"VacuumState", "[", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SurviveVacuum", "[", "expr", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[7]:=",
 CellID->1189651855,ExpressionUUID->"02534c32-d8e6-4e12-b0da-13fba72fb45a"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
       $CellContext`a[1]], 
      InterpretationBox[
       TemplateBox[{"c", 
         TemplateBox[{",", "\",\"", "1", "\"\[UpArrow]\""}, 
          "RowWithSeparators"], 
         TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
        "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
       Q3`Dagger[
        $CellContext`c[1, 1/2]]], 
      InterpretationBox[
       SuperscriptBox["\[ExponentialE]", 
        InterpretationBox[
         SubscriptBox["a", 
          TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
         $CellContext`a[1]]], 
       Q3`MultiplyExp[
        $CellContext`a[1]]]}, "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[
   $CellContext`a[1], 
   Q3`Dagger[
    $CellContext`c[1, 
     Rational[1, 2]]], 
   Q3`MultiplyExp[
    $CellContext`a[1]]]]], "Output",
 CellLabel->"Out[7]=",
 CellID->1646377443,ExpressionUUID->"4d807968-faa6-4398-b0ad-3888ce3f8e05"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[7]=",
 CellID->338892906,ExpressionUUID->"42c2920a-efb1-4e04-8ced-d6cbd217d37f"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[7]=",
 CellID->646439298,ExpressionUUID->"fee00a2b-f0d7-46f6-bd58-5802d0a35ee4"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr", "=", 
  RowBox[{
   RowBox[{"a", "[", "1", "]"}], "**", 
   RowBox[{"Exp", "[", 
    RowBox[{
     RowBox[{"MultiplyPower", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"a", "[", "1", "]"}], "^", "Dagger"}], ",", "3"}], "]"}], "+", 
     RowBox[{"a", "[", "1", "]"}]}], "]"}], "**", 
   RowBox[{
    RowBox[{"c", "[", "1", "]"}], "^", 
    "Dagger"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"expr", "**", 
  RowBox[{"VacuumState", "[", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SurviveVacuum", "[", "expr", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[8]:=",
 CellID->512660530,ExpressionUUID->"0cecf8e8-8a59-43f4-8c6a-3a3f66a3d699"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
       $CellContext`a[1]], 
      InterpretationBox[
       TemplateBox[{"c", 
         TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
         TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
        "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
       Q3`Dagger[
        $CellContext`c[1]]], 
      InterpretationBox[
       SuperscriptBox["\[ExponentialE]", 
        RowBox[{
          InterpretationBox[
           SubscriptBox["a", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
           $CellContext`a[1]], "+", 
          InterpretationBox[
           TemplateBox[{
             TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
               InterpretationBox[
                TemplateBox[{"a", 
                  TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
                  
                  TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
                   "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
                 SubsuperscriptBox], 
                Q3`Dagger[
                 $CellContext`a[1]]], 
               InterpretationBox[
                TemplateBox[{"a", 
                  TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
                  
                  TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
                   "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
                 SubsuperscriptBox], 
                Q3`Dagger[
                 $CellContext`a[1]]], 
               InterpretationBox[
                TemplateBox[{"a", 
                  TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
                  
                  TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
                   "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
                 SubsuperscriptBox], 
                Q3`Dagger[
                 $CellContext`a[1]]]}, "RowWithSeparators"]}, "RowDefault"], 
           Q3`Multiply[
            Q3`Dagger[
             $CellContext`a[1]], 
            Q3`Dagger[
             $CellContext`a[1]], 
            Q3`Dagger[
             $CellContext`a[1]]]]}]], 
       Q3`MultiplyExp[$CellContext`a[1] + Q3`Multiply[
          Q3`Dagger[
           $CellContext`a[1]], 
          Q3`Dagger[
           $CellContext`a[1]], 
          Q3`Dagger[
           $CellContext`a[1]]]]]}, "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[
   $CellContext`a[1], 
   Q3`Dagger[
    $CellContext`c[1]], 
   Q3`MultiplyExp[$CellContext`a[1] + Q3`Multiply[
      Q3`Dagger[
       $CellContext`a[1]], 
      Q3`Dagger[
       $CellContext`a[1]], 
      Q3`Dagger[
       $CellContext`a[1]]]]]]], "Output",
 CellLabel->"Out[8]=",
 CellID->2040371474,ExpressionUUID->"3579edee-e1d4-4829-9219-ce5a3a528bd9"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[8]=",
 CellID->1504488222,ExpressionUUID->"fc38a327-28a3-49c0-a65a-629efa557cc4"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[8]=",
 CellID->1461087376,ExpressionUUID->"b96f5847-d7ae-40c5-97bd-c747ca0703d0"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "c", ",", "d", ",", 
   RowBox[{"Vacuum", "\[Rule]", "\"\<Sea\>\""}]}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[9]:=",
 CellID->640720002,ExpressionUUID->"8afe24c8-6fc5-4877-9fdb-6b27aec77739"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr1", "=", 
  RowBox[{"Multiply", "[", 
   RowBox[{
    RowBox[{"Dagger", "[", 
     RowBox[{"c", "[", 
      RowBox[{"i", ",", " ", "s"}], "]"}], "]"}], ",", " ", 
    RowBox[{"Dagger", "[", 
     RowBox[{"c", "[", 
      RowBox[{"l", ",", " ", "s"}], "]"}], "]"}], ",", " ", 
    RowBox[{"c", "[", 
     RowBox[{"j", ",", " ", "s"}], "]"}], ",", " ", 
    RowBox[{"c", "[", 
     RowBox[{"k", ",", " ", "s"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"expr2", "=", 
  RowBox[{
   RowBox[{"c", "[", 
    RowBox[{"i", ",", "Up"}], "]"}], "**", 
   RowBox[{"VacuumExpectation", "[", "expr1", "]"}], "**", 
   RowBox[{
    RowBox[{"c", "[", 
     RowBox[{"j", ",", "Down"}], "]"}], "^", "Dagger"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"expr3", "=", 
  RowBox[{"Dagger", "[", "expr2", "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[10]:=",
 CellID->1098067556,ExpressionUUID->"b6edfb90-a935-4657-a7d4-184dd3ac76f1"],

Cell[BoxData[
 RowBox[{"-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`l, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`k, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, $CellContext`s]]}, 
      "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`i, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`l, $CellContext`s]], 
    $CellContext`c[$CellContext`k, $CellContext`s], 
    $CellContext`c[$CellContext`j, $CellContext`s]]]}]], "Output",
 CellLabel->"Out[10]=",
 CellID->279273307,ExpressionUUID->"b0d8e7a4-9448-468b-94f7-20ee41a2d5dc"],

Cell[BoxData[
 RowBox[{
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          
          TemplateBox[{",", "\",\"", "j", "\"\[DownArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`j, (-1)/2]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "i", "\"\[UpArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`c[$CellContext`i, Plus[1]/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`j, 
      Rational[-1, 2]]], 
    $CellContext`c[$CellContext`i, 
     Rational[1, 2]]]], " ", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"\"\[CupCap]\""}, "Bra"], 
        Bra[Q3`Vacuum]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`l, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`k, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, $CellContext`s]], 
       InterpretationBox[
        TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
        Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Bra[Q3`Vacuum], 
    Q3`Dagger[
     $CellContext`c[$CellContext`i, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`l, $CellContext`s]], 
    $CellContext`c[$CellContext`k, $CellContext`s], 
    $CellContext`c[$CellContext`j, $CellContext`s], 
    Ket[Q3`Vacuum]]]}]], "Output",
 CellLabel->"Out[10]=",
 CellID->1494702054,ExpressionUUID->"1387f88b-ea87-409d-9416-03d67cde0f0c"],

Cell[BoxData[
 RowBox[{
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          
          TemplateBox[{",", "\",\"", "i", "\"\[UpArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, 1/2]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "\"\[DownArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, (-1)/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`i, 
      Rational[1, 2]]], 
    $CellContext`c[$CellContext`j, 
     Rational[-1, 2]]]], " ", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"\"\[CupCap]\""}, "Bra"], 
        Bra[Q3`Vacuum]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`j, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`k, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`l, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`i, $CellContext`s]], 
       InterpretationBox[
        TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
        Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Bra[Q3`Vacuum], 
    Q3`Dagger[
     $CellContext`c[$CellContext`j, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`k, $CellContext`s]], 
    $CellContext`c[$CellContext`l, $CellContext`s], 
    $CellContext`c[$CellContext`i, $CellContext`s], 
    Ket[Q3`Vacuum]]]}]], "Output",
 CellLabel->"Out[10]=",
 CellID->193718972,ExpressionUUID->"ccbc8cfa-19c3-488b-b120-cfe1b0378bd4"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Vacuum"]], "paclet:QuantumMob/Q3/ref/Vacuum", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "126288cd-52ed-46ce-b0bc-15f63a7edba2"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["SurviveVacuum"]], 
           "paclet:QuantumMob/Q3/ref/SurviveVacuum", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "fbf51ac6-492d-482d-ba5d-06bf7eea65cb"]
       }], "SeeAlso",ExpressionUUID->"9275ed5f-10f6-43f0-badc-4ce5f8fa76dc"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"9ce982d1-7bc9-409f-9d58-\
7102cd90ec00"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTutorial.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TutorialsSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Many-Body Systems with Q3"]], 
           "paclet:QuantumMob/Q3/tutorial/QuantumManyBodySystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "028295c4-ddff-492c-831c-968f63772705"]}]}
     }]}
  }]], "TutorialsSection",ExpressionUUID->"454773e9-d4a3-42da-b18c-\
29049ff2b01d"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Many-Body Systems"]], 
           "paclet:QuantumMob/Q3/guide/QuantumManyBodySystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "d86f3dc6-9aee-40d1-9d0e-b9adcbe6b081"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"2b6584b0-a5b5-4623-a369-\
6c7884dacaf3"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "a6556e79-eab6-4f2b-aaf3-0f505a625e19"]}]],ExpressionUUID->
         "2b38322f-703f-4468-970c-fdd593739692"],
        ", A Quantum Computation Workbook (Springer)."
       }], "RelatedLinks",ExpressionUUID->
        "81edff69-35ad-40b7-b66f-5a11dd1535d4"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"fbff08c3-decf-469a-a92d-\
e2f4ad10a708"],

Cell[" ", "FooterCell",ExpressionUUID->"982dbd90-1482-43e5-b945-400b81cab025"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"VacuumExpectation",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, "ExampleSection" -> {"0" -> Open}, 
    "AllOptsTable" -> Closed, "NotesSection" -> Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "HasOptions" -> 
  True, "RootCaptions" -> "", "HeaderCoreAreaLink" -> {}, 
  "Metadata" -> {
   "built" -> "{2025, 3, 8, 15, 26, 10.510074}", 
    "history" -> {"12", "14.1", "", ""}, "context" -> "QuantumMob`Q3`", 
    "keywords" -> {"vacuum expectation value"}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> 
    "Quantum Mob/ Q3 Symbol", "language" -> "en", "paclet" -> "QuantumMob/Q3",
     "status" -> "None", "summary" -> 
    "VacuumExpectation[expr] returns the vacuum expectation value of expr.", 
    "synonyms" -> {}, "tabletags" -> {}, "title" -> "VacuumExpectation", 
    "titlemodifier" -> "", "metadescription" -> "", "windowtitle" -> 
    "VacuumExpectation", "type" -> "Symbol", "uri" -> 
    "QuantumMob/Q3/ref/VacuumExpectation"}},
CellContext->"Global`",
FrontEndVersion->"14.2 for Mac OS X ARM (64-bit) (December 26, 2024)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "14.2 for Mac OS X ARM (64-bit) (December 26, 2024)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"],
ExpressionUUID->"29281958-1cfe-48f4-9342-79f7ec1e6cf7"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[11989, 317, 1441, 38, 34, "PrimaryExamplesSection",ExpressionUUID->"95a90e05-46d4-4a97-80df-fb2a36c409a2",
   CellTags->"PrimaryExamplesSection",
   CellID->1781307215]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 62391, 1733}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[585, 21, 6276, 156, 50, "AnchorBarGrid",ExpressionUUID->"45c0c031-3553-4aee-b2b9-1736555b53fd",
 CellID->1],
Cell[6864, 179, 96, 0, 22, "ContextNameCell",ExpressionUUID->"5387e855-aeaa-4fae-ac07-f22619816cf6"],
Cell[CellGroupData[{
Cell[6985, 183, 1129, 29, 57, "ObjectNameGrid",ExpressionUUID->"1aa4d046-5da6-4d4d-b488-565287f0f0b1"],
Cell[8117, 214, 638, 14, 106, "Usage",ExpressionUUID->"8af184e1-3f83-4739-850f-1b14e28bfc3f"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8792, 233, 1916, 48, 34, "NotesSection",ExpressionUUID->"fd2336f3-eaf7-4361-a17b-331a99c7a00e",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->583901594],
Cell[10711, 283, 108, 0, 70, "Notes",ExpressionUUID->"a4df8a81-633a-472a-ac57-058a96dceb6f"],
Cell[10822, 285, 1040, 26, 70, "3ColumnTableMod",ExpressionUUID->"6aed0f13-a03f-4ff4-aa28-77adc7f9bdf0"]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[11989, 317, 1441, 38, 34, "PrimaryExamplesSection",ExpressionUUID->"95a90e05-46d4-4a97-80df-fb2a36c409a2",
 CellTags->"PrimaryExamplesSection",
 CellID->1781307215],
Cell[13433, 357, 203, 3, 29, "Input",ExpressionUUID->"024f336f-3a03-42dd-bc5a-9d1aa92e53dd",
 CellID->1927565408],
Cell[CellGroupData[{
Cell[13661, 364, 1418, 37, 29, "ExampleSection",ExpressionUUID->"b5d88634-205b-46fd-b2bf-5948e11790ba",
 CellID->360839678],
Cell[15082, 403, 145, 1, 37, "ExampleText",ExpressionUUID->"11c85158-82c9-4684-9226-b956f0778321",
 CellID->814487388],
Cell[15230, 406, 230, 5, 28, "Input",ExpressionUUID->"9c360511-f4dd-40d3-98d7-810cd5606150",
 CellID->1028764138],
Cell[CellGroupData[{
Cell[15485, 415, 573, 13, 81, "Input",ExpressionUUID->"92e20fc4-378e-4808-8023-c18c47b71ec2",
 CellID->1048025369],
Cell[16061, 430, 346, 8, 36, "Output",ExpressionUUID->"cae99f96-3798-4db7-a4fa-54d91d6b94d6",
 CellID->707697795],
Cell[16410, 440, 2658, 69, 36, "Output",ExpressionUUID->"efee3c3b-8584-40a9-903a-b4ebf9b2c3e2",
 CellID->1512403479],
Cell[19071, 511, 127, 2, 36, "Output",ExpressionUUID->"a0be4dce-1010-4dfe-b0e2-211b017c7924",
 CellID->1348825661],
Cell[19201, 515, 126, 2, 36, "Output",ExpressionUUID->"3b324b38-c09a-4801-9ee7-9e4f5d08e536",
 CellID->875506695]
}, Open  ]],
Cell[CellGroupData[{
Cell[19364, 522, 918, 23, 98, "Input",ExpressionUUID->"54e1487c-200b-492f-8003-0eabb64047ec",
 CellID->1245538910],
Cell[20285, 547, 856, 22, 36, "Output",ExpressionUUID->"89e0bff0-935a-4b5a-851f-e9be50d79010",
 CellID->496087249],
Cell[21144, 571, 127, 2, 36, "Output",ExpressionUUID->"aa894134-bdc9-4967-bd73-166981b795e3",
 CellID->1206876289],
Cell[21274, 575, 126, 2, 36, "Output",ExpressionUUID->"071b747f-43ca-4ecd-a49b-2c453cfe14ce",
 CellID->986743308],
Cell[21403, 579, 639, 22, 36, "Output",ExpressionUUID->"d817f2df-4f31-423b-83ff-18bb3ccfe249",
 CellID->1326055422],
Cell[22045, 603, 126, 2, 36, "Output",ExpressionUUID->"cb512d7f-48b6-49d8-9efd-448f40104742",
 CellID->428188988]
}, Open  ]],
Cell[CellGroupData[{
Cell[22208, 610, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"91e5c24a-fcce-46d3-8544-4f1db0096d7a",
 CellID->130908940],
Cell[22453, 617, 172, 3, 70, "ExampleText",ExpressionUUID->"1a5a5550-fda9-4a12-b6c4-9ee9f5ad3f4f",
 CellID->2489740],
Cell[22628, 622, 222, 5, 70, "Input",ExpressionUUID->"33344226-399f-4dbf-bb7f-b9bb8c4735bb",
 CellID->1042870887],
Cell[CellGroupData[{
Cell[22875, 631, 273, 7, 70, "Input",ExpressionUUID->"a9c5426c-7045-449b-883e-465156de18df",
 CellID->1916954642],
Cell[23151, 640, 690, 19, 36, "Output",ExpressionUUID->"118d8356-4eaa-47aa-89e8-f89257e865dc",
 CellID->1213022651]
}, Open  ]],
Cell[CellGroupData[{
Cell[23878, 664, 365, 8, 70, "Input",ExpressionUUID->"17e5c413-0037-417c-a44f-73b9b175e376",
 CellID->1244370327],
Cell[24246, 674, 3153, 92, 36, "Output",ExpressionUUID->"55f0ebb7-7609-48a9-bbe1-a288fc243bc9",
 CellID->1485319708],
Cell[27402, 768, 127, 2, 36, "Output",ExpressionUUID->"d7a50c2c-9ab0-455d-8b5a-4dda45119b0b",
 CellID->1418419628]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[27578, 776, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"c63f394d-4438-412a-8bd2-1284d49508f4",
 CellID->622693905],
Cell[27823, 783, 189, 4, 70, "ExampleText",ExpressionUUID->"0aabdfa5-8aaf-4f10-b9e0-0309d0e25fd0",
 CellID->1374766908],
Cell[28015, 789, 291, 6, 70, "Input",ExpressionUUID->"60ba04f8-df3e-474b-b644-539b647128d7",
 CellID->930864683],
Cell[CellGroupData[{
Cell[28331, 799, 574, 15, 70, "Input",ExpressionUUID->"249699f5-fcd7-4986-9b44-b6ce8c09b54c",
 CellID->624358786],
Cell[28908, 816, 959, 27, 38, "Output",ExpressionUUID->"1fc06a29-8e3d-4e1a-93f3-2a81fd26ef8d",
 CellID->1493083383],
Cell[29870, 845, 126, 2, 36, "Output",ExpressionUUID->"a47cda0d-e786-48c9-b6b5-b9d95cc4e6c3",
 CellID->906002886]
}, Open  ]],
Cell[CellGroupData[{
Cell[30033, 852, 594, 16, 70, "Input",ExpressionUUID->"24dc5bd5-863c-43d9-9aae-8a762680bf00",
 CellID->1419121191],
Cell[30630, 870, 984, 26, 38, "Output",ExpressionUUID->"2420a013-ec76-4878-b422-8dabf149962c",
 CellID->1420930842],
Cell[31617, 898, 127, 2, 36, "Output",ExpressionUUID->"6abe44fa-452b-4bc4-962c-dab9453e4a1a",
 CellID->1566506854]
}, Open  ]],
Cell[CellGroupData[{
Cell[31781, 905, 648, 17, 70, "Input",ExpressionUUID->"e2bb43c0-4590-44b0-b784-98941ebcacd1",
 CellID->1630700915],
Cell[32432, 924, 3470, 85, 37, "Output",ExpressionUUID->"cc653f2b-c81c-4605-afee-0043241268dd",
 CellID->2132039604],
Cell[35905, 1011, 2549, 71, 38, "Output",ExpressionUUID->"adae625f-2f8a-4d36-9921-97d19d89ce32",
 CellID->277490586]
}, Open  ]],
Cell[38469, 1085, 209, 4, 70, "ExampleText",ExpressionUUID->"2d68a44f-3478-4b3e-82a0-9d4814b28a5a",
 CellID->606257165],
Cell[CellGroupData[{
Cell[38703, 1093, 707, 18, 70, "Input",ExpressionUUID->"bb493cc9-d8a6-4ee4-916a-393fb4517029",
 CellID->1701750787],
Cell[39413, 1113, 1605, 37, 37, "Output",ExpressionUUID->"2f0637a8-96d0-4068-ac35-fd767cd2c298",
 CellID->1553264899],
Cell[41021, 1152, 126, 2, 36, "Output",ExpressionUUID->"823825c2-f83b-47c3-a5ff-be7394b69b88",
 CellID->911944561]
}, Open  ]],
Cell[41162, 1157, 115, 1, 70, "ExampleText",ExpressionUUID->"a29ccf02-ff36-4afc-bb83-8b976c4a346d",
 CellID->1517812154],
Cell[41280, 1160, 308, 7, 70, "Input",ExpressionUUID->"c8960f3a-026d-4005-8ddc-f5ef6912753b",
 CellID->2058113212],
Cell[CellGroupData[{
Cell[41613, 1171, 559, 14, 70, "Input",ExpressionUUID->"02534c32-d8e6-4e12-b0da-13fba72fb45a",
 CellID->1189651855],
Cell[42175, 1187, 1160, 33, 38, "Output",ExpressionUUID->"4d807968-faa6-4398-b0ad-3888ce3f8e05",
 CellID->1646377443],
Cell[43338, 1222, 126, 2, 36, "Output",ExpressionUUID->"42c2920a-efb1-4e04-8ced-d6cbd217d37f",
 CellID->338892906],
Cell[43467, 1226, 126, 2, 36, "Output",ExpressionUUID->"fee00a2b-f0d7-46f6-bd58-5802d0a35ee4",
 CellID->646439298]
}, Open  ]],
Cell[CellGroupData[{
Cell[43630, 1233, 699, 19, 70, "Input",ExpressionUUID->"0cecf8e8-8a59-43f4-8c6a-3a3f66a3d699",
 CellID->512660530],
Cell[44332, 1254, 3020, 79, 38, "Output",ExpressionUUID->"3579edee-e1d4-4829-9219-ce5a3a528bd9",
 CellID->2040371474],
Cell[47355, 1335, 127, 2, 36, "Output",ExpressionUUID->"fc38a327-28a3-49c0-a65a-629efa557cc4",
 CellID->1504488222],
Cell[47485, 1339, 127, 2, 36, "Output",ExpressionUUID->"b96f5847-d7ae-40c5-97bd-c747ca0703d0",
 CellID->1461087376]
}, Open  ]],
Cell[47627, 1344, 286, 6, 70, "Input",ExpressionUUID->"8afe24c8-6fc5-4877-9fdb-6b27aec77739",
 CellID->640720002],
Cell[CellGroupData[{
Cell[47938, 1354, 977, 26, 70, "Input",ExpressionUUID->"b6edfb90-a935-4657-a7d4-184dd3ac76f1",
 CellID->1098067556],
Cell[48918, 1382, 1605, 37, 37, "Output",ExpressionUUID->"b0d8e7a4-9448-468b-94f7-20ee41a2d5dc",
 CellID->279273307],
Cell[50526, 1421, 2714, 68, 38, "Output",ExpressionUUID->"1387f88b-ea87-409d-9416-03d67cde0f0c",
 CellID->1494702054],
Cell[53243, 1491, 2707, 68, 38, "Output",ExpressionUUID->"ccbc8cfa-19c3-488b-b120-cfe1b0378bd4",
 CellID->193718972]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[56204, 1569, 1399, 37, 70, "SeeAlsoSection",ExpressionUUID->"9ce982d1-7bc9-409f-9d58-7102cd90ec00"],
Cell[57606, 1608, 782, 20, 70, "TutorialsSection",ExpressionUUID->"454773e9-d4a3-42da-b18c-29049ff2b01d"],
Cell[58391, 1630, 764, 19, 70, "MoreAboutSection",ExpressionUUID->"2b6584b0-a5b5-4623-a369-6c7884dacaf3"],
Cell[59158, 1651, 1166, 34, 70, "RelatedLinksSection",ExpressionUUID->"fbff08c3-decf-469a-a92d-e2f4ad10a708"],
Cell[60327, 1687, 78, 0, 70, "FooterCell",ExpressionUUID->"982dbd90-1482-43e5-b945-400b81cab025"]
}
]
*)

(* End of internal cache information *)

