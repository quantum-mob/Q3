(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[     71214,       1903]
NotebookOptionsPosition[     60419,       1689]
NotebookOutlinePosition[     62694,       1746]
CellTagsIndexPosition[     62608,       1741]
WindowTitle->VacuumExpectation
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["QUANTUM MOB/ Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "d2cb6fdd-3229-484a-b6ac-c831967e35f6"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "8266c9fc-0a03-4e42-807b-2477f222953b"],
        Background->LightDarkSwitched[
          RGBColor[0.490196, 0.576471, 0.690196]],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "8e761745-c813-4249-8076-366a013b8e2b"]
         }],ExpressionUUID->"afeae62c-c5da-4459-828e-00aacdc3126f"],
         StripOnInput->False],{
        StyleBox["\"Vacuum\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/Vacuum"], 
         StyleBox[
          "\"SurviveVacuum\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/SurviveVacuum"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "d6240d4d-001f-4011-8b53-b900174a97ff"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "2c9b9f66-791a-42d0-830b-e1f5c2502de4"]
         }],ExpressionUUID->"81f24c03-debe-4a96-9245-92ad88b66d7a"],
         StripOnInput->False],{
        "\"Quantum Many-Body Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/guide/QuantumManyBodySystems"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "c5f6a62d-7af4-4189-900e-9795784961dc"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "55555832-f8ba-45d0-8378-3786aea8b2cf"]
         }],ExpressionUUID->"9c17e743-f0b2-4e39-a47d-19f9d91ecb44"],
         StripOnInput->False],{
        "\"Quantum Many-Body Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuantumManyBodySystems"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "72f2c671-ef42-4c2a-8954-a78f0c4691ac"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "0afc6bdb-1e65-4d41-b14c-986025a5e250"]
         }],ExpressionUUID->"38cd9760-efd1-4cc3-8a11-6b8e0efe7ee4"],
         StripOnInput->False],{
        "\"QuantumMob/Q3/ref/VacuumExpectation\"" :> None, 
         "\"Copy Wolfram Documentation Center URL\"" :> 
         CopyToClipboard["QuantumMob/Q3/ref/VacuumExpectation"], Delimiter, 
         "\"Copy web URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{
               Cell[BoxData[
                 MakeBoxes[
                  Hyperlink[
                   "http://reference.wolfram.com/language/QuantumMob/Q3/ref/\
VacuumExpectation.html"], StandardForm]], "Input", TextClipboardType -> 
                 "PlainText"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], 
         "\"Go to web URL\"" :> 
         FrontEndExecute[{
           NotebookLocate[{
             URL[(If[TrueQ[False], 
                  "http://reference.wolfram.com/system-modeler/", 
                  "http://reference.wolfram.com/language/"] <> 
                "QuantumMob/Q3/ref/VacuumExpectation") <> ".html"], None}]}]},
        
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "9ecb0b76-ae4f-4924-a325-8bcc290f9fc6"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "95e0409d-e663-4902-af8a-3c05cfa75691"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"400117c1-aada-41e3-b490-13a26f221fb9"],

Cell["QuantumMob`Q3`", "ContextNameCell",ExpressionUUID->"c589abac-cae6-497a-b290-cd5c44f0f1ad"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "VacuumExpectation", "ObjectName",ExpressionUUID->
      "cd311cc7-e5f5-407e-82e5-4ff591ffc828"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"69fc39be-87b7-4558-ab22-f3075ba93098"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "6aa1cc10-2f79-41c0-8a56-c28bebc469f0"]
    }],ExpressionUUID->"81e62d1c-0451-4f9b-bb80-dd869f016913"], Cell[BoxData[
     StyleBox[
      GraphicsBox[InsetBox[
        StyleBox["\<\"UPDATED IN 14.1\"\>",
         StripOnInput->False,
         FontFamily->"Source Sans Pro",
         FontSize->17,
         FontWeight->"Bold",
         FontSlant->"Italic",
         FontColor->LightDarkSwitched[
           RGBColor[0.968627, 0.466667, 0]]], {Right, Center}, {
        Right, Center}],
       ImageSize->{125, 24},
       PlotRangePadding->Scaled[0.025]], "NewInGraphic",
      StripOnInput->False]],
     Deployed->True,
     Magnification->1,ExpressionUUID->
     "efa094f0-b388-423a-a544-b622c9047f3d"]}
  }]], "ObjectNameGrid",
 CacheGraphics->False,ExpressionUUID->"c4868b0c-747d-4365-997c-72eb0f1911c8"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{"VacuumExpectation", "[", 
       StyleBox["expr", "TI"], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "a3a5d505-a7e6-4af9-804d-9e1718f7811f"],
     "\[LineSeparator]returns the vacuum expectation value of ",
     Cell[BoxData[
      StyleBox["expr", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "780962da-f2f8-4efc-a691-c66dad5fe7eb"],
     "."
    }],ExpressionUUID->"c72d6ea8-cfad-4301-be26-4f85a4dc2f9e"]}
  }]], "Usage",ExpressionUUID->"182b5a41-fc19-463d-8a31-2b34c04a4cf2"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[CurrentValue[
         EvaluationCell[], "CellGroupOpen"] =!= Closed, 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{
      13.600000000000003`, {-0.1685058593749993, 13.768505859375}}]],
    ExpressionUUID->"d37b92e5-4fe4-4f14-a48a-41537c60d3d6"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"dc04102d-4ae9-4cd5-8e04-3bed67e6ae16"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"da6866df-f992-44cc-8535-1ff28be2e49f"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"c940895c-f25a-4846-bb28-d21705a9c0bf"]], \
"NotesSection",
 ShowGroupOpener->"Thumbnail",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->1527224672,ExpressionUUID->"382990c0-9918-4cf0-a73a-7a9dbfed430b"],

Cell["The following options can be given: ", "Notes",ExpressionUUID->"6b4bdeb8-ab95-4694-9963-f40f1b7adbdb"],

Cell[BoxData[GridBox[{
   {Cell["      ", "TableRowIcon",ExpressionUUID->
     "97d7b7f1-5d60-4cfd-95fd-4aa78f851dcc"], 
    TemplateBox[{
      Cell[
       TextData["Method"]], "paclet:ref/Method"},
     "RefLink",
     BaseStyle->{"3ColumnTableMod"}], "Algebra", Cell[TextData[{
     "With \"Algebra\" it uses the standard algebraic method and with \
\"Occupations\" using the ",
     Cell[BoxData[
      TemplateBox[{
        Cell[
         TextData["Fock"]], "paclet:QuantumMob/Q3/ref/Fock", 
        "QuantumMob Package Symbol"},
       "PackageLink",
       BaseStyle->"3ColumnTableMod"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "152a64e4-90fc-4b1a-a572-6b5f8188bd32"],
     " states Ket[<|...|>]."
    }], "TableText",ExpressionUUID->"37943333-f953-47ca-9531-4b2bc503c07f"]}
  }]], "3ColumnTableMod",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {{None}}},
 GridBoxDividers->{
  "Rows" -> {{
     True, True}}}},ExpressionUUID->"c00150d7-4ced-4803-91ca-00be1380899b"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.251494140625001, 9.348505859375003}}]],
  ExpressionUUID->"4fd9adf5-a75b-4fcf-b222-8951e54f8073"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"10ef56fd-0e3a-459d-8f59-fcf0b7c08c22"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(3)", "ExampleCount",ExpressionUUID->
  "0f9897c7-92a6-4185-a97d-2704501b984f"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->1340513360,ExpressionUUID->"abfcd0fc-96d0-47c8-a196-8a305c9e80f5"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<QuantumMob`Q3`\>\"", "]"}]], "Input", "ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->1927565408,ExpressionUUID->"bbc2a1de-eb7d-4fb8-ba02-cfd934e5a4c6"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.551318359375001, 9.048681640625002}}]],
  ExpressionUUID->"a2533a04-01a7-4583-931c-1f172c5d4d76"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"a3bcfdc5-da6c-47db-8429-cfeb6f227038"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(3)", "ExampleCount",ExpressionUUID->
  "0643fc99-0482-4ba4-bec0-7d534a3b7d02"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->757100843,ExpressionUUID->"fd2c4d5f-9e7e-45c5-a432-7f08fefe0c99"],

Cell["For bosons, it is more or less straightforward.", "ExampleText",
 CellID->814487388,ExpressionUUID->"6e656d15-396c-4d30-b0c4-49f0f77e5006"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a", ",", "b"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1028764138,ExpressionUUID->"d71f55f2-5cd5-4471-9de5-1e039672a12f"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aa", "=", 
  RowBox[{"MultiplyPower", "[", 
   RowBox[{"a", ",", "3"}], "]"}]}], "\n", 
 RowBox[{"expr", "=", 
  RowBox[{"aa", "**", 
   RowBox[{"Dagger", "[", "aa", "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "expr", "]"}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", 
  RowBox[{"expr", ",", 
   RowBox[{"Method", "\[Rule]", "\"\<Occupations\>\""}]}], "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1048025369,ExpressionUUID->"8bdfdf83-1db3-4642-a20a-7628df1f1f9c"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", "a", "a", "a"}, 
     "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[$CellContext`a, $CellContext`a, $CellContext`a]]], "Output",
 CellLabel->"Out[2]=",
 CellID->707697795,ExpressionUUID->"8e6d3019-ca7a-43a5-9b78-950ca2880005"],

Cell[BoxData[
 RowBox[{"6", "+", 
  RowBox[{"18", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"a", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         Q3`Dagger[$CellContext`a]], "a"}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[$CellContext`a], $CellContext`a]]}], "+", 
  RowBox[{"9", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"a", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         Q3`Dagger[$CellContext`a]], 
        InterpretationBox[
         TemplateBox[{"a", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         Q3`Dagger[$CellContext`a]], "a", "a"}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[$CellContext`a], 
     Q3`Dagger[$CellContext`a], $CellContext`a, $CellContext`a]]}], "+", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"a", 
          
          TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
           "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
         SuperscriptBox], 
        Q3`Dagger[$CellContext`a]], 
       InterpretationBox[
        TemplateBox[{"a", 
          
          TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
           "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
         SuperscriptBox], 
        Q3`Dagger[$CellContext`a]], 
       InterpretationBox[
        TemplateBox[{"a", 
          
          TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
           "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
         SuperscriptBox], 
        Q3`Dagger[$CellContext`a]], "a", "a", "a"}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[$CellContext`a], 
    Q3`Dagger[$CellContext`a], 
    Q3`Dagger[$CellContext`a], $CellContext`a, $CellContext`a, \
$CellContext`a]]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1512403479,ExpressionUUID->"221f2bfc-04e2-4347-88c0-f6d274cf9ad7"],

Cell[BoxData["6"], "Output",
 CellLabel->"Out[2]=",
 CellID->1348825661,ExpressionUUID->"4815caf9-9479-4768-adcb-7c5e1e3ca25e"],

Cell[BoxData["6"], "Output",
 CellLabel->"Out[2]=",
 CellID->875506695,ExpressionUUID->"8ffe7b2d-f73b-46ba-9e13-e51608846e3c"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aa", "=", 
  RowBox[{
   RowBox[{"a", "[", "i", "]"}], "**", 
   RowBox[{"a", "[", "j", "]"}], "**", 
   RowBox[{"a", "[", "l", "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "aa", "]"}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", 
  RowBox[{"Dagger", "[", "aa", "]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"VacuumExpectation", "[", 
   RowBox[{"aa", "**", 
    RowBox[{"Dagger", "[", "aa", "]"}]}], "]"}], "//", "Simplify"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"VacuumExpectation", "[", 
   RowBox[{"aa", "**", 
    RowBox[{"Dagger", "[", "aa", "]"}]}], "]"}], "/.", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"j", "\[Rule]", "i"}], ",", 
    RowBox[{"l", "\[Rule]", "i"}]}], "}"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1245538910,ExpressionUUID->"a8459377-d210-45d6-9d3a-4a2eee4cd2f5"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "l"}, "RowWithSeparators"]], 
       $CellContext`a[$CellContext`l]], 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "j"}, "RowWithSeparators"]], 
       $CellContext`a[$CellContext`j]], 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "i"}, "RowWithSeparators"]], 
       $CellContext`a[$CellContext`i]]}, "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[
   $CellContext`a[$CellContext`l], 
   $CellContext`a[$CellContext`j], 
   $CellContext`a[$CellContext`i]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->496087249,ExpressionUUID->"3457e836-567d-46cc-a321-a150526856c4"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->1206876289,ExpressionUUID->"b1c5cb48-96ec-42ad-b25b-41a6174d7935"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->986743308,ExpressionUUID->"9e0855b3-a878-4896-a418-26f6a8604a77"],

Cell[BoxData[
 RowBox[{"1", "+", 
  TemplateBox[{
    RowBox[{"i", ",", "l"}]},
   "KroneckerDeltaSeq"], "+", 
  TemplateBox[{
    RowBox[{"j", ",", "l"}]},
   "KroneckerDeltaSeq"], "+", 
  RowBox[{
   TemplateBox[{
     RowBox[{"i", ",", "j"}]},
    "KroneckerDeltaSeq"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", " ", 
      TemplateBox[{
        RowBox[{"i", ",", "l"}]},
       "KroneckerDeltaSeq"], " ", 
      TemplateBox[{
        RowBox[{"j", ",", "l"}]},
       "KroneckerDeltaSeq"]}]}], ")"}]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1326055422,ExpressionUUID->"f15ae12c-a0ed-4e3a-853c-a1f4ced00911"],

Cell[BoxData["6"], "Output",
 CellLabel->"Out[3]=",
 CellID->428188988,ExpressionUUID->"d316ca98-7197-46ca-abad-15ac41f061b1"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "038eb866-da3f-4acc-8491-392375145296"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->130908940,ExpressionUUID->"09a265c2-e29d-4293-bd9a-8f682af73706"],

Cell["\<\
For a Fermion with Void vacuum, it is as simple as the Bosonic case.\
\>", "ExampleText",
 CellID->2489740,ExpressionUUID->"e5aeb45a-00a2-4f29-97ac-e4ab446689ea"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "d"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1042870887,ExpressionUUID->"30cf2e06-5ae7-485a-89c5-5f3a719cf18e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dd", "=", 
  RowBox[{
   RowBox[{"d", "[", "Up", "]"}], "**", 
   RowBox[{"d", "[", "Down", "]"}]}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->1916954642,ExpressionUUID->"1e6e2d3f-551f-48f6-ae5a-a5c28612a255"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       SubscriptBox["d", 
        TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, "RowWithSeparators"]], 
       $CellContext`d[Plus[1]/2]], 
      InterpretationBox[
       SubscriptBox["d", 
        TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, "RowWithSeparators"]], 
       $CellContext`d[(-1)/2]]}, "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[
   $CellContext`d[
    Rational[1, 2]], 
   $CellContext`d[
    Rational[-1, 2]]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1213022651,ExpressionUUID->"4ec581b2-cb45-4330-b479-56e769147a7c"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"dd", "**", 
  RowBox[{"Dagger", "[", "dd", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", 
  RowBox[{"dd", " ", "**", " ", 
   RowBox[{"Dagger", "[", "dd", "]"}]}], "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1244370327,ExpressionUUID->"03df4304-02a4-4b75-a132-d29d4b216852"],

Cell[BoxData[
 RowBox[{"1", "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"d", 
          
          TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`d[(-1)/2]]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`d[(-1)/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`d[
      Rational[-1, 2]]], 
    $CellContext`d[
     Rational[-1, 2]]]], "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"d", 
          TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, "RowWithSeparators"], 
          
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`d[1/2]]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`d[Plus[1]/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`d[
      Rational[1, 2]]], 
    $CellContext`d[
     Rational[1, 2]]]], "+", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"d", 
          
          TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`d[(-1)/2]]], 
       InterpretationBox[
        TemplateBox[{"d", 
          TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, "RowWithSeparators"], 
          
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`d[1/2]]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`d[Plus[1]/2]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`d[(-1)/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`d[
      Rational[-1, 2]]], 
    Q3`Dagger[
     $CellContext`d[
      Rational[1, 2]]], 
    $CellContext`d[
     Rational[1, 2]], 
    $CellContext`d[
     Rational[-1, 2]]]]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1485319708,ExpressionUUID->"ab74db70-00b9-4af0-a178-583f8514c95f"],

Cell[BoxData["1"], "Output",
 CellLabel->"Out[3]=",
 CellID->1418419628,ExpressionUUID->"8f3989ea-ed8a-4f0d-b68d-2b365cb83f29"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "1adb6b2f-aee4-4a96-b54e-ff581bfb561e"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->622693905,ExpressionUUID->"19e833e1-5120-4aad-a20f-313754c1b6de"],

Cell["\<\
The most complicated case is when the Vacuum is a Fermi sea (Vacuum == \
\"Sea\").\
\>", "ExampleText",
 CellID->1374766908,ExpressionUUID->"b3bccba2-fd4b-458d-b2a6-3092eb768dc1"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "c", ",", "d", ",", " ", 
   RowBox[{"Vacuum", "\[Rule]", "\"\<Sea\>\""}]}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->930864683,ExpressionUUID->"fc395a7d-e34b-4c49-9635-277e76cfc68e"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"nn", "=", 
  RowBox[{"MultiplyPower", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"c", "[", 
      RowBox[{"k", ",", "Up"}], "]"}], "**", 
     RowBox[{"Dagger", "[", 
      RowBox[{"c", "[", 
       RowBox[{"k", ",", "Up"}], "]"}], "]"}]}], ",", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "nn", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->624358786,ExpressionUUID->"1cac4e84-003b-4957-8a79-bfdb419525e8"],

Cell[BoxData[
 RowBox[{"1", "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          
          TemplateBox[{",", "\",\"", "1", "\"\[UpArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[1, 1/2]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "1", "\"\[UpArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`c[1, Plus[1]/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[1, 
      Rational[1, 2]]], 
    $CellContext`c[1, 
     Rational[1, 2]]]]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1493083383,ExpressionUUID->"97b96446-9274-4587-a89a-119c26696d55"],

Cell[BoxData["1"], "Output",
 CellLabel->"Out[2]=",
 CellID->906002886,ExpressionUUID->"d43a1d99-3c64-4903-81af-4db00013c985"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"k", "=", 
   RowBox[{"-", "1"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"nn", "=", 
  RowBox[{"MultiplyPower", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"c", "[", 
      RowBox[{"k", ",", "Up"}], "]"}], "**", 
     RowBox[{"Dagger", "[", 
      RowBox[{"c", "[", 
       RowBox[{"k", ",", "Up"}], "]"}], "]"}]}], ",", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "nn", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1419121191,ExpressionUUID->"90b7c6ca-be7b-4655-a852-75168602e838"],

Cell[BoxData[
 RowBox[{"1", "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", 
            RowBox[{"-", "1"}], "\"\[UpArrow]\""}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[-1, 1/2]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", 
           RowBox[{"-", "1"}], "\"\[UpArrow]\""}, "RowWithSeparators"]], 
        $CellContext`c[-1, Plus[1]/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[-1, 
      Rational[1, 2]]], 
    $CellContext`c[-1, 
     Rational[1, 2]]]]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1420930842,ExpressionUUID->"0f7971f8-970c-4284-9f6b-4247aa5a3451"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->1566506854,ExpressionUUID->"149f975a-bf33-44f8-b054-c9491082acb6"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Clear", "[", "k", "]"}], "\[IndentingNewLine]", 
 RowBox[{"expr", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"c", "[", 
     RowBox[{"i", ",", "s"}], "]"}], "^", "Dagger"}], "**", 
   RowBox[{"c", "[", 
    RowBox[{"j", ",", "s"}], "]"}], "**", 
   RowBox[{"c", "[", 
    RowBox[{"k", ",", "s"}], "]"}], "**", 
   RowBox[{
    RowBox[{"c", "[", 
     RowBox[{"l", ",", "s"}], "]"}], "^", "Dagger"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "expr", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1630700915,ExpressionUUID->"e7f0ab7e-f903-4213-990b-cbf7e588aecb"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   TemplateBox[{
     RowBox[{"k", ",", "l"}]},
    "KroneckerDeltaSeq"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"c", 
           TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`c[$CellContext`i, $CellContext`s]]], 
        InterpretationBox[
         SubscriptBox["c", 
          TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
         $CellContext`c[$CellContext`j, $CellContext`s]]}, 
       "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[
      $CellContext`c[$CellContext`i, $CellContext`s]], 
     $CellContext`c[$CellContext`j, $CellContext`s]]]}], "-", 
  RowBox[{
   TemplateBox[{
     RowBox[{"j", ",", "l"}]},
    "KroneckerDeltaSeq"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"c", 
           TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`c[$CellContext`i, $CellContext`s]]], 
        InterpretationBox[
         SubscriptBox["c", 
          TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
         $CellContext`c[$CellContext`k, $CellContext`s]]}, 
       "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[
      $CellContext`c[$CellContext`i, $CellContext`s]], 
     $CellContext`c[$CellContext`k, $CellContext`s]]]}], "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`l, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`k, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, $CellContext`s]]}, 
      "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`i, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`l, $CellContext`s]], 
    $CellContext`c[$CellContext`k, $CellContext`s], 
    $CellContext`c[$CellContext`j, $CellContext`s]]]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->2132039604,ExpressionUUID->"f56cfc43-ecf1-43fd-a531-bcd389f0d664"],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Bra"], 
         Bra[Q3`Vacuum]], 
        InterpretationBox[
         TemplateBox[{"c", 
           TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`c[$CellContext`i, $CellContext`s]]], 
        InterpretationBox[
         TemplateBox[{"c", 
           TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`c[$CellContext`l, $CellContext`s]]], 
        InterpretationBox[
         SubscriptBox["c", 
          TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
         $CellContext`c[$CellContext`k, $CellContext`s]], 
        InterpretationBox[
         SubscriptBox["c", 
          TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
         $CellContext`c[$CellContext`j, $CellContext`s]], 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
         Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Bra[Q3`Vacuum], 
     Q3`Dagger[
      $CellContext`c[$CellContext`i, $CellContext`s]], 
     Q3`Dagger[
      $CellContext`c[$CellContext`l, $CellContext`s]], 
     $CellContext`c[$CellContext`k, $CellContext`s], 
     $CellContext`c[$CellContext`j, $CellContext`s], 
     Ket[Q3`Vacuum]]]}], "-", 
  RowBox[{
   TemplateBox[{
     RowBox[{"i", ",", "k"}]},
    "KroneckerDeltaSeq"], " ", 
   TemplateBox[{
     RowBox[{"j", ",", "l"}]},
    "KroneckerDeltaSeq"], " ", 
   InterpretationBox[
    TagBox[
     RowBox[{"\[Theta]", "(", 
      RowBox[{"-", "i"}], ")"}],
     DisplayForm],
    UnitStep[-$CellContext`i]]}], "+", 
  RowBox[{
   TemplateBox[{
     RowBox[{"i", ",", "j"}]},
    "KroneckerDeltaSeq"], " ", 
   TemplateBox[{
     RowBox[{"k", ",", "l"}]},
    "KroneckerDeltaSeq"], " ", 
   InterpretationBox[
    TagBox[
     RowBox[{"\[Theta]", "(", 
      RowBox[{"-", "i"}], ")"}],
     DisplayForm],
    UnitStep[-$CellContext`i]]}]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->277490586,ExpressionUUID->"0f7889bb-a9ca-4e6d-ab07-e462d72eebf8"]
}, Open  ]],

Cell["\<\
If operators have different Heads, then they are regarded different \
regardless of the Flavor indices.\
\>", "ExampleText",
 CellID->606257165,ExpressionUUID->"2ff0ee3f-5846-46a5-b6ff-120e64ac0a0e"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr2", "=", 
  RowBox[{"Multiply", "[", 
   RowBox[{
    RowBox[{"Dagger", "[", 
     RowBox[{"c", "[", 
      RowBox[{"i", ",", " ", "s"}], "]"}], "]"}], ",", " ", 
    RowBox[{"Dagger", "[", 
     RowBox[{"c", "[", 
      RowBox[{"l", ",", " ", "s"}], "]"}], "]"}], ",", " ", 
    RowBox[{"c", "[", 
     RowBox[{"j", ",", " ", "s"}], "]"}], ",", " ", 
    RowBox[{"d", "[", 
     RowBox[{"k", ",", " ", "s"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"expr2a", "=", 
  RowBox[{"VacuumExpectation", "[", "expr2", "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1701750787,ExpressionUUID->"74a2dcf5-b24f-463d-8b7e-002363c5b68f"],

Cell[BoxData[
 RowBox[{"-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`l, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
        $CellContext`d[$CellContext`k, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, $CellContext`s]]}, 
      "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`i, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`l, $CellContext`s]], 
    $CellContext`d[$CellContext`k, $CellContext`s], 
    $CellContext`c[$CellContext`j, $CellContext`s]]]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->1553264899,ExpressionUUID->"6d18bcab-9555-42f3-b1fc-9249c200a299"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[5]=",
 CellID->911944561,ExpressionUUID->"2dd68af9-ad5a-47b6-a775-63fed7329c35"]
}, Open  ]],

Cell["Further Examples", "ExampleText",
 CellID->1517812154,ExpressionUUID->"2ce11215-34f3-46d3-811f-82f46bda643f"],

Cell[BoxData[{
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "c"}], "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->2058113212,ExpressionUUID->"47720d76-85c6-4f4e-878b-eb13582e6221"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr", "=", 
  RowBox[{
   RowBox[{"a", "[", "1", "]"}], "**", 
   RowBox[{"Exp", "[", 
    RowBox[{"a", "[", "1", "]"}], "]"}], "**", 
   RowBox[{
    RowBox[{"c", "[", 
     RowBox[{"1", ",", "Up"}], "]"}], "^", "Dagger"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"expr", "**", 
  RowBox[{"VacuumState", "[", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SurviveVacuum", "[", "expr", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[7]:=",
 CellID->1189651855,ExpressionUUID->"5c965db3-bf52-47f3-be31-bb2c7fa62cdd"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
       $CellContext`a[1]], 
      InterpretationBox[
       TemplateBox[{"c", 
         TemplateBox[{",", "\",\"", "1", "\"\[UpArrow]\""}, 
          "RowWithSeparators"], 
         TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
        "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
       Q3`Dagger[
        $CellContext`c[1, 1/2]]], 
      InterpretationBox[
       SuperscriptBox["\[ExponentialE]", 
        InterpretationBox[
         SubscriptBox["a", 
          TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
         $CellContext`a[1]]], 
       Q3`MultiplyExp[
        $CellContext`a[1]]]}, "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[
   $CellContext`a[1], 
   Q3`Dagger[
    $CellContext`c[1, 
     Rational[1, 2]]], 
   Q3`MultiplyExp[
    $CellContext`a[1]]]]], "Output",
 CellLabel->"Out[7]=",
 CellID->1646377443,ExpressionUUID->"db7b7730-771c-4caf-9504-802267d1fcee"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[7]=",
 CellID->338892906,ExpressionUUID->"42d3bcdf-c179-40e7-927a-8fcc34af9a5c"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[7]=",
 CellID->646439298,ExpressionUUID->"ebe79a6e-340d-4dbf-9c60-b3dd9037baed"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr", "=", 
  RowBox[{
   RowBox[{"a", "[", "1", "]"}], "**", 
   RowBox[{"Exp", "[", 
    RowBox[{
     RowBox[{"MultiplyPower", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"a", "[", "1", "]"}], "^", "Dagger"}], ",", "3"}], "]"}], "+", 
     RowBox[{"a", "[", "1", "]"}]}], "]"}], "**", 
   RowBox[{
    RowBox[{"c", "[", "1", "]"}], "^", 
    "Dagger"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"expr", "**", 
  RowBox[{"VacuumState", "[", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SurviveVacuum", "[", "expr", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[8]:=",
 CellID->512660530,ExpressionUUID->"ce9419ef-713d-4959-8027-36fb2c9f33d5"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
       $CellContext`a[1]], 
      InterpretationBox[
       TemplateBox[{"c", 
         TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
         TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
        "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
       Q3`Dagger[
        $CellContext`c[1]]], 
      InterpretationBox[
       SuperscriptBox["\[ExponentialE]", 
        RowBox[{
          InterpretationBox[
           SubscriptBox["a", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
           $CellContext`a[1]], "+", 
          InterpretationBox[
           TemplateBox[{
             TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
               InterpretationBox[
                TemplateBox[{"a", 
                  TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
                  
                  TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
                   "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
                 SubsuperscriptBox], 
                Q3`Dagger[
                 $CellContext`a[1]]], 
               InterpretationBox[
                TemplateBox[{"a", 
                  TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
                  
                  TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
                   "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
                 SubsuperscriptBox], 
                Q3`Dagger[
                 $CellContext`a[1]]], 
               InterpretationBox[
                TemplateBox[{"a", 
                  TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
                  
                  TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
                   "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
                 SubsuperscriptBox], 
                Q3`Dagger[
                 $CellContext`a[1]]]}, "RowWithSeparators"]}, "RowDefault"], 
           Q3`Multiply[
            Q3`Dagger[
             $CellContext`a[1]], 
            Q3`Dagger[
             $CellContext`a[1]], 
            Q3`Dagger[
             $CellContext`a[1]]]]}]], 
       Q3`MultiplyExp[$CellContext`a[1] + Q3`Multiply[
          Q3`Dagger[
           $CellContext`a[1]], 
          Q3`Dagger[
           $CellContext`a[1]], 
          Q3`Dagger[
           $CellContext`a[1]]]]]}, "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[
   $CellContext`a[1], 
   Q3`Dagger[
    $CellContext`c[1]], 
   Q3`MultiplyExp[$CellContext`a[1] + Q3`Multiply[
      Q3`Dagger[
       $CellContext`a[1]], 
      Q3`Dagger[
       $CellContext`a[1]], 
      Q3`Dagger[
       $CellContext`a[1]]]]]]], "Output",
 CellLabel->"Out[8]=",
 CellID->2040371474,ExpressionUUID->"a4162fa6-4796-4801-9fe7-a4367fdf6b42"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[8]=",
 CellID->1504488222,ExpressionUUID->"76a8128b-f7f5-498c-a215-4c1a28246dfc"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[8]=",
 CellID->1461087376,ExpressionUUID->"1b2022d9-30f1-43d1-acf8-b02518d0af23"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "c", ",", "d", ",", 
   RowBox[{"Vacuum", "\[Rule]", "\"\<Sea\>\""}]}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[9]:=",
 CellID->640720002,ExpressionUUID->"888401bd-3dad-4865-9ca9-217ab60e546a"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr1", "=", 
  RowBox[{"Multiply", "[", 
   RowBox[{
    RowBox[{"Dagger", "[", 
     RowBox[{"c", "[", 
      RowBox[{"i", ",", " ", "s"}], "]"}], "]"}], ",", " ", 
    RowBox[{"Dagger", "[", 
     RowBox[{"c", "[", 
      RowBox[{"l", ",", " ", "s"}], "]"}], "]"}], ",", " ", 
    RowBox[{"c", "[", 
     RowBox[{"j", ",", " ", "s"}], "]"}], ",", " ", 
    RowBox[{"c", "[", 
     RowBox[{"k", ",", " ", "s"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"expr2", "=", 
  RowBox[{
   RowBox[{"c", "[", 
    RowBox[{"i", ",", "Up"}], "]"}], "**", 
   RowBox[{"VacuumExpectation", "[", "expr1", "]"}], "**", 
   RowBox[{
    RowBox[{"c", "[", 
     RowBox[{"j", ",", "Down"}], "]"}], "^", "Dagger"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"expr3", "=", 
  RowBox[{"Dagger", "[", "expr2", "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[10]:=",
 CellID->1098067556,ExpressionUUID->"98995485-c6c6-4205-a878-22df883b0682"],

Cell[BoxData[
 RowBox[{"-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`l, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`k, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, $CellContext`s]]}, 
      "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`i, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`l, $CellContext`s]], 
    $CellContext`c[$CellContext`k, $CellContext`s], 
    $CellContext`c[$CellContext`j, $CellContext`s]]]}]], "Output",
 CellLabel->"Out[10]=",
 CellID->279273307,ExpressionUUID->"505b3aea-3812-479a-aaa0-f8973e376b48"],

Cell[BoxData[
 RowBox[{
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          
          TemplateBox[{",", "\",\"", "j", "\"\[DownArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`j, (-1)/2]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "i", "\"\[UpArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`c[$CellContext`i, Plus[1]/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`j, 
      Rational[-1, 2]]], 
    $CellContext`c[$CellContext`i, 
     Rational[1, 2]]]], " ", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"\"\[CupCap]\""}, "Bra"], 
        Bra[Q3`Vacuum]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`l, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`k, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, $CellContext`s]], 
       InterpretationBox[
        TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
        Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Bra[Q3`Vacuum], 
    Q3`Dagger[
     $CellContext`c[$CellContext`i, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`l, $CellContext`s]], 
    $CellContext`c[$CellContext`k, $CellContext`s], 
    $CellContext`c[$CellContext`j, $CellContext`s], 
    Ket[Q3`Vacuum]]]}]], "Output",
 CellLabel->"Out[10]=",
 CellID->1494702054,ExpressionUUID->"37a50330-8c13-44bd-a8c6-1d459f075722"],

Cell[BoxData[
 RowBox[{
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          
          TemplateBox[{",", "\",\"", "i", "\"\[UpArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, 1/2]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "\"\[DownArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, (-1)/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`i, 
      Rational[1, 2]]], 
    $CellContext`c[$CellContext`j, 
     Rational[-1, 2]]]], " ", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"\"\[CupCap]\""}, "Bra"], 
        Bra[Q3`Vacuum]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`j, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`k, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`l, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`i, $CellContext`s]], 
       InterpretationBox[
        TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
        Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Bra[Q3`Vacuum], 
    Q3`Dagger[
     $CellContext`c[$CellContext`j, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`k, $CellContext`s]], 
    $CellContext`c[$CellContext`l, $CellContext`s], 
    $CellContext`c[$CellContext`i, $CellContext`s], 
    Ket[Q3`Vacuum]]]}]], "Output",
 CellLabel->"Out[10]=",
 CellID->193718972,ExpressionUUID->"e87c1132-e404-491b-b59a-3c76add06d6e"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Vacuum"]], "paclet:QuantumMob/Q3/ref/Vacuum", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "3e38927f-0095-4e76-a064-3911f09477e2"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["SurviveVacuum"]], 
           "paclet:QuantumMob/Q3/ref/SurviveVacuum", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "a9c14718-efb6-402c-932e-6bb0f92c82ac"]
       }], "SeeAlso",ExpressionUUID->"8b198220-ae7d-48a6-8626-d1c307806395"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"535831c7-261c-47f5-b711-\
7e3f660a8041"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTutorial.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TutorialsSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Many-Body Systems with Q3"]], 
           "paclet:QuantumMob/Q3/tutorial/QuantumManyBodySystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "1518cf25-917c-4104-8356-9b7f2be1bbb7"]}]}
     }]}
  }]], "TutorialsSection",ExpressionUUID->"406810b3-1d3d-4bf9-ab65-\
5a477c489629"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Many-Body Systems"]], 
           "paclet:QuantumMob/Q3/guide/QuantumManyBodySystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "adea6bd7-de47-415e-b834-6c4ee3372f5f"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"fcd6939e-d8a0-410c-a0cf-\
ab90e975222a"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "619dece6-1f5f-48e5-ab9b-8994ef18a105"]}]],ExpressionUUID->
         "77cadfcd-d442-4b34-8439-800c6bed6582"],
        ", A Quantum Computation Workbook (Springer)."
       }], "RelatedLinks",ExpressionUUID->
        "4ff0d07a-5e11-4ebd-8a11-391a394a4362"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"87a7bd9e-2ab3-45f4-91ec-\
f38a5ae8af3e"],

Cell[" ", "FooterCell",ExpressionUUID->"bd6165dc-f1fd-498d-a730-b359394b807e"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"VacuumExpectation",
Visible->True,
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, "ExampleSection" -> {"0" -> Open}, 
    "AllOptsTable" -> Closed, "NotesSection" -> Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "HasOptions" -> 
  True, "RootCaptions" -> "", "HeaderCoreAreaLink" -> {}, 
  "Metadata" -> {
   "built" -> "{2026, 2, 10, 14, 28, 33.003657}", 
    "history" -> {"12", "14.1", "", ""}, "context" -> "QuantumMob`Q3`", 
    "keywords" -> {"vacuum expectation value"}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> 
    "Quantum Mob/ Q3 Symbol", "language" -> "en", "paclet" -> "QuantumMob/Q3",
     "status" -> "None", "summary" -> 
    "VacuumExpectation[expr] returns the vacuum expectation value of expr.", 
    "synonyms" -> {}, "tabletags" -> {}, "title" -> "VacuumExpectation", 
    "titlemodifier" -> "", "metadescription" -> "", "windowtitle" -> 
    "VacuumExpectation", "type" -> "Symbol", "uri" -> 
    "QuantumMob/Q3/ref/VacuumExpectation"}},
CellContext->"Global`",
FrontEndVersion->"14.3 for Mac OS X ARM (64-bit) (July 8, 2025)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "14.3 for Mac OS X ARM (64-bit) (July 8, 2025)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"],
ExpressionUUID->"cdfec8b4-82b8-44c2-99ac-807d0dee53a6"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[11999, 317, 1441, 38, 70, "PrimaryExamplesSection",ExpressionUUID->"abfcd0fc-96d0-47c8-a196-8a305c9e80f5",
   CellTags->"PrimaryExamplesSection",
   CellID->1340513360]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 62407, 1734}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[585, 21, 6320, 158, 70, "AnchorBarGrid",ExpressionUUID->"400117c1-aada-41e3-b490-13a26f221fb9",
 CellID->1],
Cell[6908, 181, 96, 0, 70, "ContextNameCell",ExpressionUUID->"c589abac-cae6-497a-b290-cd5c44f0f1ad"],
Cell[CellGroupData[{
Cell[7029, 185, 1160, 30, 70, "ObjectNameGrid",ExpressionUUID->"c4868b0c-747d-4365-997c-72eb0f1911c8"],
Cell[8192, 217, 638, 14, 70, "Usage",ExpressionUUID->"182b5a41-fc19-463d-8a31-2b34c04a4cf2"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8867, 236, 1851, 45, 70, "NotesSection",ExpressionUUID->"382990c0-9918-4cf0-a73a-7a9dbfed430b",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->1527224672],
Cell[10721, 283, 108, 0, 70, "Notes",ExpressionUUID->"6b4bdeb8-ab95-4694-9963-f40f1b7adbdb"],
Cell[10832, 285, 1040, 26, 70, "3ColumnTableMod",ExpressionUUID->"c00150d7-4ced-4803-91ca-00be1380899b"]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[11999, 317, 1441, 38, 70, "PrimaryExamplesSection",ExpressionUUID->"abfcd0fc-96d0-47c8-a196-8a305c9e80f5",
 CellTags->"PrimaryExamplesSection",
 CellID->1340513360],
Cell[13443, 357, 203, 3, 70, "Input",ExpressionUUID->"bbc2a1de-eb7d-4fb8-ba02-cfd934e5a4c6",
 CellID->1927565408],
Cell[CellGroupData[{
Cell[13671, 364, 1418, 37, 70, "ExampleSection",ExpressionUUID->"fd2c4d5f-9e7e-45c5-a432-7f08fefe0c99",
 CellID->757100843],
Cell[15092, 403, 145, 1, 70, "ExampleText",ExpressionUUID->"6e656d15-396c-4d30-b0c4-49f0f77e5006",
 CellID->814487388],
Cell[15240, 406, 230, 5, 70, "Input",ExpressionUUID->"d71f55f2-5cd5-4471-9de5-1e039672a12f",
 CellID->1028764138],
Cell[CellGroupData[{
Cell[15495, 415, 573, 13, 70, "Input",ExpressionUUID->"8bdfdf83-1db3-4642-a20a-7628df1f1f9c",
 CellID->1048025369],
Cell[16071, 430, 346, 8, 70, "Output",ExpressionUUID->"8e6d3019-ca7a-43a5-9b78-950ca2880005",
 CellID->707697795],
Cell[16420, 440, 2658, 69, 70, "Output",ExpressionUUID->"221f2bfc-04e2-4347-88c0-f6d274cf9ad7",
 CellID->1512403479],
Cell[19081, 511, 127, 2, 70, "Output",ExpressionUUID->"4815caf9-9479-4768-adcb-7c5e1e3ca25e",
 CellID->1348825661],
Cell[19211, 515, 126, 2, 70, "Output",ExpressionUUID->"8ffe7b2d-f73b-46ba-9e13-e51608846e3c",
 CellID->875506695]
}, Open  ]],
Cell[CellGroupData[{
Cell[19374, 522, 918, 23, 70, "Input",ExpressionUUID->"a8459377-d210-45d6-9d3a-4a2eee4cd2f5",
 CellID->1245538910],
Cell[20295, 547, 856, 22, 70, "Output",ExpressionUUID->"3457e836-567d-46cc-a321-a150526856c4",
 CellID->496087249],
Cell[21154, 571, 127, 2, 70, "Output",ExpressionUUID->"b1c5cb48-96ec-42ad-b25b-41a6174d7935",
 CellID->1206876289],
Cell[21284, 575, 126, 2, 70, "Output",ExpressionUUID->"9e0855b3-a878-4896-a418-26f6a8604a77",
 CellID->986743308],
Cell[21413, 579, 639, 22, 70, "Output",ExpressionUUID->"f15ae12c-a0ed-4e3a-853c-a1f4ced00911",
 CellID->1326055422],
Cell[22055, 603, 126, 2, 70, "Output",ExpressionUUID->"d316ca98-7197-46ca-abad-15ac41f061b1",
 CellID->428188988]
}, Open  ]],
Cell[CellGroupData[{
Cell[22218, 610, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"09a265c2-e29d-4293-bd9a-8f682af73706",
 CellID->130908940],
Cell[22463, 617, 172, 3, 70, "ExampleText",ExpressionUUID->"e5aeb45a-00a2-4f29-97ac-e4ab446689ea",
 CellID->2489740],
Cell[22638, 622, 222, 5, 70, "Input",ExpressionUUID->"30cf2e06-5ae7-485a-89c5-5f3a719cf18e",
 CellID->1042870887],
Cell[CellGroupData[{
Cell[22885, 631, 273, 7, 70, "Input",ExpressionUUID->"1e6e2d3f-551f-48f6-ae5a-a5c28612a255",
 CellID->1916954642],
Cell[23161, 640, 690, 19, 70, "Output",ExpressionUUID->"4ec581b2-cb45-4330-b479-56e769147a7c",
 CellID->1213022651]
}, Open  ]],
Cell[CellGroupData[{
Cell[23888, 664, 365, 8, 70, "Input",ExpressionUUID->"03df4304-02a4-4b75-a132-d29d4b216852",
 CellID->1244370327],
Cell[24256, 674, 3153, 92, 70, "Output",ExpressionUUID->"ab74db70-00b9-4af0-a178-583f8514c95f",
 CellID->1485319708],
Cell[27412, 768, 127, 2, 70, "Output",ExpressionUUID->"8f3989ea-ed8a-4f0d-b68d-2b365cb83f29",
 CellID->1418419628]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[27588, 776, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"19e833e1-5120-4aad-a20f-313754c1b6de",
 CellID->622693905],
Cell[27833, 783, 189, 4, 70, "ExampleText",ExpressionUUID->"b3bccba2-fd4b-458d-b2a6-3092eb768dc1",
 CellID->1374766908],
Cell[28025, 789, 291, 6, 70, "Input",ExpressionUUID->"fc395a7d-e34b-4c49-9635-277e76cfc68e",
 CellID->930864683],
Cell[CellGroupData[{
Cell[28341, 799, 574, 15, 70, "Input",ExpressionUUID->"1cac4e84-003b-4957-8a79-bfdb419525e8",
 CellID->624358786],
Cell[28918, 816, 959, 27, 70, "Output",ExpressionUUID->"97b96446-9274-4587-a89a-119c26696d55",
 CellID->1493083383],
Cell[29880, 845, 126, 2, 70, "Output",ExpressionUUID->"d43a1d99-3c64-4903-81af-4db00013c985",
 CellID->906002886]
}, Open  ]],
Cell[CellGroupData[{
Cell[30043, 852, 594, 16, 70, "Input",ExpressionUUID->"90b7c6ca-be7b-4655-a852-75168602e838",
 CellID->1419121191],
Cell[30640, 870, 984, 26, 70, "Output",ExpressionUUID->"0f7971f8-970c-4284-9f6b-4247aa5a3451",
 CellID->1420930842],
Cell[31627, 898, 127, 2, 70, "Output",ExpressionUUID->"149f975a-bf33-44f8-b054-c9491082acb6",
 CellID->1566506854]
}, Open  ]],
Cell[CellGroupData[{
Cell[31791, 905, 648, 17, 70, "Input",ExpressionUUID->"e7f0ab7e-f903-4213-990b-cbf7e588aecb",
 CellID->1630700915],
Cell[32442, 924, 3470, 85, 70, "Output",ExpressionUUID->"f56cfc43-ecf1-43fd-a531-bcd389f0d664",
 CellID->2132039604],
Cell[35915, 1011, 2549, 71, 70, "Output",ExpressionUUID->"0f7889bb-a9ca-4e6d-ab07-e462d72eebf8",
 CellID->277490586]
}, Open  ]],
Cell[38479, 1085, 209, 4, 70, "ExampleText",ExpressionUUID->"2ff0ee3f-5846-46a5-b6ff-120e64ac0a0e",
 CellID->606257165],
Cell[CellGroupData[{
Cell[38713, 1093, 707, 18, 70, "Input",ExpressionUUID->"74a2dcf5-b24f-463d-8b7e-002363c5b68f",
 CellID->1701750787],
Cell[39423, 1113, 1605, 37, 70, "Output",ExpressionUUID->"6d18bcab-9555-42f3-b1fc-9249c200a299",
 CellID->1553264899],
Cell[41031, 1152, 126, 2, 70, "Output",ExpressionUUID->"2dd68af9-ad5a-47b6-a775-63fed7329c35",
 CellID->911944561]
}, Open  ]],
Cell[41172, 1157, 115, 1, 70, "ExampleText",ExpressionUUID->"2ce11215-34f3-46d3-811f-82f46bda643f",
 CellID->1517812154],
Cell[41290, 1160, 308, 7, 70, "Input",ExpressionUUID->"47720d76-85c6-4f4e-878b-eb13582e6221",
 CellID->2058113212],
Cell[CellGroupData[{
Cell[41623, 1171, 559, 14, 70, "Input",ExpressionUUID->"5c965db3-bf52-47f3-be31-bb2c7fa62cdd",
 CellID->1189651855],
Cell[42185, 1187, 1160, 33, 70, "Output",ExpressionUUID->"db7b7730-771c-4caf-9504-802267d1fcee",
 CellID->1646377443],
Cell[43348, 1222, 126, 2, 70, "Output",ExpressionUUID->"42d3bcdf-c179-40e7-927a-8fcc34af9a5c",
 CellID->338892906],
Cell[43477, 1226, 126, 2, 70, "Output",ExpressionUUID->"ebe79a6e-340d-4dbf-9c60-b3dd9037baed",
 CellID->646439298]
}, Open  ]],
Cell[CellGroupData[{
Cell[43640, 1233, 699, 19, 70, "Input",ExpressionUUID->"ce9419ef-713d-4959-8027-36fb2c9f33d5",
 CellID->512660530],
Cell[44342, 1254, 3020, 79, 70, "Output",ExpressionUUID->"a4162fa6-4796-4801-9fe7-a4367fdf6b42",
 CellID->2040371474],
Cell[47365, 1335, 127, 2, 70, "Output",ExpressionUUID->"76a8128b-f7f5-498c-a215-4c1a28246dfc",
 CellID->1504488222],
Cell[47495, 1339, 127, 2, 70, "Output",ExpressionUUID->"1b2022d9-30f1-43d1-acf8-b02518d0af23",
 CellID->1461087376]
}, Open  ]],
Cell[47637, 1344, 286, 6, 70, "Input",ExpressionUUID->"888401bd-3dad-4865-9ca9-217ab60e546a",
 CellID->640720002],
Cell[CellGroupData[{
Cell[47948, 1354, 977, 26, 70, "Input",ExpressionUUID->"98995485-c6c6-4205-a878-22df883b0682",
 CellID->1098067556],
Cell[48928, 1382, 1605, 37, 70, "Output",ExpressionUUID->"505b3aea-3812-479a-aaa0-f8973e376b48",
 CellID->279273307],
Cell[50536, 1421, 2714, 68, 70, "Output",ExpressionUUID->"37a50330-8c13-44bd-a8c6-1d459f075722",
 CellID->1494702054],
Cell[53253, 1491, 2707, 68, 70, "Output",ExpressionUUID->"e87c1132-e404-491b-b59a-3c76add06d6e",
 CellID->193718972]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[56214, 1569, 1399, 37, 70, "SeeAlsoSection",ExpressionUUID->"535831c7-261c-47f5-b711-7e3f660a8041"],
Cell[57616, 1608, 782, 20, 70, "TutorialsSection",ExpressionUUID->"406810b3-1d3d-4bf9-ab65-5a477c489629"],
Cell[58401, 1630, 764, 19, 70, "MoreAboutSection",ExpressionUUID->"fcd6939e-d8a0-410c-a0cf-ab90e975222a"],
Cell[59168, 1651, 1166, 34, 70, "RelatedLinksSection",ExpressionUUID->"87a7bd9e-2ab3-45f4-91ec-f38a5ae8af3e"],
Cell[60337, 1687, 78, 0, 70, "FooterCell",ExpressionUUID->"bd6165dc-f1fd-498d-a730-b359394b807e"]
}
]
*)

(* End of internal cache information *)
