(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[    218622,       5525]
NotebookOptionsPosition[    202540,       5216]
NotebookOutlinePosition[    205470,       5277]
CellTagsIndexPosition[    205383,       5272]
WindowTitle->BosonBasisChange
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["QUANTUM MOB/ Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "57aa189e-f8ef-44a1-8833-3b1e14481dca"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "5015db75-752f-445a-b25f-d415aa62ee4c"],
        Background->LightDarkSwitched[
          RGBColor[0.490196, 0.576471, 0.690196]],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "51ee901c-40f6-4513-bd86-073abe11d96a"]
         }],ExpressionUUID->"0225dd32-33d3-4301-ab5e-627fd1083688"],
         StripOnInput->False],{
        StyleBox["\"BosonBasis\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/BosonBasis"], 
         StyleBox["\"MatrixIn\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/MatrixIn"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "c7d4399b-1dbc-48b2-8bc6-5fa3f31f49bc"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "a45b0dbb-216b-4ed3-9394-73e02e17f192"]
         }],ExpressionUUID->"6f4f5f46-e14f-4aec-ae95-b22aa14810d7"],
         StripOnInput->False],{
        "\"Quantum Many-Body Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/guide/QuantumManyBodySystems"], 
         "\"Q3: Symbolic Quantum Simulation\"" :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/guide/Q3"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "1997241d-250e-4e47-84c7-7fc18a9308da"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "ccdcc1c4-d4fc-479f-91f5-94813faa5408"]
         }],ExpressionUUID->"7bc17259-15c4-4c04-a4ba-ef186bf9c701"],
         StripOnInput->False],{
        "\"Quantum Many-Body Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuantumManyBodySystems"], 
         "\"Q3: Quick Start\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/Q3QuickStart"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "11204d11-847a-4ef8-9de6-2c7d47f9aec2"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "d92af486-4256-41f0-8ef3-c1506aeb2e9d"]
         }],ExpressionUUID->"29301ee0-26ca-4adf-95fd-8ba8b60fe698"],
         StripOnInput->False],{
        "\"QuantumMob/Q3/ref/BosonBasisChange\"" :> None, 
         "\"Copy Wolfram Documentation Center URL\"" :> 
         CopyToClipboard["QuantumMob/Q3/ref/BosonBasisChange"], Delimiter, 
         "\"Copy web URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{
               Cell[BoxData[
                 MakeBoxes[
                  Hyperlink[
                   "http://reference.wolfram.com/language/QuantumMob/Q3/ref/\
BosonBasisChange.html"], StandardForm]], "Input", TextClipboardType -> 
                 "PlainText"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], 
         "\"Go to web URL\"" :> 
         FrontEndExecute[{
           NotebookLocate[{
             URL[(If[TrueQ[False], 
                  "http://reference.wolfram.com/system-modeler/", 
                  "http://reference.wolfram.com/language/"] <> 
                "QuantumMob/Q3/ref/BosonBasisChange") <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "97884239-8e16-435b-9b29-cf0a4811ebf1"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "22fb4b3a-d8a8-4a00-94e0-724271755872"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"8e239e2b-5c48-4533-b80c-304b9dbd73f2"],

Cell["QuantumMob`Q3`", "ContextNameCell",ExpressionUUID->"e2580b2f-cfb4-434e-b9d3-6ca73b6e6885"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "BosonBasisChange", "ObjectName",ExpressionUUID->
      "bf672de8-9b5b-43ed-8300-0c76be7ce32d"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"bbe03d7f-74c5-4b38-9b4d-9f597f5b0aec"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "82167802-c108-473d-8933-4e4f1153e8e4"]
    }],ExpressionUUID->"c2cbd446-1c7f-47d3-b881-b095bb26e03d"], Cell[BoxData[
     TooltipBox[
      StyleBox[
       TagBox[
        StyleBox[
         GraphicsBox[InsetBox[
           StyleBox["\<\"NEW IN 14.0\"\>",
            StripOnInput->False,
            FontFamily->"Source Sans Pro",
            FontSize->18,
            FontWeight->"Bold",
            FontSlant->"Italic",
            FontColor->LightDarkSwitched[
              RGBColor[0.968627, 0.466667, 0]]], {Right, Center}, {
           Right, Center}],
          ImageSize->{125, 24},
          PlotRangePadding->Scaled[0.025]], "NewInGraphic",
         StripOnInput->False],
        Deploy,
        DefaultBaseStyle->"Deploy"], "NewInGraphic",
       StripOnInput->False],
      "New in 14",
      TooltipDelay->0.3]],
     Magnification->1,ExpressionUUID->
     "0126d314-e6b1-4eb2-9c9f-c25dcb4e5df6"]}
  }]], "ObjectNameGrid",
 CacheGraphics->False,ExpressionUUID->"abc234e3-28ae-4d80-aab3-290011766d16"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         StyleBox["n", "TI"], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "2c402460-7d5d-4d3c-9e8c-b04f872d6f4f"],
     " \[LineSeparator]returns the unitary matrix describing the change of ",
     Cell[BoxData[
      StyleBox["n", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "2c348cf8-0172-4bc5-accc-a93b31d6a71c"],
     "-particle basis between two sets of modes related by the canonical \
transformation matrix ",
     Cell[BoxData[
      StyleBox["mat", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "02e348e5-89a6-45e4-a0d8-aaed579f3107"],
     "."
    }],ExpressionUUID->"0c5e4bb8-6dee-4472-84c4-d493dc0ab5a4"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          StyleBox["m", "TI"], ",", 
          StyleBox["n", "TI"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "446dc4c7-b17c-4f1d-bff5-16466c01da3e"],
     "\[LineSeparator]returns an association whose keys are the numbers from ",
     Cell[BoxData[
      StyleBox["m", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "fee82da6-eabd-4ef7-a0b0-210e9617d101"],
     " to ",
     Cell[BoxData[
      StyleBox["n", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "8cd57367-ce51-462b-9905-6179c200733e"],
     " and the values are the unitary matrices corresponding to the numbers \
of particles."
    }],ExpressionUUID->"4a7066d3-a675-4e02-a305-6935f5bb906f"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        StyleBox["n", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "0533aaa8-abe0-45bb-9c8d-032ded6e67bf"],
     "\[LineSeparator]is equivalent to ",
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          StyleBox["n", "TI"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "f985e797-8fdc-49da-a189-2891d0e1537f"],
     "."
    }],ExpressionUUID->"147c12eb-f0f8-4ba9-afb2-a3dd7aab78d3"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        StyleBox["nspec", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["k", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["k", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "3092df96-f3e3-4643-8a62-1e317de1e3d1"],
     "\[LineSeparator]assumes that the basis states only have occupation \
numbers in ",
     Cell[BoxData[
      RowBox[{"{", 
       RowBox[{
        SubscriptBox[
         StyleBox["k", "TI"], 
         StyleBox["1", "TR"]], ",", 
        SubscriptBox[
         StyleBox["k", "TI"], 
         StyleBox["2", "TR"]], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "}"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "58fb6261-2f42-4c0a-88a1-398ff3c48cae"],
     "."
    }],ExpressionUUID->"2c9aa56b-27a7-4e96-94e2-aa2e70742f4c"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            SubscriptBox[
             StyleBox["p", "TI"], 
             StyleBox["11", "TR"]], ",", 
            SubscriptBox[
             StyleBox["p", "TI"], 
             StyleBox["12", "TR"]], ",", 
            StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            SubscriptBox[
             StyleBox["p", "TI"], 
             StyleBox["21", "TR"]], ",", 
            SubscriptBox[
             StyleBox["p", "TI"], 
             StyleBox["22", "TR"]], ",", 
            StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "be255e1f-0f45-4675-9b2b-5434b97f2a72"],
     "\[LineSeparator]refers to ",
     Cell[BoxData[
      SubscriptBox[
       StyleBox["p", "TI"], 
       StyleBox["ij", "TI"]]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "26e52322-c72c-4686-8874-35b2f18fcb97"],
     " for the occupation number of ",
     Cell[BoxData[
      StyleBox["j", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "2e97ffc6-bd0a-4c6d-9ae3-f0c644c8b064"],
     "-th mode in the ",
     Cell[BoxData[
      StyleBox["i", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "0b84d888-c224-46f4-8235-9d2caba83856"],
     "-th many-body basis state for the both sets of boson modes."
    }],ExpressionUUID->"c8ba00d5-a786-4179-8b4c-f15e71c60d0c"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          StyleBox["pmat", "TI"], ",", 
          StyleBox["qmat", "TI"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "77f216bd-5ed4-4129-9390-f71e7cc5b56f"],
     "\[LineSeparator]refers to ",
     Cell[BoxData[
      StyleBox["pmat", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "456e1b08-0976-47a8-ba30-8d1bfd1cbc62"],
     " and ",
     Cell[BoxData[
      StyleBox["qmat", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "45d3bfb2-eb14-4bd4-92de-39ca88249a47"],
     " for the occupation numbers of the first and second set of boson modes, \
respectively."
    }],ExpressionUUID->"bf91155f-1e59-4ae2-97fc-4099e3c1b39e"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        StyleBox["bs", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "dab43de1-bcea-45d5-9a34-89a58ea1676e"],
     " or ",
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["bs", "TI"], 
           StyleBox["a", "TI"]], ",", 
          SubscriptBox[
           StyleBox["bs", "TI"], 
           StyleBox["b", "TI"]]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "7c8519bd-b94f-45fd-b235-157bfa14e2aa"],
     "\[LineSeparator]refers to the same basis ",
     Cell[BoxData[
      StyleBox["bs", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "c8d0aa9a-bb84-4815-8ab0-5e1b3e09483a"],
     " or respective bases ",
     Cell[BoxData[
      SubscriptBox[
       StyleBox["bs", "TI"], 
       StyleBox["a", "TI"]]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "b10589be-1d8b-40ab-aa55-c8fd3fe04084"],
     " and ",
     Cell[BoxData[
      SubscriptBox[
       StyleBox["bs", "TI"], 
       StyleBox["b", "TI"]]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "bcb56e8d-c8a8-41dc-8f5f-69cfc255773b"],
     " for the occupation numbers of the two sets of boson modes."
    }],ExpressionUUID->"3f522396-a246-463e-bde7-31836aff8499"]}
  }]], "Usage",
 CellID->1362242420,ExpressionUUID->"3265cddd-eeee-4f51-aba1-93c53f1454db"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[CurrentValue[
         EvaluationCell[], "CellGroupOpen"] =!= Closed, 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{
      13.600000000000003`, {-0.1685058593749993, 13.768505859375}}]],
    ExpressionUUID->"378a02c2-64dd-4edc-bea4-a1bbe70663fb"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"dfdfb3f7-cd0d-4ff9-9b18-09ed285f302b"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"c25a7e9f-3f08-4ba1-acd3-1ec0e21b5136"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"188c0f4f-aa52-4439-9476-fff9f7096f06"]], \
"NotesSection",
 ShowGroupOpener->"Thumbnail",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->780124530,ExpressionUUID->"c7042280-765d-49db-8cf3-b949f25840b6"],

Cell[TextData[{
 "The unitary matrix ",
 Cell[BoxData[
  StyleBox["mat", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "9193fc3b-3f3a-4429-9c62-685258609013"],
 ", denoted by ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["U", 
    RowBox[{"m", "\[Times]", "m"}]], TraditionalForm]],ExpressionUUID->
  "3b90b75e-3034-47ac-a4d6-12f7cedfe063"],
 ", describes a canonical transformation from one set of ",
 Cell[BoxData[
  StyleBox["m", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "b4f56046-810f-4711-9896-f3481ac1d27c"],
 " bosonic modes ",
 Cell[BoxData[
  SubscriptBox[
   StyleBox["a", "TI"], 
   StyleBox["i", "TI"]]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "e8f24ce9-ffca-44f6-88a2-b54eea47d73e"],
 " to another of ",
 Cell[BoxData[
  SubscriptBox[
   StyleBox["b", "TI"], 
   StyleBox["j", "TI"]]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "46984ad4-8a27-4b36-9f41-4a86dead97f5"],
 " by ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubsuperscriptBox["b", "j", "\[Dagger]"], "=", 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"i", "=", "1"}], "m"], 
     RowBox[{
      SubsuperscriptBox["a", "i", "\[Dagger]"], 
      SubscriptBox["U", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}]]}]}]}], TraditionalForm]],
  ExpressionUUID->"f5d1b209-e8bb-4bb9-9587-b8db62e25d9a"],
 ",  or equivalently,  ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["b", "i"], "=", 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"j", "=", "1"}], "m"], 
     RowBox[{
      SubsuperscriptBox["U", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}], "\[Dagger]"], 
      SubscriptBox["a", "j"]}]}]}], TraditionalForm]],ExpressionUUID->
  "cb92b334-ad48-448a-9954-10771e6ed6ca"],
 "."
}], "Notes",
 CellID->885192273,ExpressionUUID->"b60c1ecc-4fd0-49c5-aef1-fbe8c29d40c9"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.251494140625001, 9.348505859375003}}]],
  ExpressionUUID->"8ccdb87b-600d-4197-8a5b-45ea9c8ebf59"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"32490fbe-d2f1-4d3e-b096-c0517c5a2946"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(3)", "ExampleCount",ExpressionUUID->
  "04682b36-e3c0-412e-a0b6-1c62063ccf09"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->1165310775,ExpressionUUID->"43ca2a0f-5415-43b5-b48f-12148b4d76e0"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<QuantumMob`Q3`\>\"", "]"}]], "Input", "ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->246560494,ExpressionUUID->"6d19839f-1a60-4092-ae28-7c9b1aece6a5"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]]]],ExpressionUUID->
  "127e5db7-fb48-4f49-8f9d-290a8265ae25"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"40e23e90-ecd7-41ca-b2d1-2eda242d08a5"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "af3c9da0-aa7e-4b9b-9e5e-662d3ca332e2"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->327334785,ExpressionUUID->"3973f46c-5d31-4dc6-aa26-4da73e1cbbe8"],

Cell[TextData[{
 "Consider two sets of ",
 StyleBox["m",
  FontSlant->"Italic"],
 " bosonic modes describing the same system. Typically, one set consists of \
the bare mores and the other, the normal modes."
}], "ExampleText",
 CellID->899584544,ExpressionUUID->"00f7a20f-0526-4742-9711-13bd79224276"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"$m", "=", "3"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "number", " ", "of", " ", "modes"}], " ", 
   "*)"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->766874085,ExpressionUUID->"2a6fe1a0-d5c9-49fb-af0c-82633fe41ef9"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a", ",", "b"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->652243378,ExpressionUUID->"add819a0-a399-4e33-a153-29a61d861a55"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aa", "=", 
  RowBox[{"a", "[", 
   RowBox[{"Range", "@", "$m"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"bb", "=", 
  RowBox[{"b", "[", 
   RowBox[{"Range", "@", "$m"}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1535286693,ExpressionUUID->"65896382-4839-4bfa-8909-f4837b8671d7"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`a[3]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->187383178,ExpressionUUID->"7cf18461-c587-4179-9842-f34d4fbc0d4f"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`b[1]], ",", 
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`b[2]], ",", 
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`b[3]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1138046144,ExpressionUUID->"d4e6c333-72ad-465c-a173-c0cd5f8fe5ab"]
}, Open  ]],

Cell[TextData[{
 "Consider a canonical transformation from one set of bosonic modes to \
another, ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubsuperscriptBox["b", "j", "\[Dagger]"], "=", 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"i", "=", "1"}], "m"], 
     RowBox[{
      SubsuperscriptBox["a", "i", "\[Dagger]"], 
      SubscriptBox["U", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}]]}]}]}], TraditionalForm]],
  ExpressionUUID->"bb715f3f-deec-4415-a6a4-365c811b8ac9"],
 ", or equivalently, ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["b", "i"], "=", 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"j", "=", "1"}], "m"], 
     RowBox[{
      SubsuperscriptBox["U", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}], "\[Dagger]"], 
      SubscriptBox["a", "j"]}]}]}], TraditionalForm]],ExpressionUUID->
  "c26ddaab-e536-48b2-bd5f-56aca2843c42"],
 "."
}], "ExampleText",
 CellID->629436858,ExpressionUUID->"c6d4bf7a-e7dc-4690-b8be-12d2817c99be"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SeedRandom", "[", "351", "]"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1888739657,ExpressionUUID->"5d9488eb-dc97-496b-bc24-6c73eb49e508"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"RandomUnitary", "[", "$m", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->11107004,ExpressionUUID->"182ed1e4-4fde-4790-b03e-8a0c21c8f5e9"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"0.43566146932287153`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22877848559753047`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.7179541346578111`"}], "+", 
       RowBox[{"0.22308008202214685`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.3030288395071328`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3175061395230706`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.4706086526272208`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22153845685052936`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.255116606244794`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4897889765748679`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.4096540614047796`"}], "-", 
       RowBox[{"0.5066103372683282`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.609283418185487`"}], "+", 
       RowBox[{"0.34070722505990997`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.33070407456836753`"}], "+", 
       RowBox[{"0.14294834116039218`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.5555475779196207`"}], "-", 
       RowBox[{"0.27250647443170856`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[5]//MatrixForm=",
 CellID->1652182026,ExpressionUUID->"1f8bf585-5544-41c8-8ba5-45f666a326be"]
}, Open  ]],

Cell[TextData[{
 "Suppose that you are interested in the subspace of ",
 StyleBox["n",
  FontSlant->"Italic"],
 " particles:"
}], "ExampleText",
 CellID->538544441,ExpressionUUID->"605e971c-32dd-46f8-b21b-8097c90df123"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$n", "=", "2"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->554860242,ExpressionUUID->"fedbc508-191a-4af6-9d94-d0f127452dcc"],

Cell["\<\
The relevant bases in terms of two different sets of modes are as follows:\
\>", "ExampleText",
 CellID->1920304077,ExpressionUUID->"e21629b9-758a-4c8d-afdf-c1209fe91ccb"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"as", "=", 
  RowBox[{"BosonBasis", "[", 
   RowBox[{"aa", ",", 
    RowBox[{"{", "$n", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"bs", "=", 
  RowBox[{"BosonBasis", "[", 
   RowBox[{"bb", ",", 
    RowBox[{"{", "$n", "}"}]}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[7]:=",
 CellID->1633870097,ExpressionUUID->"e9f1c35b-900a-4cc2-8678-20dabbdd6dae"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
      2|>]]}], "}"}]], "Output",
 CellLabel->"Out[7]=",
 CellID->1259755272,ExpressionUUID->"da8069db-cba7-4a78-9126-e8e2a4efdec0"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 2, $CellContext`b[2] -> 0, $CellContext`b[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 1, $CellContext`b[2] -> 1, $CellContext`b[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 1, $CellContext`b[2] -> 0, $CellContext`b[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 0, $CellContext`b[2] -> 2, $CellContext`b[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 0, $CellContext`b[2] -> 1, $CellContext`b[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 0, $CellContext`b[2] -> 0, $CellContext`b[3] -> 
      2|>]]}], "}"}]], "Output",
 CellLabel->"Out[7]=",
 CellID->665580731,ExpressionUUID->"20da70c4-8458-4841-8796-29675c9f3cf1"]
}, Open  ]],

Cell[TextData[{
 "Calculate the unitary transformation matrix ",
 Cell[BoxData[
  FormBox["T", TraditionalForm]],ExpressionUUID->
  "9b5427e8-b2b6-4429-9d1a-7b42ac99ffef"],
 " between these bases: ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox[
     TemplateBox[{"j"},
      "Ket"], "b"], ":=", 
    RowBox[{
     UnderscriptBox["\[Sum]", "i"], 
     RowBox[{
      SubscriptBox[
       TemplateBox[{"i"},
        "Ket"], "a"], 
      SubscriptBox["T", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}]]}]}]}], TraditionalForm]],
  ExpressionUUID->"6a743759-8a5e-4a81-bc7f-678a260e2d59"],
 ":"
}], "ExampleText",
 CellID->2129672373,ExpressionUUID->"b72f83b0-5524-45d5-a84d-a148fffa64b3"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", 
     RowBox[{"{", "$n", "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"trs", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[8]:=",
 CellID->1631252586,ExpressionUUID->"d42ead66-1bda-428b-b2a4-a2df722c4e69"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"0.13746132038026385`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.199339942369763`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.5145204178822178`"}], "-", 
       RowBox[{"0.09484432214400065`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.2894280873554461`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.09757891467686483`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.46569341647723855`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.32032253449520787`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.2075096951427086`"}], "+", 
       RowBox[{"0.41797724457712826`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.008983671061803948`"}], "-", 
       RowBox[{"0.1924270339921317`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.2182737155493853`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2887554042934662`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.16409858923629664`"}], "-", 
       RowBox[{"0.20908802861842324`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.15037886950076615`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.10451018031738774`"}], "+", 
       RowBox[{"0.5777874928627784`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.32892418475212865`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.40303514948223434`"}], "-", 
       RowBox[{"0.033163114301931196`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.4856236728572712`"}], "+", 
       RowBox[{"0.012787421655302443`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.18465402550594268`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3939120488565846`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.25614086694651317`"}], "+", 
       RowBox[{"0.050877436400354095`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.29067947795472904`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.24947270957059314`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.40482255125064603`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22003359476180967`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.3604397854764683`"}], "+", 
       RowBox[{"0.1326708335677534`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.17239321606389427`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.20851582936708257`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.3232428007506095`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.24604599432804608`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.11391924908830581`"}], "-", 
       RowBox[{"0.4655157404694664`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.1748087587923952`"}], "-", 
       RowBox[{"0.24990660295978234`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.4987106924659144`"}], "+", 
       RowBox[{"0.10097390585471179`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.08883758380169825`"}], "+", 
       RowBox[{"0.4150699644232315`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.5122476703874509`"}], "+", 
       RowBox[{"0.0358645406197632`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.17586442867592023`"}], "+", 
       RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.22112639571593898`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08222187840065756`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.020299026734120554`"}], "+", 
       RowBox[{"0.2806417802473157`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.06730670531104566`"}], "+", 
       RowBox[{"0.3115588869168069`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.12661132244903608`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.5558984021747169`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.25514487046776685`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4151745253699879`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.21607624248889806`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.28251648379488553`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.6099939407033187`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.032873956325682754`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.0889309566956125`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.09454719774906153`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.31491169655653434`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.01513830304891273`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.2343733327251576`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3027806236759014`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[8]//MatrixForm=",
 CellID->173028694,ExpressionUUID->"c3f62fd8-da37-4607-8a98-0a9228183a05"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"trs", ".", 
    RowBox[{"Topple", "[", "trs", "]"}]}], "//", "Chop"}], "//", 
  "MatrixForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Topple", "[", "trs", "]"}], ".", "trs"}], "//", "Chop"}], "//", 
  "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[9]:=",
 CellID->1586342386,ExpressionUUID->"3f527af1-8a3d-43cd-9189-1b3278e870fe"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1.`", "0", "0", "0", "0", "0"},
     {"0", "1.0000000000000002`", "0", "0", "0", "0"},
     {"0", "0", "1.`", "0", "0", "0"},
     {"0", "0", "0", "0.9999999999999996`", "0", "0"},
     {"0", "0", "0", "0", "0.9999999999999997`", "0"},
     {"0", "0", "0", "0", "0", "0.9999999999999997`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[9]//MatrixForm=",
 CellID->400402020,ExpressionUUID->"1216c3fc-2dff-4543-8ecc-6a63198c820a"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0.9999999999999998`", "0", "0", "0", "0", "0"},
     {"0", "1.0000000000000002`", "0", "0", "0", "0"},
     {"0", "0", "0.9999999999999999`", "0", "0", "0"},
     {"0", "0", "0", "0.9999999999999999`", "0", "0"},
     {"0", "0", "0", "0", "0.9999999999999998`", "0"},
     {"0", "0", "0", "0", "0", "0.9999999999999996`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[9]//MatrixForm=",
 CellID->1490484089,ExpressionUUID->"fd98a4b2-a0f9-44e1-ada9-5a4f1460d15d"]
}, Open  ]],

Cell["\<\
Now, let us verify the above unitary matrix by manually constructing the \
canonical transformation.\
\>", "ExampleText",
 CellID->1291576865,ExpressionUUID->"04c27e0b-6d16-48f6-a446-6b24d6e9a67d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"rls", "=", 
  RowBox[{"TransformBy", "[", 
   RowBox[{
    RowBox[{"bb", "->", "aa"}], ",", 
    RowBox[{"Topple", "@", "mat"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[10]:=",
 CellID->1666517005,ExpressionUUID->"7b741f30-ee1e-4f66-bd53-106ef09b46c5"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    InterpretationBox[
     SubscriptBox["b", 
      TemplateBox[{",", "\",\"", "1"},
       "RowWithSeparators"]],
     $CellContext`b[1]], "\[Rule]", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.43566146932287153`", "\[VeryThinSpace]", "-", 
        RowBox[{"0.22877848559753047`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`a[1]]}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.4706086526272208`", "\[VeryThinSpace]", "-", 
        RowBox[{"0.22153845685052936`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`a[2]]}], "-", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.609283418185487`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.34070722505990997`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "3"},
         "RowWithSeparators"]],
       $CellContext`a[3]]}]}]}], ",", 
   RowBox[{
    InterpretationBox[
     SubscriptBox["b", 
      TemplateBox[{",", "\",\"", "2"},
       "RowWithSeparators"]],
     $CellContext`b[2]], "\[Rule]", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", "0.7179541346578111`"}], "-", 
        RowBox[{"0.22308008202214685`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`a[1]]}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.255116606244794`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.4897889765748679`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`a[2]]}], "-", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.33070407456836753`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.14294834116039218`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "3"},
         "RowWithSeparators"]],
       $CellContext`a[3]]}]}]}], ",", 
   RowBox[{
    InterpretationBox[
     SubscriptBox["b", 
      TemplateBox[{",", "\",\"", "3"},
       "RowWithSeparators"]],
     $CellContext`b[3]], "\[Rule]", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.3030288395071328`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.3175061395230706`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`a[1]]}], "-", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.4096540614047796`", "\[VeryThinSpace]", "-", 
        RowBox[{"0.5066103372683282`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`a[2]]}], "-", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.5555475779196207`", "\[VeryThinSpace]", "-", 
        RowBox[{"0.27250647443170856`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "3"},
         "RowWithSeparators"]],
       $CellContext`a[3]]}]}]}]}], "}"}]], "Output",
 CellLabel->"Out[10]=",
 CellID->169341568,ExpressionUUID->"df2fb9c1-197f-4a1c-ac54-5ac0ce77eb69"]
}, Open  ]],

Cell[TextData[{
 "The basis for the ",
 StyleBox["b",
  FontSlant->"Italic"],
 "-modes can be rewritten as follows."
}], "ExampleText",
 CellID->116787747,ExpressionUUID->"3183fc6a-da87-45af-a07f-c33d5ebc811f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"bs2", "=", 
  RowBox[{"FockCat", "[", "bs", "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[11]:=",
 CellID->614657339,ExpressionUUID->"dd2b0f47-e8f2-47b0-9ad5-b52bac21eccd"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   FractionBox[
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          QuantumMob`Q3`Dagger[
           $CellContext`b[1]]], 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          QuantumMob`Q3`Dagger[
           $CellContext`b[1]]], 
         InterpretationBox[
          TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
          Ket[QuantumMob`Q3`Vacuum]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      QuantumMob`Q3`Dagger[
       $CellContext`b[1]], 
      QuantumMob`Q3`Dagger[
       $CellContext`b[1]], 
      Ket[QuantumMob`Q3`Vacuum]]], 
    SqrtBox["2"]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         QuantumMob`Q3`Dagger[
          $CellContext`b[1]]], 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         QuantumMob`Q3`Dagger[
          $CellContext`b[2]]], 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
         Ket[QuantumMob`Q3`Vacuum]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     QuantumMob`Q3`Dagger[
      $CellContext`b[1]], 
     QuantumMob`Q3`Dagger[
      $CellContext`b[2]], 
     Ket[QuantumMob`Q3`Vacuum]]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         QuantumMob`Q3`Dagger[
          $CellContext`b[1]]], 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         QuantumMob`Q3`Dagger[
          $CellContext`b[3]]], 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
         Ket[QuantumMob`Q3`Vacuum]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     QuantumMob`Q3`Dagger[
      $CellContext`b[1]], 
     QuantumMob`Q3`Dagger[
      $CellContext`b[3]], 
     Ket[QuantumMob`Q3`Vacuum]]], ",", 
   FractionBox[
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          QuantumMob`Q3`Dagger[
           $CellContext`b[2]]], 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          QuantumMob`Q3`Dagger[
           $CellContext`b[2]]], 
         InterpretationBox[
          TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
          Ket[QuantumMob`Q3`Vacuum]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      QuantumMob`Q3`Dagger[
       $CellContext`b[2]], 
      QuantumMob`Q3`Dagger[
       $CellContext`b[2]], 
      Ket[QuantumMob`Q3`Vacuum]]], 
    SqrtBox["2"]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         QuantumMob`Q3`Dagger[
          $CellContext`b[2]]], 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         QuantumMob`Q3`Dagger[
          $CellContext`b[3]]], 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
         Ket[QuantumMob`Q3`Vacuum]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     QuantumMob`Q3`Dagger[
      $CellContext`b[2]], 
     QuantumMob`Q3`Dagger[
      $CellContext`b[3]], 
     Ket[QuantumMob`Q3`Vacuum]]], ",", 
   FractionBox[
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          QuantumMob`Q3`Dagger[
           $CellContext`b[3]]], 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          QuantumMob`Q3`Dagger[
           $CellContext`b[3]]], 
         InterpretationBox[
          TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
          Ket[QuantumMob`Q3`Vacuum]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      QuantumMob`Q3`Dagger[
       $CellContext`b[3]], 
      QuantumMob`Q3`Dagger[
       $CellContext`b[3]], 
      Ket[QuantumMob`Q3`Vacuum]]], 
    SqrtBox["2"]]}], "}"}]], "Output",
 CellLabel->"Out[11]=",
 CellID->707901101,ExpressionUUID->"1f0d85f5-abcf-4e23-aec9-8d2ea728e946"]
}, Open  ]],

Cell[TextData[{
 "Rewrite the above basis in terms of the basis for the ",
 StyleBox["a",
  FontSlant->"Italic"],
 "-modes:"
}], "ExampleText",
 CellID->1021926066,ExpressionUUID->"095148d4-1127-4e0e-a97a-e439dd4a6352"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"alt", "=", 
  RowBox[{"Garner", "@", 
   RowBox[{"FockKet", "[", 
    RowBox[{"bs2", "/.", "rls"}], "]"}]}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[12]:=",
 CellID->333871968,ExpressionUUID->"de418978-1f01-4799-af5f-3235adaa64e3"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2551448704677669`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4151745253699879`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.512247670387451`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.035864540619763186`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.1723932160638943`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.20851582936708263`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4856236728572712`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.012787421655302472`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2182737155493853`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.28875540429346613`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.13746132038026387`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.19933994236976305`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2160762424888981`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.2825164837948856`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.17586442867592025`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3232428007506095`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.2460459943280461`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.18465402550594273`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.39391204885658454`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.16409858923629667`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.20908802861842318`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.5145204178822179`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.09484432214400068`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.6099939407033188`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.03287395632568277`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.221126395715939`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08222187840065753`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.11391924908830582`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.46551574046946653`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.25614086694651317`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.05087743640035408`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.15037886950076618`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2894280873554461`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.09757891467686482`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.08893095669561252`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.09454719774906155`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.02029902673412055`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.2806417802473156`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.17480875879239527`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.24990660295978237`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.290679477954729`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.24947270957059312`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.1045101803173877`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.5777874928627785`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4656934164772386`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3203225344952079`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3149116965565344`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.01513830304891273`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.06730670531104563`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.31155888691680683`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4987106924659144`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.10097390585471183`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4048225512506461`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22003359476180961`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3289241847521286`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.20750969514270864`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.41797724457712837`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2343733327251576`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3027806236759015`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.12661132244903608`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.555898402174717`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.08883758380169826`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.41506996442323163`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3604397854764683`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.13267083356775333`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.40303514948223423`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.033163114301931196`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.00898367106180395`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.19242703399213174`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}]}], "}"}]], "Output",
 CellLabel->"Out[12]=",
 CellID->634400127,ExpressionUUID->"c13afa77-56ad-40ac-8e12-7b3d740fad5e"]
}, Open  ]],

Cell[TextData[{
 "Compare the above expressions with the ones obtained by using the unitary \
matrix from ",
 StyleBox["BosonBasisChange", "Input"],
 ":"
}], "ExampleText",
 CellID->977125870,ExpressionUUID->"cbd0c66d-2b9a-4b58-9b2e-262e704c1b68"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mint", "=", 
  RowBox[{"as", ".", "trs"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[13]:=",
 CellID->2127017166,ExpressionUUID->"64c1da5c-bd89-4c08-9d9d-145c599c90ed"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.25514487046776685`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4151745253699879`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.5122476703874509`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.0358645406197632`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.17239321606389427`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.20851582936708257`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4856236728572712`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.012787421655302443`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2182737155493853`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2887554042934662`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.13746132038026385`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.199339942369763`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.21607624248889806`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.28251648379488553`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.17586442867592023`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3232428007506095`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.24604599432804608`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.18465402550594268`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3939120488565846`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.16409858923629664`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.20908802861842324`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.5145204178822178`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.09484432214400065`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.6099939407033187`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.032873956325682754`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.22112639571593898`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08222187840065756`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.11391924908830581`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.4655157404694664`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.25614086694651317`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.050877436400354095`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.15037886950076615`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2894280873554461`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.09757891467686483`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.0889309566956125`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.09454719774906153`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.020299026734120554`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.2806417802473157`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.1748087587923952`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.24990660295978234`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.29067947795472904`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.24947270957059314`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.10451018031738774`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.5777874928627784`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.46569341647723855`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.32032253449520787`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.31491169655653434`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.01513830304891273`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.06730670531104566`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3115588869168069`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4987106924659144`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.10097390585471179`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.40482255125064603`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22003359476180967`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.32892418475212865`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2075096951427086`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.41797724457712826`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2343733327251576`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3027806236759014`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.12661132244903608`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.5558984021747169`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.08883758380169825`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4150699644232315`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3604397854764683`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.1326708335677534`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.40303514948223434`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.033163114301931196`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.008983671061803948`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.1924270339921317`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}]}], "}"}]], "Output",
 CellLabel->"Out[13]=",
 CellID->106627134,ExpressionUUID->"577d748b-c846-4ece-a75c-8bc81e8852ae"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"mint", "-", "alt"}], "//", "Chop"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[14]:=",
 CellID->1423053347,ExpressionUUID->"53c69176-23ab-4ef7-bbb1-7fc3756a7e1a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], 
  "}"}]], "Output",
 CellLabel->"Out[14]=",
 CellID->1080879540,ExpressionUUID->"0a3c868a-ebcf-4069-aaad-dd9afdfa1808"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"tt", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "$n"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "/@", "tt"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[15]:=",
 CellID->332562170,ExpressionUUID->"eaca9460-aca3-429d-abff-11f8a787b20c"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{"0", "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}], ",", 
   RowBox[{"1", "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {
         RowBox[{"0.43566146932287153`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.22877848559753047`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.7179541346578111`"}], "+", 
          RowBox[{"0.22308008202214685`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.3030288395071328`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.3175061395230706`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{"0.4706086526272208`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.22153845685052936`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.255116606244794`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.4897889765748679`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.4096540614047796`"}], "-", 
          RowBox[{"0.5066103372683282`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{
          RowBox[{"-", "0.609283418185487`"}], "+", 
          RowBox[{"0.34070722505990997`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.33070407456836753`"}], "+", 
          RowBox[{"0.14294834116039218`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.5555475779196207`"}], "-", 
          RowBox[{"0.27250647443170856`", " ", "\[ImaginaryI]"}]}]}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}], ",", 
   RowBox[{"2", "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {
         RowBox[{"0.13746132038026385`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.199339942369763`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.5145204178822178`"}], "-", 
          RowBox[{"0.09484432214400065`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.2894280873554461`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.09757891467686483`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.46569341647723855`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.32032253449520787`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.2075096951427086`"}], "+", 
          RowBox[{"0.41797724457712826`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.008983671061803948`"}], "-", 
          RowBox[{"0.1924270339921317`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{"0.2182737155493853`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.2887554042934662`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.16409858923629664`"}], "-", 
          RowBox[{"0.20908802861842324`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.15037886950076615`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.10451018031738774`"}], "+", 
          RowBox[{"0.5777874928627784`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.32892418475212865`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.40303514948223434`"}], "-", 
          RowBox[{"0.033163114301931196`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{
          RowBox[{"-", "0.4856236728572712`"}], "+", 
          RowBox[{"0.012787421655302443`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.18465402550594268`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.3939120488565846`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.25614086694651317`"}], "+", 
          RowBox[{"0.050877436400354095`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.29067947795472904`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.24947270957059314`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.40482255125064603`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.22003359476180967`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.3604397854764683`"}], "+", 
          RowBox[{"0.1326708335677534`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{"0.17239321606389427`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.20851582936708257`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.3232428007506095`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.24604599432804608`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.11391924908830581`"}], "-", 
          RowBox[{"0.4655157404694664`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.1748087587923952`"}], "-", 
          RowBox[{"0.24990660295978234`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.4987106924659144`"}], "+", 
          RowBox[{"0.10097390585471179`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.08883758380169825`"}], "+", 
          RowBox[{"0.4150699644232315`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{
          RowBox[{"-", "0.5122476703874509`"}], "+", 
          RowBox[{"0.0358645406197632`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.17586442867592023`"}], "+", 
          RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.22112639571593898`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.08222187840065756`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.020299026734120554`"}], "+", 
          RowBox[{"0.2806417802473157`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.06730670531104566`"}], "+", 
          RowBox[{"0.3115588869168069`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.12661132244903608`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.5558984021747169`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{"0.25514487046776685`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.4151745253699879`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.21607624248889806`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.28251648379488553`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.6099939407033187`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.032873956325682754`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.0889309566956125`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.09454719774906153`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.31491169655653434`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.01513830304891273`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.2343733327251576`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.3027806236759014`", " ", "\[ImaginaryI]"}]}]}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}]}], "\[RightAssociation]"}]], "Output",
 CellLabel->"Out[15]=",
 CellID->778258807,ExpressionUUID->"4d97906f-b865-471b-82c2-b75a638d6844"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]]]],ExpressionUUID->
  "881c05b3-b477-4661-ac11-85113aa0a130"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"850928cb-2c75-4904-9b9d-2c7a9f491359"],
 "Scope",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "ce69535f-9cff-4e38-a48a-8e4f67a74da5"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1094006675,ExpressionUUID->"1e6f4539-5a16-46f0-b271-5bf83ecb4e4c"],

Cell["\<\
If you are sure, say based on certain physical grounds, that some many-body \
basis states are more relevant than others, you can restrict the involved \
basis states in several ways by adjusting the input arguments.\
\>", "ExampleText",
 CellID->1293372040,ExpressionUUID->"8a276b6b-8cc5-4a99-8355-3ec1ad5433cc"],

Cell["\<\
Let us examine examples by considering two sets of bosonic modes related by a \
canonical transformation:\
\>", "ExampleText",
 CellID->998156305,ExpressionUUID->"46a766ef-61d4-4cbd-a8a4-ca0ea86453f8"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"$m", "=", "3"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "number", " ", "of", " ", "modes"}], " ", 
   "*)"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1933974453,ExpressionUUID->"46b2309c-47e9-42b5-87a6-8f04e354c97e"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a", ",", "b"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->2143634226,ExpressionUUID->"a3d17d09-891e-4f2c-abe7-a772c383aa7c"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aa", "=", 
  RowBox[{"a", "[", 
   RowBox[{"Range", "@", "$m"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"bb", "=", 
  RowBox[{"b", "[", 
   RowBox[{"Range", "@", "$m"}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1874774310,ExpressionUUID->"0e72666a-1e92-4317-9615-ba097cc7b7d9"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`a[3]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1073844546,ExpressionUUID->"71ed9fa6-5242-4b94-b59b-21ef18eda62a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`b[1]], ",", 
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`b[2]], ",", 
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`b[3]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->652715234,ExpressionUUID->"3777cbbf-284e-49a9-a907-a6ab9ca3b71b"]
}, Open  ]],

Cell["To be specific, choose a canonical transformation:", "ExampleText",
 CellID->1182235068,ExpressionUUID->"f9715920-b0b6-4baa-b2e9-7491956ecb85"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SeedRandom", "[", "351", "]"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1306085832,ExpressionUUID->"7ff1ceae-f353-4909-86e4-b64312b067d5"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"RandomUnitary", "[", "$m", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1954222437,ExpressionUUID->"d0ccf05c-4af2-4152-a5df-ab9567f4eaf0"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"0.43566146932287153`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22877848559753047`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.7179541346578111`"}], "+", 
       RowBox[{"0.22308008202214685`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.3030288395071328`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3175061395230706`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.4706086526272208`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22153845685052936`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.255116606244794`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4897889765748679`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.4096540614047796`"}], "-", 
       RowBox[{"0.5066103372683282`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.609283418185487`"}], "+", 
       RowBox[{"0.34070722505990997`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.33070407456836753`"}], "+", 
       RowBox[{"0.14294834116039218`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.5555475779196207`"}], "-", 
       RowBox[{"0.27250647443170856`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[5]//MatrixForm=",
 CellID->433240868,ExpressionUUID->"a89e7021-0363-4db0-82d2-a29f8fb07550"]
}, Open  ]],

Cell[TextData[{
 "Suppose that you are interested in the subspace of ",
 StyleBox["n",
  FontSlant->"Italic"],
 " particles:"
}], "ExampleText",
 CellID->1938593701,ExpressionUUID->"75c6aac7-8d53-41ce-9460-cd3dabee00dc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$n", "=", "2"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->322440423,ExpressionUUID->"129e8eb3-ee69-4561-8d65-1d4c04cf2757"],

Cell["\<\
Restrict the relevant many-body basis states by allowing only  0 or 1 for the \
occupation numbers:\
\>", "ExampleText",
 CellID->1154947980,ExpressionUUID->"0a790f38-8f2f-4d87-92f2-d1958f9087d7"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"as", "=", 
  RowBox[{"BosonBasis", "[", 
   RowBox[{"aa", ",", 
    RowBox[{"{", "$n", "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"bs", "=", 
  RowBox[{"BosonBasis", "[", 
   RowBox[{"bb", ",", 
    RowBox[{"{", "$n", "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[7]:=",
 CellID->106014627,ExpressionUUID->"123c5889-3d99-4d1c-8c17-4dc8b07a86c3"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
      1|>]]}], "}"}]], "Output",
 CellLabel->"Out[7]=",
 CellID->605325118,ExpressionUUID->"eef0b6f9-4508-43a1-8b12-066d144b5e0e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 1, $CellContext`b[2] -> 1, $CellContext`b[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 1, $CellContext`b[2] -> 0, $CellContext`b[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 0, $CellContext`b[2] -> 1, $CellContext`b[3] -> 
      1|>]]}], "}"}]], "Output",
 CellLabel->"Out[7]=",
 CellID->1069222387,ExpressionUUID->"22f0b1ed-29c2-4705-a922-d21affafe13b"]
}, Open  ]],

Cell[TextData[{
 "Calculate the unitary transformation matrix ",
 Cell[BoxData[
  FormBox["T", TraditionalForm]],ExpressionUUID->
  "9be72eb8-0d73-404f-9567-dcb956952c33"],
 " between these bases: ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox[
     TemplateBox[{"j"},
      "Ket"], "b"], ":=", 
    RowBox[{
     UnderscriptBox["\[Sum]", "i"], 
     RowBox[{
      SubscriptBox[
       TemplateBox[{"i"},
        "Ket"], "a"], 
      SubscriptBox["T", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}]]}]}]}], TraditionalForm]],
  ExpressionUUID->"2df36058-9699-4fc8-80e7-9db33c92e5e6"],
 ":"
}], "ExampleText",
 CellID->841215019,ExpressionUUID->"5da6fdd6-be29-4169-b5ab-4275b341f39a"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", 
     RowBox[{"{", "$n", "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"trs", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[8]:=",
 CellID->1415976132,ExpressionUUID->"7aaae92b-06bb-42f0-b0c9-b62f11e7aebf"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"-", "0.16409858923629664`"}], "-", 
       RowBox[{"0.20908802861842324`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.15037886950076615`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.32892418475212865`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.18465402550594268`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3939120488565846`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.25614086694651317`"}], "+", 
       RowBox[{"0.050877436400354095`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.40482255125064603`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22003359476180967`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.17586442867592023`"}], "+", 
       RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.22112639571593898`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08222187840065756`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.06730670531104566`"}], "+", 
       RowBox[{"0.3115588869168069`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[8]//MatrixForm=",
 CellID->2067222266,ExpressionUUID->"1e2c60fd-2b64-4c5e-a101-d5fde05a7762"]
}, Open  ]],

Cell[TextData[{
 "You can restrict the states more directly by giving custom bases as input \
arguments. In this particular case, the following three statements are \
equivalent because the bases for the two sets of bosonic modes (",
 StyleBox["a",
  FontSlant->"Italic"],
 "- and ",
 StyleBox["b",
  FontSlant->"Italic"],
 "-modes) are essentially the same (the keys of Kets in the basis are \
ignored, only occupation numbers are considered)."
}], "ExampleText",
 CellID->799020092,ExpressionUUID->"208824b0-391a-45a2-8e52-46a1b5661e06"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "as"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "bs"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", 
     RowBox[{"{", 
      RowBox[{"as", ",", "bs"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"trs", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[9]:=",
 CellID->174508983,ExpressionUUID->"5195fe46-4be2-478d-9246-22f862af99dd"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"-", "0.16409858923629664`"}], "-", 
       RowBox[{"0.20908802861842324`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.15037886950076615`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.32892418475212865`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.18465402550594268`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3939120488565846`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.25614086694651317`"}], "+", 
       RowBox[{"0.050877436400354095`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.40482255125064603`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22003359476180967`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.17586442867592023`"}], "+", 
       RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.22112639571593898`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08222187840065756`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.06730670531104566`"}], "+", 
       RowBox[{"0.3115588869168069`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[9]//MatrixForm=",
 CellID->731880488,ExpressionUUID->"712df29f-7882-44ce-9dda-629752570dcd"]
}, Open  ]],

Cell["\<\
The same result can be obtained by specifying the occupation numbers as well:\
\
\>", "ExampleText",
 CellID->420673980,ExpressionUUID->"e5ae67d5-d552-4865-92f8-c3673e7768d2"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"alist", "=", 
  RowBox[{"OrderedPartitions", "[", 
   RowBox[{"$n", ",", "$m", ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"blist", "=", 
  RowBox[{"OrderedPartitions", "[", 
   RowBox[{"$n", ",", "$m", ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[10]:=",
 CellID->195611649,ExpressionUUID->"d50addcb-f0b9-46f8-96cc-40d7b8cc1c30"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", "1", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"1", ",", "0", ",", "1"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "1", ",", "1"}], "}"}]}], "}"}]], "Output",
 CellLabel->"Out[10]=",
 CellID->1171806687,ExpressionUUID->"82b6774c-01bc-45c3-a9ef-28b4e4102a78"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", "1", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"1", ",", "0", ",", "1"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "1", ",", "1"}], "}"}]}], "}"}]], "Output",
 CellLabel->"Out[10]=",
 CellID->2129945419,ExpressionUUID->"815a1f58-8000-48da-81c6-46ac2dfe8c9f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "alist"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "blist"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", 
     RowBox[{"{", 
      RowBox[{"alist", ",", "blist"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"trs", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[11]:=",
 CellID->858218400,ExpressionUUID->"7bb6b271-6dc3-4c8d-8a98-ffd808127294"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"-", "0.16409858923629664`"}], "-", 
       RowBox[{"0.20908802861842324`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.15037886950076615`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.32892418475212865`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.18465402550594268`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3939120488565846`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.25614086694651317`"}], "+", 
       RowBox[{"0.050877436400354095`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.40482255125064603`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22003359476180967`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.17586442867592023`"}], "+", 
       RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.22112639571593898`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08222187840065756`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.06730670531104566`"}], "+", 
       RowBox[{"0.3115588869168069`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[11]//MatrixForm=",
 CellID->1544760678,ExpressionUUID->"1b5c6fa8-0dd6-41f7-8fc1-145dd32d106a"]
}, Open  ]],

Cell["\<\
Note that in this case, the resulting matrix is not unitary any longer \
because is only an approximation (in this random example, it is a very bad \
approximation).\
\>", "ExampleText",
 CellID->473559800,ExpressionUUID->"83562d99-9582-4cdb-8ecf-063c6ec79a8d"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"trs", ".", 
    RowBox[{"Topple", "[", "trs", "]"}]}], "//", "Chop"}], "//", 
  "MatrixForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Topple", "[", "trs", "]"}], ".", "trs"}], "//", "Chop"}], "//", 
  "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[12]:=",
 CellID->1002436772,ExpressionUUID->"8b2d2aa3-55e7-4f44-827b-d101beff6473"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0.360679013024585`", 
      RowBox[{"0.13595749757872483`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.06428522594888722`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.006645492345604529`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08170659945444178`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.13595749757872483`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.06428522594888719`", " ", "\[ImaginaryI]"}]}], 
      "0.46975654944961126`", 
      RowBox[{
       RowBox[{"-", "0.20142098077151682`"}], "-", 
       RowBox[{"0.15151912052934474`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.006645492345604529`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.08170659945444178`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.20142098077151682`"}], "+", 
       RowBox[{"0.15151912052934474`", " ", "\[ImaginaryI]"}]}], 
      "0.3320907390893303`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[12]//MatrixForm=",
 CellID->510336257,ExpressionUUID->"9133cbea-df6d-4b22-a0a5-b4a35f6ac39f"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0.4347442483934312`", 
      RowBox[{
       RowBox[{"-", "0.07914548486728296`"}], "-", 
       RowBox[{"0.06438303035790476`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.05515554347852418`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.23256685014029807`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.07914548486728296`"}], "+", 
       RowBox[{"0.06438303035790476`", " ", "\[ImaginaryI]"}]}], 
      "0.30385393302330727`", 
      RowBox[{
       RowBox[{"-", "0.10055947583046027`"}], "+", 
       RowBox[{"0.123348098705274`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.05515554347852418`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.23256685014029807`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.10055947583046027`"}], "-", 
       RowBox[{"0.123348098705274`", " ", "\[ImaginaryI]"}]}], 
      "0.4239281201467881`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[12]//MatrixForm=",
 CellID->171785281,ExpressionUUID->"a1ef64e1-9707-4cb7-9803-9a71eb95b69e"]
}, Open  ]],

Cell["\<\
Therefore, the restriction must be used only when one is convinced that there \
is certain physical reasons to restrict the bases.\
\>", "ExampleText",
 CellID->529714649,ExpressionUUID->"cdefad92-f7fd-4974-8758-e03d5370cc91"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "3"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]]]],ExpressionUUID->
  "8946b37d-d41c-4236-9743-d9eda275b4e7"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"c02de497-d39f-44b9-98c7-fb467342c8ee"],
 "Possible Issues",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "f03b62f8-08e2-4cf4-bbfe-0c48c1d3fe6c"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->346734972,ExpressionUUID->"77c8481a-8cec-428e-810c-9ba396ad72db"],

Cell[TextData[{
 "Technically, ",
 StyleBox["BosonBasisChange", "Input"],
 " involves the calculation of permanent, which is known to be \
computationally hard. The computational cost scales exponentially with the \
dimension of the matrix."
}], "ExampleText",
 CellID->1230739208,ExpressionUUID->"8870fa70-6f06-4828-a52e-5834d36fcf71"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$L", "=", "9"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "number", " ", "of", " ", "modes", " ", 
    RowBox[{"(", 
     RowBox[{"1", "D", " ", "system", " ", "size"}], ")"}]}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$n", "=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"$L", "-", "1"}], ")"}], "/", "2"}]}], ";"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->2023284607,ExpressionUUID->"195c2a88-8800-47cb-bcfc-72651ce1c32b"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"pp", "=", 
    RowBox[{"OrderedPartitions", "[", 
     RowBox[{"$n", ",", "$L"}], "]"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "possible", " ", "occupation", " ", "numbers", " ", "of", " ", "the", " ", 
    "bare", " ", "modes"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"qq", "=", 
    RowBox[{"OrderedPartitions", "[", 
     RowBox[{"$n", ",", "$L", ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "possible", " ", "occupation", " ", "numbers", " ", "of", " ", "the", " ", 
    "dressed", " ", "modes"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{"Length", "/@", 
  RowBox[{"{", 
   RowBox[{"pp", ",", "qq"}], "}"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->2088323251,ExpressionUUID->"b11b71c0-cc87-43c3-aa19-b0e0cfeef2e0"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"495", ",", "126"}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1587961278,ExpressionUUID->"a99cb262-af7f-40a2-b2cd-414007806900"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"SeedRandom", "[", "351", "]"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->782728112,ExpressionUUID->"6770914c-285f-48fc-a16e-d503b68929d0"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"RandomUnitary", "[", "$L", "]"}]}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1974040509,ExpressionUUID->"7fbc193c-5811-492a-a60a-4a5fea7251ce"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"trs", "=", 
    RowBox[{"BosonBasisChange", "[", 
     RowBox[{"mat", ",", 
      RowBox[{"{", 
       RowBox[{"pp", ",", "qq"}], "}"}]}], "]"}]}], ";"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1223972260,ExpressionUUID->"2252ebda-c3e2-40e2-b60c-b6dfbe71d4fc"],

Cell[BoxData["4.114736`"], "EchoTiming",
 CellID->1670623238,ExpressionUUID->"c50c0d33-5c4b-4e9b-9121-5ed41f1337f3"]
}, Open  ]],

Cell["Elementary check-ups.", "ExampleText",
 CellID->1780247599,ExpressionUUID->"4f334afd-779e-478c-9a0e-bfe5dc1e7323"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Dimensions", "[", "trs", "]"}], "\[IndentingNewLine]", 
 RowBox[{"DeleteCases", "[", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"Topple", "[", "trs", "]"}], ".", "trs"}], "-", 
      RowBox[{"One", "[", 
       RowBox[{"Length", "@", "qq"}], "]"}]}], "//", "Flatten"}], "//", 
    "Chop"}], ",", "0"}], "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->1879226389,ExpressionUUID->"b0ae9433-a145-471e-bf91-843e523049f4"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"495", ",", "126"}], "}"}]], "Output",
 CellLabel->"Out[6]=",
 CellID->33285304,ExpressionUUID->"7a7f5716-de3c-4aef-b15c-657ac4f1bf16"],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellLabel->"Out[6]=",
 CellID->1080356108,ExpressionUUID->"65396a18-b304-40b9-85b6-9afc95546531"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "3"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["BosonBasis"]], "paclet:QuantumMob/Q3/ref/BosonBasis", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "5311b925-3821-4d00-b1b0-e4158f0f646c"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["MatrixIn"]], "paclet:QuantumMob/Q3/ref/MatrixIn", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "cdd3ccce-76c0-45a1-ab2a-7836526c1cb4"]
       }], "SeeAlso",ExpressionUUID->"2c7ebcf3-5f77-4321-a23c-51acb674fabd"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"c8130505-82d4-453f-a176-\
8fc12bad181d"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTechNote.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TechNotesSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Many-Body Systems with Q3"]], 
           "paclet:QuantumMob/Q3/tutorial/QuantumManyBodySystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "ef70fbcb-1a4f-4187-9e48-a978a0e27e4a"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Quick Start"]], 
           "paclet:QuantumMob/Q3/tutorial/Q3QuickStart"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "0dde4e29-82e2-4baf-abd6-4e65faeb2a42"]}]}
     }]}
  }]], "TechNotesSection",ExpressionUUID->"6f7b8d3c-216b-4b47-92e5-\
eda8f3a34aa5"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Many-Body Systems"]], 
           "paclet:QuantumMob/Q3/guide/QuantumManyBodySystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "06dcd989-1c1c-4e30-a428-e3fa95f6a741"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Symbolic Quantum Simulation"]], 
           "paclet:QuantumMob/Q3/guide/Q3"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "4b1c6378-baea-4679-8f13-4af8271ed37b"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"3b08753e-24c1-465a-bee9-\
c339d2333e57"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "cfe0e145-2744-40c6-b5e5-52f13fc5deb5"]}]],ExpressionUUID->
         "86c6b3c6-1b15-44a4-b4fc-27f6dd72e6ce"],
        ", A Quantum Computation Workbook (Springer)."
       }], "RelatedLinks",ExpressionUUID->
        "3029692d-1ee2-43f3-bc60-5f963c773778"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"67c11c25-5d81-4443-8d1f-\
bc96e8efc87e"],

Cell[" ", "FooterCell",ExpressionUUID->"06f6d934-df56-41df-ba3f-eb47875e2fb7"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"BosonBasisChange",
Visible->True,
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, 
    "ExampleSection" -> {"0" -> Open, "1" -> Closed, "3" -> Closed}, 
    "AllOptsTable" -> Closed, "NotesSection" -> Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "HasOptions" -> 
  True, "RootCaptions" -> "", "HeaderCoreAreaLink" -> {}, 
  "Metadata" -> {
   "built" -> "{2026, 2, 10, 14, 21, 22.403538}", 
    "history" -> {"14.0", "", "", ""}, "context" -> "QuantumMob`Q3`", 
    "keywords" -> {}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> 
    "Quantum Mob/ Q3 Symbol", "language" -> "en", "paclet" -> "QuantumMob/Q3",
     "status" -> "None", "summary" -> 
    "BosonBasisChange[mat, {n}] returns the unitary matrix describing the \
change of n-particle basis between two sets of modes related by the canonical \
transformation matrix mat. BosonBasisChange[mat, {m, n}] returns an \
association whose keys are the numbers from m to n and the values are the \
unitary matrices corresponding to the numbers of particles. \
BosonBasisChange[mat, n] is equivalent to BosonBasisChange[mat, {0, n}]. \
BosonBasisChange[mat, nspec, {k1, k2, ...}] assumes that the basis states \
only have occupation numbers in {k1, k2, ...}. BosonBasisChange[mat, {{p11, \
p12, ...}, {p21, p22, ...}, ...}] refers to pij for the occupation number of \
j-th mode in the i-th many-body basis state for the both sets of boson modes. \
BosonBasisChange[mat, {pmat, qmat}] refers to pmat and qmat for the \
occupation numbers of the first and second set of boson modes, respectively. \
BosonBasisChange[mat, bs] or BosonBasisChange[mat, {bsa, bsb}] refers to the \
same basis bs or respective bases bsa and bsb for the occupation numbers of \
the two sets of boson modes.", "synonyms" -> {}, "tabletags" -> {}, "title" -> 
    "BosonBasisChange", "titlemodifier" -> "", "metadescription" -> "", 
    "windowtitle" -> "BosonBasisChange", "type" -> "Symbol", "uri" -> 
    "QuantumMob/Q3/ref/BosonBasisChange"}},
FrontEndVersion->"14.3 for Mac OS X ARM (64-bit) (July 8, 2025)",
StyleDefinitions->FrontEnd`FileName[{"Wolfram"}, "Reference.nb"],
ExpressionUUID->"cdfec8b4-82b8-44c2-99ac-807d0dee53a6"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[22595, 623, 1441, 38, 70, "PrimaryExamplesSection",ExpressionUUID->"43ca2a0f-5415-43b5-b48f-12148b4d76e0",
   CellTags->"PrimaryExamplesSection",
   CellID->1165310775]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 205182, 5265}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[584, 21, 6542, 161, 70, "AnchorBarGrid",ExpressionUUID->"8e239e2b-5c48-4533-b80c-304b9dbd73f2",
 CellID->1],
Cell[7129, 184, 96, 0, 70, "ContextNameCell",ExpressionUUID->"e2580b2f-cfb4-434e-b9d3-6ca73b6e6885"],
Cell[CellGroupData[{
Cell[7250, 188, 1367, 37, 70, "ObjectNameGrid",ExpressionUUID->"abc234e3-28ae-4d80-aab3-290011766d16"],
Cell[8620, 227, 10056, 279, 70, "Usage",ExpressionUUID->"3265cddd-eeee-4f51-aba1-93c53f1454db",
 CellID->1362242420]
}, Open  ]],
Cell[CellGroupData[{
Cell[18713, 511, 1850, 45, 70, "NotesSection",ExpressionUUID->"c7042280-765d-49db-8cf3-b949f25840b6",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->780124530],
Cell[20566, 558, 1902, 59, 70, "Notes",ExpressionUUID->"b60c1ecc-4fd0-49c5-aef1-fbe8c29d40c9",
 CellID->885192273]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[22595, 623, 1441, 38, 70, "PrimaryExamplesSection",ExpressionUUID->"43ca2a0f-5415-43b5-b48f-12148b4d76e0",
 CellTags->"PrimaryExamplesSection",
 CellID->1165310775],
Cell[24039, 663, 202, 3, 70, "Input",ExpressionUUID->"6d19839f-1a60-4092-ae28-7c9b1aece6a5",
 CellID->246560494],
Cell[CellGroupData[{
Cell[24266, 670, 1331, 35, 70, "ExampleSection",ExpressionUUID->"3973f46c-5d31-4dc6-aa26-4da73e1cbbe8",
 CellID->327334785],
Cell[25600, 707, 301, 7, 70, "ExampleText",ExpressionUUID->"00f7a20f-0526-4742-9711-13bd79224276",
 CellID->899584544],
Cell[25904, 716, 318, 9, 70, "Input",ExpressionUUID->"2a6fe1a0-d5c9-49fb-af0c-82633fe41ef9",
 CellID->766874085],
Cell[26225, 727, 229, 5, 70, "Input",ExpressionUUID->"add819a0-a399-4e33-a153-29a61d861a55",
 CellID->652243378],
Cell[CellGroupData[{
Cell[26479, 736, 354, 9, 70, "Input",ExpressionUUID->"65896382-4839-4bfa-8909-f4837b8671d7",
 CellID->1535286693],
Cell[26836, 747, 577, 19, 70, "Output",ExpressionUUID->"7cf18461-c587-4179-9842-f34d4fbc0d4f",
 CellID->187383178],
Cell[27416, 768, 578, 19, 70, "Output",ExpressionUUID->"d4e6c333-72ad-465c-a173-c0cd5f8fe5ab",
 CellID->1138046144]
}, Open  ]],
Cell[28009, 790, 997, 30, 70, "ExampleText",ExpressionUUID->"c6d4bf7a-e7dc-4690-b8be-12d2817c99be",
 CellID->629436858],
Cell[29009, 822, 220, 5, 70, "Input",ExpressionUUID->"5d9488eb-dc97-496b-bc24-6c73eb49e508",
 CellID->1888739657],
Cell[CellGroupData[{
Cell[29254, 831, 313, 8, 70, "Input",ExpressionUUID->"182ed1e4-4fde-4790-b03e-8a0c21c8f5e9",
 CellID->11107004],
Cell[29570, 841, 1753, 41, 70, "Output",ExpressionUUID->"1f8bf585-5544-41c8-8ba5-45f666a326be",
 CellID->1652182026]
}, Open  ]],
Cell[31338, 885, 219, 6, 70, "ExampleText",ExpressionUUID->"605e971c-32dd-46f8-b21b-8097c90df123",
 CellID->538544441],
Cell[31560, 893, 204, 5, 70, "Input",ExpressionUUID->"fedbc508-191a-4af6-9d94-d0f127452dcc",
 CellID->554860242],
Cell[31767, 900, 181, 3, 70, "ExampleText",ExpressionUUID->"e21629b9-758a-4c8d-afdf-c1209fe91ccb",
 CellID->1920304077],
Cell[CellGroupData[{
Cell[31973, 907, 416, 11, 70, "Input",ExpressionUUID->"e9f1c35b-900a-4cc2-8678-20dabbdd6dae",
 CellID->1633870097],
Cell[32392, 920, 6122, 148, 70, "Output",ExpressionUUID->"da8069db-cba7-4a78-9126-e8e2a4efdec0",
 CellID->1259755272],
Cell[38517, 1070, 6121, 148, 70, "Output",ExpressionUUID->"20da70c4-8458-4841-8796-29675c9f3cf1",
 CellID->665580731]
}, Open  ]],
Cell[44653, 1221, 696, 23, 70, "ExampleText",ExpressionUUID->"b72f83b0-5524-45d5-a84d-a148fffa64b3",
 CellID->2129672373],
Cell[CellGroupData[{
Cell[45374, 1248, 368, 9, 70, "Input",ExpressionUUID->"d42ead66-1bda-428b-b2a4-a2df722c4e69",
 CellID->1631252586],
Cell[45745, 1259, 5308, 110, 70, "Output",ExpressionUUID->"c3f62fd8-da37-4607-8a98-0a9228183a05",
 CellID->173028694]
}, Open  ]],
Cell[CellGroupData[{
Cell[51090, 1374, 444, 13, 70, "Input",ExpressionUUID->"3f527af1-8a3d-43cd-9189-1b3278e870fe",
 CellID->1586342386],
Cell[51537, 1389, 856, 21, 70, "Output",ExpressionUUID->"1216c3fc-2dff-4543-8ecc-6a63198c820a",
 CellID->400402020],
Cell[52396, 1412, 889, 21, 70, "Output",ExpressionUUID->"fd98a4b2-a0f9-44e1-ada9-5a4f1460d15d",
 CellID->1490484089]
}, Open  ]],
Cell[53300, 1436, 207, 4, 70, "ExampleText",ExpressionUUID->"04c27e0b-6d16-48f6-a446-6b24d6e9a67d",
 CellID->1291576865],
Cell[CellGroupData[{
Cell[53532, 1444, 311, 8, 70, "Input",ExpressionUUID->"7b741f30-ee1e-4f66-bd53-106ef09b46c5",
 CellID->1666517005],
Cell[53846, 1454, 3765, 113, 70, "Output",ExpressionUUID->"df2fb9c1-197f-4a1c-ac54-5ac0ce77eb69",
 CellID->169341568]
}, Open  ]],
Cell[57626, 1570, 210, 6, 70, "ExampleText",ExpressionUUID->"3183fc6a-da87-45af-a07f-c33d5ebc811f",
 CellID->116787747],
Cell[CellGroupData[{
Cell[57861, 1580, 223, 5, 70, "Input",ExpressionUUID->"dd2b0f47-e8f2-47b0-9ad5-b52bac21eccd",
 CellID->614657339],
Cell[58087, 1587, 7048, 183, 70, "Output",ExpressionUUID->"1f0d85f5-abcf-4e23-aec9-8d2ea728e946",
 CellID->707901101]
}, Open  ]],
Cell[65150, 1773, 219, 6, 70, "ExampleText",ExpressionUUID->"095148d4-1127-4e0e-a97a-e439dd4a6352",
 CellID->1021926066],
Cell[CellGroupData[{
Cell[65394, 1783, 281, 7, 70, "Input",ExpressionUUID->"de418978-1f01-4799-af5f-3235adaa64e3",
 CellID->333871968],
Cell[65678, 1792, 44468, 1057, 70, "Output",ExpressionUUID->"c13afa77-56ad-40ac-8e12-7b3d740fad5e",
 CellID->634400127]
}, Open  ]],
Cell[110161, 2852, 247, 6, 70, "ExampleText",ExpressionUUID->"cbd0c66d-2b9a-4b58-9b2e-262e704c1b68",
 CellID->977125870],
Cell[CellGroupData[{
Cell[110433, 2862, 216, 5, 70, "Input",ExpressionUUID->"64c1da5c-bd89-4c08-9d9d-145c599c90ed",
 CellID->2127017166],
Cell[110652, 2869, 44481, 1058, 70, "Output",ExpressionUUID->"577d748b-c846-4ece-a75c-8bc81e8852ae",
 CellID->106627134]
}, Open  ]],
Cell[CellGroupData[{
Cell[155170, 3932, 219, 5, 70, "Input",ExpressionUUID->"53c69176-23ab-4ef7-bbb1-7fc3756a7e1a",
 CellID->1423053347],
Cell[155392, 3939, 216, 5, 70, "Output",ExpressionUUID->"0a3c868a-ebcf-4069-aaad-dd9afdfa1808",
 CellID->1080879540]
}, Open  ]],
Cell[CellGroupData[{
Cell[155645, 3949, 340, 8, 70, "Input",ExpressionUUID->"eaca9460-aca3-429d-abff-11f8a787b20c",
 CellID->332562170],
Cell[155988, 3959, 8006, 168, 70, "Output",ExpressionUUID->"4d97906f-b865-471b-82c2-b75a638d6844",
 CellID->778258807]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]],
Cell[CellGroupData[{
Cell[164143, 4135, 1323, 35, 70, "ExampleSection",ExpressionUUID->"1e6f4539-5a16-46f0-b271-5bf83ecb4e4c",
 CellID->1094006675],
Cell[165469, 4172, 323, 5, 70, "ExampleText",ExpressionUUID->"8a276b6b-8cc5-4a99-8355-3ec1ad5433cc",
 CellID->1293372040],
Cell[165795, 4179, 211, 4, 70, "ExampleText",ExpressionUUID->"46a766ef-61d4-4cbd-a8a4-ca0ea86453f8",
 CellID->998156305],
Cell[166009, 4185, 319, 9, 70, "Input",ExpressionUUID->"46b2309c-47e9-42b5-87a6-8f04e354c97e",
 CellID->1933974453],
Cell[166331, 4196, 230, 5, 70, "Input",ExpressionUUID->"a3d17d09-891e-4f2c-abe7-a772c383aa7c",
 CellID->2143634226],
Cell[CellGroupData[{
Cell[166586, 4205, 354, 9, 70, "Input",ExpressionUUID->"0e72666a-1e92-4317-9615-ba097cc7b7d9",
 CellID->1874774310],
Cell[166943, 4216, 578, 19, 70, "Output",ExpressionUUID->"71ed9fa6-5242-4b94-b59b-21ef18eda62a",
 CellID->1073844546],
Cell[167524, 4237, 577, 19, 70, "Output",ExpressionUUID->"3777cbbf-284e-49a9-a907-a6ab9ca3b71b",
 CellID->652715234]
}, Open  ]],
Cell[168116, 4259, 149, 1, 70, "ExampleText",ExpressionUUID->"f9715920-b0b6-4baa-b2e9-7491956ecb85",
 CellID->1182235068],
Cell[168268, 4262, 220, 5, 70, "Input",ExpressionUUID->"7ff1ceae-f353-4909-86e4-b64312b067d5",
 CellID->1306085832],
Cell[CellGroupData[{
Cell[168513, 4271, 315, 8, 70, "Input",ExpressionUUID->"d0ccf05c-4af2-4152-a5df-ab9567f4eaf0",
 CellID->1954222437],
Cell[168831, 4281, 1752, 41, 70, "Output",ExpressionUUID->"a89e7021-0363-4db0-82d2-a29f8fb07550",
 CellID->433240868]
}, Open  ]],
Cell[170598, 4325, 220, 6, 70, "ExampleText",ExpressionUUID->"75c6aac7-8d53-41ce-9460-cd3dabee00dc",
 CellID->1938593701],
Cell[170821, 4333, 204, 5, 70, "Input",ExpressionUUID->"129e8eb3-ee69-4561-8d65-1d4c04cf2757",
 CellID->322440423],
Cell[171028, 4340, 206, 4, 70, "ExampleText",ExpressionUUID->"0a790f38-8f2f-4d87-92f2-d1958f9087d7",
 CellID->1154947980],
Cell[CellGroupData[{
Cell[171259, 4348, 537, 15, 70, "Input",ExpressionUUID->"123c5889-3d99-4d1c-8c17-4dc8b07a86c3",
 CellID->106014627],
Cell[171799, 4365, 3136, 76, 70, "Output",ExpressionUUID->"eef0b6f9-4508-43a1-8b12-066d144b5e0e",
 CellID->605325118],
Cell[174938, 4443, 3137, 76, 70, "Output",ExpressionUUID->"22f0b1ed-29c2-4705-a922-d21affafe13b",
 CellID->1069222387]
}, Open  ]],
Cell[178090, 4522, 695, 23, 70, "ExampleText",ExpressionUUID->"5da6fdd6-be29-4169-b5ab-4275b341f39a",
 CellID->841215019],
Cell[CellGroupData[{
Cell[178810, 4549, 431, 11, 70, "Input",ExpressionUUID->"7aaae92b-06bb-42f0-b0c9-b62f11e7aebf",
 CellID->1415976132],
Cell[179244, 4562, 1760, 40, 70, "Output",ExpressionUUID->"1e2c60fd-2b64-4c5e-a101-d5fde05a7762",
 CellID->2067222266]
}, Open  ]],
Cell[181019, 4605, 539, 12, 70, "ExampleText",ExpressionUUID->"208824b0-391a-45a2-8e52-46a1b5661e06",
 CellID->799020092],
Cell[CellGroupData[{
Cell[181583, 4621, 679, 18, 70, "Input",ExpressionUUID->"5195fe46-4be2-478d-9246-22f862af99dd",
 CellID->174508983],
Cell[182265, 4641, 1759, 40, 70, "Output",ExpressionUUID->"712df29f-7882-44ce-9dda-629752570dcd",
 CellID->731880488]
}, Open  ]],
Cell[184039, 4684, 185, 4, 70, "ExampleText",ExpressionUUID->"e5ae67d5-d552-4865-92f8-c3673e7768d2",
 CellID->420673980],
Cell[CellGroupData[{
Cell[184249, 4692, 508, 13, 70, "Input",ExpressionUUID->"d50addcb-f0b9-46f8-96cc-40d7b8cc1c30",
 CellID->195611649],
Cell[184760, 4707, 360, 10, 70, "Output",ExpressionUUID->"82b6774c-01bc-45c3-a9ef-28b4e4102a78",
 CellID->1171806687],
Cell[185123, 4719, 360, 10, 70, "Output",ExpressionUUID->"815a1f58-8000-48da-81c6-46ac2dfe8c9f",
 CellID->2129945419]
}, Open  ]],
Cell[CellGroupData[{
Cell[185520, 4734, 692, 18, 70, "Input",ExpressionUUID->"7bb6b271-6dc3-4c8d-8a98-ffd808127294",
 CellID->858218400],
Cell[186215, 4754, 1761, 40, 70, "Output",ExpressionUUID->"1b5c6fa8-0dd6-41f7-8fc1-145dd32d106a",
 CellID->1544760678]
}, Open  ]],
Cell[187991, 4797, 271, 5, 70, "ExampleText",ExpressionUUID->"83562d99-9582-4cdb-8ecf-063c6ec79a8d",
 CellID->473559800],
Cell[CellGroupData[{
Cell[188287, 4806, 445, 13, 70, "Input",ExpressionUUID->"8b2d2aa3-55e7-4f44-827b-d101beff6473",
 CellID->1002436772],
Cell[188735, 4821, 1451, 34, 70, "Output",ExpressionUUID->"9133cbea-df6d-4b22-a0a5-b4a35f6ac39f",
 CellID->510336257],
Cell[190189, 4857, 1452, 36, 70, "Output",ExpressionUUID->"a1ef64e1-9707-4cb7-9803-9a71eb95b69e",
 CellID->171785281]
}, Open  ]],
Cell[191656, 4896, 236, 4, 70, "ExampleText",ExpressionUUID->"cdefad92-f7fd-4974-8758-e03d5370cc91",
 CellID->529714649]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, Closed]]]],
Cell[CellGroupData[{
Cell[192029, 4907, 1332, 35, 70, "ExampleSection",ExpressionUUID->"77c8481a-8cec-428e-810c-9ba396ad72db",
 CellID->346734972],
Cell[193364, 4944, 336, 7, 70, "ExampleText",ExpressionUUID->"8870fa70-6f06-4828-a52e-5834d36fcf71",
 CellID->1230739208],
Cell[193703, 4953, 541, 15, 70, "Input",ExpressionUUID->"195c2a88-8800-47cb-bcfc-72651ce1c32b",
 CellID->2023284607],
Cell[CellGroupData[{
Cell[194269, 4972, 945, 26, 70, "Input",ExpressionUUID->"b11b71c0-cc87-43c3-aa19-b0e0cfeef2e0",
 CellID->2088323251],
Cell[195217, 5000, 176, 4, 70, "Output",ExpressionUUID->"a99cb262-af7f-40a2-b2cd-414007806900",
 CellID->1587961278]
}, Open  ]],
Cell[195408, 5007, 219, 5, 70, "Input",ExpressionUUID->"6770914c-285f-48fc-a16e-d503b68929d0",
 CellID->782728112],
Cell[195630, 5014, 248, 6, 70, "Input",ExpressionUUID->"7fbc193c-5811-492a-a60a-4a5fea7251ce",
 CellID->1974040509],
Cell[CellGroupData[{
Cell[195903, 5024, 374, 10, 70, "Input",ExpressionUUID->"2252ebda-c3e2-40e2-b60c-b6dfbe71d4fc",
 CellID->1223972260],
Cell[196280, 5036, 116, 1, 70, "EchoTiming",ExpressionUUID->"c50c0d33-5c4b-4e9b-9121-5ed41f1337f3",
 CellID->1670623238]
}, Open  ]],
Cell[196411, 5040, 120, 1, 70, "ExampleText",ExpressionUUID->"4f334afd-779e-478c-9a0e-bfe5dc1e7323",
 CellID->1780247599],
Cell[CellGroupData[{
Cell[196556, 5045, 520, 14, 70, "Input",ExpressionUUID->"b0ae9433-a145-471e-bf91-843e523049f4",
 CellID->1879226389],
Cell[197079, 5061, 174, 4, 70, "Output",ExpressionUUID->"7a7f5716-de3c-4aef-b15c-657ac4f1bf16",
 CellID->33285304],
Cell[197256, 5067, 144, 3, 70, "Output",ExpressionUUID->"65396a18-b304-40b9-85b6-9afc95546531",
 CellID->1080356108]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "3"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[197642, 5079, 1385, 36, 70, "SeeAlsoSection",ExpressionUUID->"c8130505-82d4-453f-a176-8fc12bad181d"],
Cell[199030, 5117, 1134, 29, 70, "TechNotesSection",ExpressionUUID->"6f7b8d3c-216b-4b47-92e5-eda8f3a34aa5"],
Cell[200167, 5148, 1119, 28, 70, "MoreAboutSection",ExpressionUUID->"3b08753e-24c1-465a-bee9-c339d2333e57"],
Cell[201289, 5178, 1166, 34, 70, "RelatedLinksSection",ExpressionUUID->"67c11c25-5d81-4443-8d1f-bc96e8efc87e"],
Cell[202458, 5214, 78, 0, 70, "FooterCell",ExpressionUUID->"06f6d934-df56-41df-ba3f-eb47875e2fb7"]
}
]
*)

(* End of internal cache information *)
