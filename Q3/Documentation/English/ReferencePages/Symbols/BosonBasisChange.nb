(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[    218909,       5532]
NotebookOptionsPosition[    202801,       5223]
NotebookOutlinePosition[    205749,       5284]
CellTagsIndexPosition[    205662,       5279]
WindowTitle->BosonBasisChange
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["QUANTUM MOB/ Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "9750a81d-0c54-45c4-a779-9b55d26f7e0e"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "f1aac14b-bffa-4156-afe4-48cb13a938fb"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "f6d7ffe8-8127-4fc8-bba3-53614d747ac6"]
         }],ExpressionUUID->"ac923a5d-4259-464a-afaf-4a4b1898e231"],
         StripOnInput->False],{
        StyleBox["\"BosonBasis\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/BosonBasis"], 
         StyleBox["\"MatrixIn\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/MatrixIn"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "de9765f1-0ce9-4145-aff1-337805c6f9ed"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "d9361783-10cb-48db-8643-5e2ab1a22f1b"]
         }],ExpressionUUID->"378fb9ce-e956-46d5-9460-51aa0eaa58fd"],
         StripOnInput->False],{
        "\"Quantum Many-Body Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/guide/QuantumManyBodySystems"], 
         "\"Q3: Symbolic Quantum Simulation\"" :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/guide/Q3"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "1fb0fd4a-e38b-4b0b-85ee-094567af883e"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "282d200b-ddeb-4e9f-bd97-5c1f2b13b17c"]
         }],ExpressionUUID->"449c3119-e8f7-4ba8-9bb2-713fae0f50c6"],
         StripOnInput->False],{
        "\"Quantum Many-Body Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuantumManyBodySystems"], 
         "\"Q3: Quick Start\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/Q3QuickStart"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "0652be2e-7c99-4ed0-bbc4-0e4a3184b236"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "35188346-2eef-4fe3-90cf-611f8d21bbd5"]
         }],ExpressionUUID->"6fe810bc-68a0-4aac-828d-a942744faaaf"],
         StripOnInput->False],{
        "\"QuantumMob/Q3/ref/BosonBasisChange\"" :> None, 
         "\"Copy Wolfram Documentation Center URL\"" :> 
         CopyToClipboard["QuantumMob/Q3/ref/BosonBasisChange"], Delimiter, 
         "\"Copy web URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{
               Cell[BoxData[
                 MakeBoxes[
                  Hyperlink[
                   "http://reference.wolfram.com/language/QuantumMob/Q3/ref/\
BosonBasisChange.html"], StandardForm]], "Input", TextClipboardType -> 
                 "PlainText"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], 
         "\"Go to web URL\"" :> 
         FrontEndExecute[{
           NotebookLocate[{
             URL[If[TrueQ[False], 
                 "http://reference.wolfram.com/system-modeler/", 
                 "http://reference.wolfram.com/language/"] <> 
               "QuantumMob/Q3/ref/BosonBasisChange" <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "2ec4fdda-c60c-4653-822e-13d773d308bb"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "dfbee6b9-c0bd-47d6-87a7-6fddb0091dd5"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"1c240bc6-c30e-4a65-9c7c-48a1556280f4"],

Cell["QuantumMob`Q3`", "ContextNameCell",ExpressionUUID->"218b464d-e381-4255-a74e-84bc4092e7b3"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "BosonBasisChange", "ObjectName",ExpressionUUID->
      "bc1a3694-febf-429a-ab62-6dc1f8c3b785"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"4f37920d-3d3d-43fe-b154-b59d85877553"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "a13ee1b5-07b3-4fb9-9b13-b716b654c0e9"]
    }],ExpressionUUID->"b9f4e6e6-f28e-4866-81f0-29b88eebe2cb"], Cell[BoxData[
     TooltipBox[
      StyleBox[
       TagBox[
        StyleBox[
         GraphicsBox[InsetBox[
           StyleBox["\<\"NEW IN 14.0\"\>",
            StripOnInput->False,
            FontFamily->"Source Sans Pro",
            FontSize->18,
            FontWeight->"Bold",
            FontSlant->"Italic",
            FontColor->RGBColor[0.968627, 0.466667, 0]], {Right, Center}, {
           Right, Center}],
          ImageSize->{125, 24},
          PlotRangePadding->Scaled[0.025]], "NewInGraphic",
         StripOnInput->False],
        Deploy,
        DefaultBaseStyle->"Deploy"], "NewInGraphic",
       StripOnInput->False],
      "New in 14",
      TooltipDelay->0.3]],
     Magnification->1,ExpressionUUID->
     "ae25558f-7320-465f-9c46-edb7a8c73fa7"]}
  }]], "ObjectNameGrid",
 CacheGraphics->False,ExpressionUUID->"5e55021d-4d8e-43c5-bddb-e8ba1589245b"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         StyleBox["n", "TI"], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "306e3b5d-f62b-4fa6-91b5-9691912709a9"],
     " \[LineSeparator]returns the unitary matrix describing the change of ",
     Cell[BoxData[
      StyleBox["n", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "8baf11bb-36c6-448e-9e88-da3a2df7a3d3"],
     "-particle basis between two sets of modes related by the canonical \
transformation matrix ",
     Cell[BoxData[
      StyleBox["mat", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "bb592f8b-9777-473c-93d8-656e70763310"],
     "."
    }],ExpressionUUID->"f65c0d87-d9a1-4ab9-a6b0-df6b9243e5e9"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          StyleBox["m", "TI"], ",", 
          StyleBox["n", "TI"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "8978f58c-36be-4e93-9f00-62302b95f8d3"],
     "\[LineSeparator]returns an association whose keys are the numbers from ",
     Cell[BoxData[
      StyleBox["m", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "c865579c-2dfd-4db5-9647-89c33843c4e6"],
     " to ",
     Cell[BoxData[
      StyleBox["n", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "f5eadd1e-8855-43df-a41e-a1a6a359733d"],
     " and the values are the unitary matrices corresponding to the numbers \
of particles."
    }],ExpressionUUID->"5a37f5df-dd34-4d96-8697-4ea585fd9aa9"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        StyleBox["n", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "77dae9d1-abaa-4682-bc8a-0ed55eeeb6f0"],
     "\[LineSeparator]is equivalent to ",
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          StyleBox["n", "TI"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "bd19173e-3364-4dd6-8550-85e4f608eb85"],
     "."
    }],ExpressionUUID->"1a0ad86c-26c9-41f8-b02c-2a74a6654898"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        StyleBox["nspec", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["k", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["k", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "1320b388-bf7c-4be6-9a5d-1d293ad5c416"],
     "\[LineSeparator]assumes that the basis states only have occupation \
numbers in ",
     Cell[BoxData[
      RowBox[{"{", 
       RowBox[{
        SubscriptBox[
         StyleBox["k", "TI"], 
         StyleBox["1", "TR"]], ",", 
        SubscriptBox[
         StyleBox["k", "TI"], 
         StyleBox["2", "TR"]], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "}"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "9bc00143-53c7-40f1-9b48-f84510d82e95"],
     "."
    }],ExpressionUUID->"e1c7e86c-be03-423a-b75b-a3b555f2b46f"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            SubscriptBox[
             StyleBox["p", "TI"], 
             StyleBox["11", "TR"]], ",", 
            SubscriptBox[
             StyleBox["p", "TI"], 
             StyleBox["12", "TR"]], ",", 
            StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            SubscriptBox[
             StyleBox["p", "TI"], 
             StyleBox["21", "TR"]], ",", 
            SubscriptBox[
             StyleBox["p", "TI"], 
             StyleBox["22", "TR"]], ",", 
            StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "22ac6d49-a89d-49ed-a901-61e8d7b1b08d"],
     "\[LineSeparator]refers to ",
     Cell[BoxData[
      SubscriptBox[
       StyleBox["p", "TI"], 
       StyleBox["ij", "TI"]]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "f007feda-967a-4df2-a933-4832c1e95bcf"],
     " for the occupation number of ",
     Cell[BoxData[
      StyleBox["j", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "968d7195-ab02-4048-a87c-4cea6bc324d0"],
     "-th mode in the ",
     Cell[BoxData[
      StyleBox["i", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "f438198e-450f-4b54-ad07-7b63dc1572df"],
     "-th many-body basis state for the both sets of boson modes."
    }],ExpressionUUID->"ff0bd7ef-4afa-4aaa-9508-c9390d5719ec"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          StyleBox["pmat", "TI"], ",", 
          StyleBox["qmat", "TI"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "81755ecf-459f-4d58-ab00-42d969a1905f"],
     "\[LineSeparator]refers to ",
     Cell[BoxData[
      StyleBox["pmat", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "c8aac386-2b8f-428a-af70-1b13a85e978c"],
     " and ",
     Cell[BoxData[
      StyleBox["qmat", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "be49dbd1-0c8c-4fe6-8490-816079d77624"],
     " for the occupation numbers of the first and second set of boson modes, \
respectively."
    }],ExpressionUUID->"d11c5a19-5447-40bd-bcc5-6231f7be645a"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        StyleBox["bs", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "e286ae1c-11e2-4806-9d45-7262d5291db5"],
     " or ",
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["bs", "TI"], 
           StyleBox["a", "TI"]], ",", 
          SubscriptBox[
           StyleBox["bs", "TI"], 
           StyleBox["b", "TI"]]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "ece2b1c0-b86b-46b6-b81a-26f8e7ef3565"],
     "\[LineSeparator]refers to the same basis ",
     Cell[BoxData[
      StyleBox["bs", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "e2b97132-f3e5-4eda-8412-bc27f9271420"],
     " or respective bases ",
     Cell[BoxData[
      SubscriptBox[
       StyleBox["bs", "TI"], 
       StyleBox["a", "TI"]]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "831eea62-eb1f-4251-8e3d-23b53eb76cd1"],
     " and ",
     Cell[BoxData[
      SubscriptBox[
       StyleBox["bs", "TI"], 
       StyleBox["b", "TI"]]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "a4fc5e3b-9cef-494b-afcd-3414a1df6357"],
     " for the occupation numbers of the two sets of boson modes."
    }],ExpressionUUID->"01089379-aee5-48f5-8875-a76038be5a5a"]}
  }]], "Usage",
 CellID->1362242420,ExpressionUUID->"c48acd75-44e1-469a-8f3d-edf6c1939750"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{
      13.600000000000003`, {-0.1685058593749993, 13.768505859375}}]],
    ExpressionUUID->"9d2000e5-9f18-45af-a98e-cd31eb56cad0"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"644b69b0-286a-496c-b3a3-53539f21657c"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"8e6f0f23-3c09-4848-9fb0-635456f7e7dd"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"4770b45e-1ac4-4cc2-b7a7-25e25a46c9ec"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->1055858801,ExpressionUUID->"050972e2-43af-40d1-a848-428fd186ae61"],

Cell[TextData[{
 "The unitary matrix ",
 Cell[BoxData[
  StyleBox["mat", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "6c1e84bf-a520-4bb1-9949-6f8c377c667a"],
 ", denoted by ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["U", 
    RowBox[{"m", "\[Times]", "m"}]], TraditionalForm]],ExpressionUUID->
  "5d6af768-2917-426e-8cdd-d28d43454dcd"],
 ", describes a canonical transformation from one set of ",
 Cell[BoxData[
  StyleBox["m", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "3ea8a6a0-ed68-4aa3-85a5-f6b74630925e"],
 " bosonic modes ",
 Cell[BoxData[
  SubscriptBox[
   StyleBox["a", "TI"], 
   StyleBox["i", "TI"]]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "3cd8d248-a3a7-461e-8ff0-b6fac50bd922"],
 " to another of ",
 Cell[BoxData[
  SubscriptBox[
   StyleBox["b", "TI"], 
   StyleBox["j", "TI"]]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "3607cc8a-7a6b-45cf-85ad-881ae23bb59a"],
 " by ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubsuperscriptBox["b", "j", "\[Dagger]"], "=", 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"i", "=", "1"}], "m"], 
     RowBox[{
      SubsuperscriptBox["a", "i", "\[Dagger]"], 
      SubscriptBox["U", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}]]}]}]}], TraditionalForm]],
  ExpressionUUID->"599b6e1c-6e34-4645-b424-91d961bd8734"],
 ",  or equivalently,  ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["b", "i"], "=", 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"j", "=", "1"}], "m"], 
     RowBox[{
      SubsuperscriptBox["U", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}], "\[Dagger]"], 
      SubscriptBox["a", "j"]}]}]}], TraditionalForm]],ExpressionUUID->
  "f462f7c5-7914-481a-9411-b0174d444324"],
 "."
}], "Notes",
 CellID->885192273,ExpressionUUID->"ef331946-a381-4388-aada-56c82d96a858"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.251494140625001, 9.348505859375003}}]],
  ExpressionUUID->"d47b93e5-f958-4c95-aa0a-7e077e815756"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"c09c0e38-f1b6-4f52-8a94-f3674a45c0ca"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(3)", "ExampleCount",ExpressionUUID->
  "52befacd-07fc-4ff3-a1d1-1bc9e9718d10"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->1161493246,ExpressionUUID->"5b8cc8ca-3e76-4512-a1bc-cfbea2e9cee2"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<QuantumMob`Q3`\>\"", "]"}]], "Input", "ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->246560494,ExpressionUUID->"00427fec-d980-430f-ad78-6086f51e28f7"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.551318359375001, 9.048681640625002}}]],
  ExpressionUUID->"6502baec-6000-45d5-a2ef-cb20018b61d6"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"adde9239-217b-44ba-87fa-eb50d470867d"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "e5e85321-93d6-41ca-b426-33a9c2e5636b"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->590634292,ExpressionUUID->"af3abd2d-2866-42dc-802a-5505b66b6c71"],

Cell[TextData[{
 "Consider two sets of ",
 StyleBox["m",
  FontSlant->"Italic"],
 " bosonic modes describing the same system. Typically, one set consists of \
the bare mores and the other, the normal modes."
}], "ExampleText",
 CellID->899584544,ExpressionUUID->"3dec2cbe-9e06-4520-bcce-d966a334f4b9"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"$m", "=", "3"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "number", " ", "of", " ", "modes"}], " ", 
   "*)"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->766874085,ExpressionUUID->"1041fbe5-32b0-4a74-b159-54d85765ce2d"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a", ",", "b"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->652243378,ExpressionUUID->"70ecfc12-2a1b-43c9-9628-1471db51765f"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aa", "=", 
  RowBox[{"a", "[", 
   RowBox[{"Range", "@", "$m"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"bb", "=", 
  RowBox[{"b", "[", 
   RowBox[{"Range", "@", "$m"}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1535286693,ExpressionUUID->"2d8e2ff2-2657-4e3a-8428-2a3e82a97dde"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`a[3]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->187383178,ExpressionUUID->"6099c13b-97e1-481b-b60b-2205caa2bfc8"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`b[1]], ",", 
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`b[2]], ",", 
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`b[3]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1138046144,ExpressionUUID->"e68bb274-c33e-4859-a267-f808fd71dc2f"]
}, Open  ]],

Cell[TextData[{
 "Consider a canonical transformation from one set of bosonic modes to \
another, ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubsuperscriptBox["b", "j", "\[Dagger]"], "=", 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"i", "=", "1"}], "m"], 
     RowBox[{
      SubsuperscriptBox["a", "i", "\[Dagger]"], 
      SubscriptBox["U", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}]]}]}]}], TraditionalForm]],
  ExpressionUUID->"f4029135-8855-4880-b14b-a4f09a410f17"],
 ", or equivalently, ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["b", "i"], "=", 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"j", "=", "1"}], "m"], 
     RowBox[{
      SubsuperscriptBox["U", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}], "\[Dagger]"], 
      SubscriptBox["a", "j"]}]}]}], TraditionalForm]],ExpressionUUID->
  "dd199f7a-802f-4b25-bcc8-09630c142e68"],
 "."
}], "ExampleText",
 CellID->629436858,ExpressionUUID->"4e9d5460-1245-49be-bc67-301b8e400446"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SeedRandom", "[", "351", "]"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1888739657,ExpressionUUID->"392661d2-0bd6-42b7-9d57-1338cdf3a60a"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"RandomUnitary", "[", "$m", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->11107004,ExpressionUUID->"11dddbc4-a412-4853-81e5-b8cff81ba8d4"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"0.43566146932287153`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22877848559753047`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.7179541346578111`"}], "+", 
       RowBox[{"0.22308008202214685`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.3030288395071328`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3175061395230706`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.4706086526272208`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22153845685052936`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.255116606244794`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4897889765748679`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.4096540614047796`"}], "-", 
       RowBox[{"0.5066103372683282`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.609283418185487`"}], "+", 
       RowBox[{"0.34070722505990997`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.33070407456836753`"}], "+", 
       RowBox[{"0.14294834116039218`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.5555475779196207`"}], "-", 
       RowBox[{"0.27250647443170856`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[5]//MatrixForm=",
 CellID->1652182026,ExpressionUUID->"f836fd59-301d-4817-9ed0-cade29c3a632"]
}, Open  ]],

Cell[TextData[{
 "Suppose that you are interested in the subspace of ",
 StyleBox["n",
  FontSlant->"Italic"],
 " particles:"
}], "ExampleText",
 CellID->538544441,ExpressionUUID->"3e1113ef-c80f-4497-a811-9340791c93dd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$n", "=", "2"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->554860242,ExpressionUUID->"f1834c2c-8194-41c5-af96-fc5812948147"],

Cell["\<\
The relevant bases in terms of two different sets of modes are as follows:\
\>", "ExampleText",
 CellID->1920304077,ExpressionUUID->"1c48075f-5edf-481d-be46-519cb52c000e"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"as", "=", 
  RowBox[{"BosonBasis", "[", 
   RowBox[{"aa", ",", 
    RowBox[{"{", "$n", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"bs", "=", 
  RowBox[{"BosonBasis", "[", 
   RowBox[{"bb", ",", 
    RowBox[{"{", "$n", "}"}]}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[7]:=",
 CellID->1633870097,ExpressionUUID->"e3a17528-bb2d-4c43-a524-3bf2c3b4be7d"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
      2|>]]}], "}"}]], "Output",
 CellLabel->"Out[7]=",
 CellID->1259755272,ExpressionUUID->"82a278c7-8a79-4aa1-bb9c-055908ac65bb"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 2, $CellContext`b[2] -> 0, $CellContext`b[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 1, $CellContext`b[2] -> 1, $CellContext`b[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 1, $CellContext`b[2] -> 0, $CellContext`b[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 0, $CellContext`b[2] -> 2, $CellContext`b[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 0, $CellContext`b[2] -> 1, $CellContext`b[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 0, $CellContext`b[2] -> 0, $CellContext`b[3] -> 
      2|>]]}], "}"}]], "Output",
 CellLabel->"Out[7]=",
 CellID->665580731,ExpressionUUID->"cd08f8bc-f74e-4204-a309-194ca1c75696"]
}, Open  ]],

Cell[TextData[{
 "Calculate the unitary transformation matrix ",
 Cell[BoxData[
  FormBox["T", TraditionalForm]],ExpressionUUID->
  "04726ec5-d43e-425e-885f-49203ca40e06"],
 " between these bases: ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox[
     TemplateBox[{"j"},
      "Ket"], "b"], ":=", 
    RowBox[{
     UnderscriptBox["\[Sum]", "i"], 
     RowBox[{
      SubscriptBox[
       TemplateBox[{"i"},
        "Ket"], "a"], 
      SubscriptBox["T", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}]]}]}]}], TraditionalForm]],
  ExpressionUUID->"0513e33e-855d-4a70-b793-22b1b1455614"],
 ":"
}], "ExampleText",
 CellID->2129672373,ExpressionUUID->"8a51be32-5070-49a2-8e9c-6ec1fb0caa77"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", 
     RowBox[{"{", "$n", "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"trs", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[8]:=",
 CellID->1631252586,ExpressionUUID->"b363ed2d-e700-47f3-8994-746a191a4a51"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"0.13746132038026385`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.199339942369763`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.5145204178822178`"}], "-", 
       RowBox[{"0.09484432214400065`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.2894280873554461`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.09757891467686483`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.46569341647723855`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.32032253449520787`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.2075096951427086`"}], "+", 
       RowBox[{"0.41797724457712826`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.008983671061803948`"}], "-", 
       RowBox[{"0.1924270339921317`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.2182737155493853`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2887554042934662`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.16409858923629664`"}], "-", 
       RowBox[{"0.20908802861842324`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.15037886950076615`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.10451018031738774`"}], "+", 
       RowBox[{"0.5777874928627784`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.32892418475212865`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.40303514948223434`"}], "-", 
       RowBox[{"0.033163114301931196`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.4856236728572712`"}], "+", 
       RowBox[{"0.012787421655302443`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.18465402550594268`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3939120488565846`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.25614086694651317`"}], "+", 
       RowBox[{"0.050877436400354095`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.29067947795472904`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.24947270957059314`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.40482255125064603`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22003359476180967`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.3604397854764683`"}], "+", 
       RowBox[{"0.1326708335677534`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.17239321606389427`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.20851582936708257`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.3232428007506095`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.24604599432804608`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.11391924908830581`"}], "-", 
       RowBox[{"0.4655157404694664`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.1748087587923952`"}], "-", 
       RowBox[{"0.24990660295978234`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.4987106924659144`"}], "+", 
       RowBox[{"0.10097390585471179`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.08883758380169825`"}], "+", 
       RowBox[{"0.4150699644232315`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.5122476703874509`"}], "+", 
       RowBox[{"0.0358645406197632`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.17586442867592023`"}], "+", 
       RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.22112639571593898`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08222187840065756`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.020299026734120554`"}], "+", 
       RowBox[{"0.2806417802473157`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.06730670531104566`"}], "+", 
       RowBox[{"0.3115588869168069`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.12661132244903608`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.5558984021747169`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.25514487046776685`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4151745253699879`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.21607624248889806`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.28251648379488553`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.6099939407033187`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.032873956325682754`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.0889309566956125`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.09454719774906153`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.31491169655653434`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.01513830304891273`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.2343733327251576`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3027806236759014`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[8]//MatrixForm=",
 CellID->173028694,ExpressionUUID->"27c8639c-cbb4-49b9-b2c5-ee31cc1eb736"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"trs", ".", 
    RowBox[{"Topple", "[", "trs", "]"}]}], "//", "Chop"}], "//", 
  "MatrixForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Topple", "[", "trs", "]"}], ".", "trs"}], "//", "Chop"}], "//", 
  "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[9]:=",
 CellID->1586342386,ExpressionUUID->"961c4214-2e84-4dff-867d-791aaf17de9f"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1.`", "0", "0", "0", "0", "0"},
     {"0", "1.0000000000000002`", "0", "0", "0", "0"},
     {"0", "0", "1.`", "0", "0", "0"},
     {"0", "0", "0", "0.9999999999999996`", "0", "0"},
     {"0", "0", "0", "0", "0.9999999999999997`", "0"},
     {"0", "0", "0", "0", "0", "0.9999999999999997`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[9]//MatrixForm=",
 CellID->400402020,ExpressionUUID->"94f1eaa1-d613-47ce-be1e-09104157cef7"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0.9999999999999998`", "0", "0", "0", "0", "0"},
     {"0", "1.0000000000000002`", "0", "0", "0", "0"},
     {"0", "0", "0.9999999999999999`", "0", "0", "0"},
     {"0", "0", "0", "0.9999999999999999`", "0", "0"},
     {"0", "0", "0", "0", "0.9999999999999998`", "0"},
     {"0", "0", "0", "0", "0", "0.9999999999999996`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[9]//MatrixForm=",
 CellID->1490484089,ExpressionUUID->"610eaf1f-5a7d-4e35-90f7-aa5614d0db79"]
}, Open  ]],

Cell["\<\
Now, let us verify the above unitary matrix by manually constructing the \
canonical transformation.\
\>", "ExampleText",
 CellID->1291576865,ExpressionUUID->"5d3caf54-fc90-40b5-a799-c87929e2e3de"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"rls", "=", 
  RowBox[{"TransformBy", "[", 
   RowBox[{
    RowBox[{"bb", "->", "aa"}], ",", 
    RowBox[{"Topple", "@", "mat"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[10]:=",
 CellID->1666517005,ExpressionUUID->"7a077f70-1a50-4b3c-bb35-aa8e7f5d2a06"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    InterpretationBox[
     SubscriptBox["b", 
      TemplateBox[{",", "\",\"", "1"},
       "RowWithSeparators"]],
     $CellContext`b[1]], "\[Rule]", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.43566146932287153`", "\[VeryThinSpace]", "-", 
        RowBox[{"0.22877848559753047`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`a[1]]}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.4706086526272208`", "\[VeryThinSpace]", "-", 
        RowBox[{"0.22153845685052936`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`a[2]]}], "-", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.609283418185487`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.34070722505990997`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "3"},
         "RowWithSeparators"]],
       $CellContext`a[3]]}]}]}], ",", 
   RowBox[{
    InterpretationBox[
     SubscriptBox["b", 
      TemplateBox[{",", "\",\"", "2"},
       "RowWithSeparators"]],
     $CellContext`b[2]], "\[Rule]", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", "0.7179541346578111`"}], "-", 
        RowBox[{"0.22308008202214685`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`a[1]]}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.255116606244794`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.4897889765748679`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`a[2]]}], "-", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.33070407456836753`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.14294834116039218`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "3"},
         "RowWithSeparators"]],
       $CellContext`a[3]]}]}]}], ",", 
   RowBox[{
    InterpretationBox[
     SubscriptBox["b", 
      TemplateBox[{",", "\",\"", "3"},
       "RowWithSeparators"]],
     $CellContext`b[3]], "\[Rule]", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.3030288395071328`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.3175061395230706`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`a[1]]}], "-", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.4096540614047796`", "\[VeryThinSpace]", "-", 
        RowBox[{"0.5066103372683282`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`a[2]]}], "-", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.5555475779196207`", "\[VeryThinSpace]", "-", 
        RowBox[{"0.27250647443170856`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "3"},
         "RowWithSeparators"]],
       $CellContext`a[3]]}]}]}]}], "}"}]], "Output",
 CellLabel->"Out[10]=",
 CellID->169341568,ExpressionUUID->"bdba493a-6a0e-4596-abba-1bfe2117be08"]
}, Open  ]],

Cell[TextData[{
 "The basis for the ",
 StyleBox["b",
  FontSlant->"Italic"],
 "-modes can be rewritten as follows."
}], "ExampleText",
 CellID->116787747,ExpressionUUID->"5e95d3b6-cb9b-43c0-abe4-97f7aef5ece6"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"bs2", "=", 
  RowBox[{"FockCat", "[", "bs", "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[11]:=",
 CellID->614657339,ExpressionUUID->"5d05ae56-cab3-41eb-9c0f-c4d8e2be21d0"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   FractionBox[
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          QuantumMob`Q3`Dagger[
           $CellContext`b[1]]], 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          QuantumMob`Q3`Dagger[
           $CellContext`b[1]]], 
         InterpretationBox[
          TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
          Ket[QuantumMob`Q3`Vacuum]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      QuantumMob`Q3`Dagger[
       $CellContext`b[1]], 
      QuantumMob`Q3`Dagger[
       $CellContext`b[1]], 
      Ket[QuantumMob`Q3`Vacuum]]], 
    SqrtBox["2"]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         QuantumMob`Q3`Dagger[
          $CellContext`b[1]]], 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         QuantumMob`Q3`Dagger[
          $CellContext`b[2]]], 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
         Ket[QuantumMob`Q3`Vacuum]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     QuantumMob`Q3`Dagger[
      $CellContext`b[1]], 
     QuantumMob`Q3`Dagger[
      $CellContext`b[2]], 
     Ket[QuantumMob`Q3`Vacuum]]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         QuantumMob`Q3`Dagger[
          $CellContext`b[1]]], 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         QuantumMob`Q3`Dagger[
          $CellContext`b[3]]], 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
         Ket[QuantumMob`Q3`Vacuum]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     QuantumMob`Q3`Dagger[
      $CellContext`b[1]], 
     QuantumMob`Q3`Dagger[
      $CellContext`b[3]], 
     Ket[QuantumMob`Q3`Vacuum]]], ",", 
   FractionBox[
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          QuantumMob`Q3`Dagger[
           $CellContext`b[2]]], 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          QuantumMob`Q3`Dagger[
           $CellContext`b[2]]], 
         InterpretationBox[
          TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
          Ket[QuantumMob`Q3`Vacuum]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      QuantumMob`Q3`Dagger[
       $CellContext`b[2]], 
      QuantumMob`Q3`Dagger[
       $CellContext`b[2]], 
      Ket[QuantumMob`Q3`Vacuum]]], 
    SqrtBox["2"]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         QuantumMob`Q3`Dagger[
          $CellContext`b[2]]], 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         QuantumMob`Q3`Dagger[
          $CellContext`b[3]]], 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
         Ket[QuantumMob`Q3`Vacuum]]}, "RowWithSeparators"]},
     "RowDefault"],
    QuantumMob`Q3`Multiply[
     QuantumMob`Q3`Dagger[
      $CellContext`b[2]], 
     QuantumMob`Q3`Dagger[
      $CellContext`b[3]], 
     Ket[QuantumMob`Q3`Vacuum]]], ",", 
   FractionBox[
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          QuantumMob`Q3`Dagger[
           $CellContext`b[3]]], 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          QuantumMob`Q3`Dagger[
           $CellContext`b[3]]], 
         InterpretationBox[
          TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
          Ket[QuantumMob`Q3`Vacuum]]}, "RowWithSeparators"]},
      "RowDefault"],
     QuantumMob`Q3`Multiply[
      QuantumMob`Q3`Dagger[
       $CellContext`b[3]], 
      QuantumMob`Q3`Dagger[
       $CellContext`b[3]], 
      Ket[QuantumMob`Q3`Vacuum]]], 
    SqrtBox["2"]]}], "}"}]], "Output",
 CellLabel->"Out[11]=",
 CellID->707901101,ExpressionUUID->"bbab1b76-6996-425b-96b4-be109737d876"]
}, Open  ]],

Cell[TextData[{
 "Rewrite the above basis in terms of the basis for the ",
 StyleBox["a",
  FontSlant->"Italic"],
 "-modes:"
}], "ExampleText",
 CellID->1021926066,ExpressionUUID->"d4353539-2d3a-4805-8dff-56d4a10cec0e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"alt", "=", 
  RowBox[{"Garner", "@", 
   RowBox[{"FockKet", "[", 
    RowBox[{"bs2", "/.", "rls"}], "]"}]}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[12]:=",
 CellID->333871968,ExpressionUUID->"cdf650c7-ce45-4ef8-807e-a894832324fb"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2551448704677669`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4151745253699879`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.512247670387451`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.035864540619763186`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.1723932160638943`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.20851582936708263`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4856236728572712`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.012787421655302472`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2182737155493853`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.28875540429346613`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.13746132038026387`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.19933994236976305`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2160762424888981`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.2825164837948856`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.17586442867592025`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3232428007506095`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.2460459943280461`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.18465402550594273`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.39391204885658454`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.16409858923629667`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.20908802861842318`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.5145204178822179`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.09484432214400068`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.6099939407033188`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.03287395632568277`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.221126395715939`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08222187840065753`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.11391924908830582`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.46551574046946653`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.25614086694651317`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.05087743640035408`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.15037886950076618`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2894280873554461`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.09757891467686482`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.08893095669561252`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.09454719774906155`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.02029902673412055`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.2806417802473156`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.17480875879239527`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.24990660295978237`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.290679477954729`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.24947270957059312`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.1045101803173877`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.5777874928627785`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4656934164772386`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3203225344952079`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3149116965565344`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.01513830304891273`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.06730670531104563`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.31155888691680683`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4987106924659144`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.10097390585471183`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4048225512506461`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22003359476180961`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3289241847521286`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.20750969514270864`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.41797724457712837`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2343733327251576`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3027806236759015`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.12661132244903608`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.555898402174717`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.08883758380169826`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.41506996442323163`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3604397854764683`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.13267083356775333`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.40303514948223423`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.033163114301931196`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.00898367106180395`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.19242703399213174`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}]}], "}"}]], "Output",
 CellLabel->"Out[12]=",
 CellID->634400127,ExpressionUUID->"b37e6289-931d-4e61-9f86-43dad37feee2"]
}, Open  ]],

Cell[TextData[{
 "Compare the above expressions with the ones obtained by using the unitary \
matrix from ",
 StyleBox["BosonBasisChange", "Input"],
 ":"
}], "ExampleText",
 CellID->977125870,ExpressionUUID->"117b5044-7011-4f88-aa10-cc80c6d73e34"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mint", "=", 
  RowBox[{"as", ".", "trs"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[13]:=",
 CellID->2127017166,ExpressionUUID->"7f2b3cac-dbc5-4b4a-a6e5-c6708fce712e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.25514487046776685`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4151745253699879`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.5122476703874509`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.0358645406197632`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.17239321606389427`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.20851582936708257`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4856236728572712`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.012787421655302443`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2182737155493853`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2887554042934662`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.13746132038026385`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.199339942369763`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.21607624248889806`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.28251648379488553`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.17586442867592023`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3232428007506095`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.24604599432804608`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.18465402550594268`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3939120488565846`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.16409858923629664`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.20908802861842324`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.5145204178822178`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.09484432214400065`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.6099939407033187`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.032873956325682754`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.22112639571593898`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08222187840065756`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.11391924908830581`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.4655157404694664`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.25614086694651317`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.050877436400354095`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.15037886950076615`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2894280873554461`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.09757891467686483`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.0889309566956125`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.09454719774906153`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.020299026734120554`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.2806417802473157`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.1748087587923952`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.24990660295978234`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.29067947795472904`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.24947270957059314`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.10451018031738774`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.5777874928627784`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.46569341647723855`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.32032253449520787`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.31491169655653434`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.01513830304891273`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.06730670531104566`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3115588869168069`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4987106924659144`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.10097390585471179`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.40482255125064603`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22003359476180967`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.32892418475212865`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2075096951427086`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.41797724457712826`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2343733327251576`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3027806236759014`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.12661132244903608`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.5558984021747169`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.08883758380169825`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4150699644232315`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3604397854764683`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.1326708335677534`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.40303514948223434`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.033163114301931196`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.008983671061803948`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.1924270339921317`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}]}], "}"}]], "Output",
 CellLabel->"Out[13]=",
 CellID->106627134,ExpressionUUID->"9d08d974-e82d-4ca0-a066-f3ea1db9b87f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"mint", "-", "alt"}], "//", "Chop"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[14]:=",
 CellID->1423053347,ExpressionUUID->"44cb3d73-5bb2-4067-9ffe-36459655dfc1"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], 
  "}"}]], "Output",
 CellLabel->"Out[14]=",
 CellID->1080879540,ExpressionUUID->"106a34eb-365d-493e-9377-8e7a65fa6f13"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"tt", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "$n"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "/@", "tt"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[15]:=",
 CellID->332562170,ExpressionUUID->"f909b921-e3f8-41f7-8440-1ca9e03504ed"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{"0", "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}], ",", 
   RowBox[{"1", "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {
         RowBox[{"0.43566146932287153`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.22877848559753047`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.7179541346578111`"}], "+", 
          RowBox[{"0.22308008202214685`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.3030288395071328`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.3175061395230706`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{"0.4706086526272208`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.22153845685052936`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.255116606244794`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.4897889765748679`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.4096540614047796`"}], "-", 
          RowBox[{"0.5066103372683282`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{
          RowBox[{"-", "0.609283418185487`"}], "+", 
          RowBox[{"0.34070722505990997`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.33070407456836753`"}], "+", 
          RowBox[{"0.14294834116039218`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.5555475779196207`"}], "-", 
          RowBox[{"0.27250647443170856`", " ", "\[ImaginaryI]"}]}]}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}], ",", 
   RowBox[{"2", "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {
         RowBox[{"0.13746132038026385`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.199339942369763`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.5145204178822178`"}], "-", 
          RowBox[{"0.09484432214400065`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.2894280873554461`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.09757891467686483`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.46569341647723855`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.32032253449520787`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.2075096951427086`"}], "+", 
          RowBox[{"0.41797724457712826`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.008983671061803948`"}], "-", 
          RowBox[{"0.1924270339921317`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{"0.2182737155493853`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.2887554042934662`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.16409858923629664`"}], "-", 
          RowBox[{"0.20908802861842324`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.15037886950076615`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.10451018031738774`"}], "+", 
          RowBox[{"0.5777874928627784`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.32892418475212865`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.40303514948223434`"}], "-", 
          RowBox[{"0.033163114301931196`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{
          RowBox[{"-", "0.4856236728572712`"}], "+", 
          RowBox[{"0.012787421655302443`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.18465402550594268`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.3939120488565846`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.25614086694651317`"}], "+", 
          RowBox[{"0.050877436400354095`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.29067947795472904`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.24947270957059314`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.40482255125064603`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.22003359476180967`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.3604397854764683`"}], "+", 
          RowBox[{"0.1326708335677534`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{"0.17239321606389427`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.20851582936708257`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.3232428007506095`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.24604599432804608`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.11391924908830581`"}], "-", 
          RowBox[{"0.4655157404694664`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.1748087587923952`"}], "-", 
          RowBox[{"0.24990660295978234`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.4987106924659144`"}], "+", 
          RowBox[{"0.10097390585471179`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.08883758380169825`"}], "+", 
          RowBox[{"0.4150699644232315`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{
          RowBox[{"-", "0.5122476703874509`"}], "+", 
          RowBox[{"0.0358645406197632`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.17586442867592023`"}], "+", 
          RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.22112639571593898`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.08222187840065756`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.020299026734120554`"}], "+", 
          RowBox[{"0.2806417802473157`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.06730670531104566`"}], "+", 
          RowBox[{"0.3115588869168069`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.12661132244903608`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.5558984021747169`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{"0.25514487046776685`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.4151745253699879`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.21607624248889806`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.28251648379488553`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.6099939407033187`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.032873956325682754`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.0889309566956125`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.09454719774906153`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.31491169655653434`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.01513830304891273`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.2343733327251576`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.3027806236759014`", " ", "\[ImaginaryI]"}]}]}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}]}], "\[RightAssociation]"}]], "Output",
 CellLabel->"Out[15]=",
 CellID->778258807,ExpressionUUID->"cc52f8cb-f61a-4d64-bb9f-5a07f4925a75"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000003`, {0.43114257812500156`, 13.168857421875}}]],
  ExpressionUUID->"8f316553-ee4b-417e-a51b-06fa4081dfbd"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"ecbe877a-b6d9-4460-9f9a-893170dabbe5"],
 "Scope",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "a22f3f2b-9d66-400a-bece-07298a43ac7c"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1094006675,ExpressionUUID->"f2881dc1-cecb-4754-a179-9131123bd344"],

Cell["\<\
If you are sure, say based on certain physical grounds, that some many-body \
basis states are more relevant than others, you can restrict the involved \
basis states in several ways by adjusting the input arguments.\
\>", "ExampleText",
 CellID->1293372040,ExpressionUUID->"ba73ca7a-4a08-4b8f-921b-e697304f1cb6"],

Cell["\<\
Let us examine examples by considering two sets of bosonic modes related by a \
canonical transformation:\
\>", "ExampleText",
 CellID->998156305,ExpressionUUID->"2f23b915-ea23-4dfa-9766-30d76b266089"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"$m", "=", "3"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "number", " ", "of", " ", "modes"}], " ", 
   "*)"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->1933974453,ExpressionUUID->"ebb98ba8-bfac-41b1-9970-942b87b04e71"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a", ",", "b"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->2143634226,ExpressionUUID->"9f050ddf-a5cf-4856-966b-326098fa3959"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aa", "=", 
  RowBox[{"a", "[", 
   RowBox[{"Range", "@", "$m"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"bb", "=", 
  RowBox[{"b", "[", 
   RowBox[{"Range", "@", "$m"}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->1874774310,ExpressionUUID->"997beef0-f28c-405d-91e4-8cb81a937336"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`a[3]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1073844546,ExpressionUUID->"b18f1937-3dd4-445a-bfd6-69d10d0e08c6"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`b[1]], ",", 
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`b[2]], ",", 
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`b[3]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->652715234,ExpressionUUID->"cbd4a6a9-6143-4166-b7f5-2011cf6ccf00"]
}, Open  ]],

Cell["To be specific, choose a canonical transformation:", "ExampleText",
 CellID->1182235068,ExpressionUUID->"1ad8edae-76f7-4e32-b7f6-5638f0614883"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SeedRandom", "[", "351", "]"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1306085832,ExpressionUUID->"737d61fc-6e3e-453d-8282-c97f1ff1cfcc"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"RandomUnitary", "[", "$m", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1954222437,ExpressionUUID->"547eda93-de49-43a3-a8e0-10e066bb1798"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"0.43566146932287153`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22877848559753047`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.7179541346578111`"}], "+", 
       RowBox[{"0.22308008202214685`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.3030288395071328`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3175061395230706`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.4706086526272208`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22153845685052936`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.255116606244794`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4897889765748679`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.4096540614047796`"}], "-", 
       RowBox[{"0.5066103372683282`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.609283418185487`"}], "+", 
       RowBox[{"0.34070722505990997`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.33070407456836753`"}], "+", 
       RowBox[{"0.14294834116039218`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.5555475779196207`"}], "-", 
       RowBox[{"0.27250647443170856`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[5]//MatrixForm=",
 CellID->433240868,ExpressionUUID->"c7aabf9b-57d2-44c8-9d04-d9dd3932930c"]
}, Open  ]],

Cell[TextData[{
 "Suppose that you are interested in the subspace of ",
 StyleBox["n",
  FontSlant->"Italic"],
 " particles:"
}], "ExampleText",
 CellID->1938593701,ExpressionUUID->"4c3a9c59-e0df-4170-a2e0-35cc1bdbc897"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$n", "=", "2"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->322440423,ExpressionUUID->"b5f0f2ca-d909-42f4-92db-d409cee33195"],

Cell["\<\
Restrict the relevant many-body basis states by allowing only  0 or 1 for the \
occupation numbers:\
\>", "ExampleText",
 CellID->1154947980,ExpressionUUID->"0fc770b6-a29c-496a-a359-828f0bd93f51"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"as", "=", 
  RowBox[{"BosonBasis", "[", 
   RowBox[{"aa", ",", 
    RowBox[{"{", "$n", "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"bs", "=", 
  RowBox[{"BosonBasis", "[", 
   RowBox[{"bb", ",", 
    RowBox[{"{", "$n", "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[7]:=",
 CellID->106014627,ExpressionUUID->"80cbb7b6-eebc-4e8c-a6bc-ce42608585b7"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
      1|>]]}], "}"}]], "Output",
 CellLabel->"Out[7]=",
 CellID->605325118,ExpressionUUID->"fc895ec3-d2c6-4b9b-bcae-a5e3f7697f9c"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 1, $CellContext`b[2] -> 1, $CellContext`b[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 1, $CellContext`b[2] -> 0, $CellContext`b[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 0, $CellContext`b[2] -> 1, $CellContext`b[3] -> 
      1|>]]}], "}"}]], "Output",
 CellLabel->"Out[7]=",
 CellID->1069222387,ExpressionUUID->"993f3cd1-d3ef-4d7c-9168-13289e178c41"]
}, Open  ]],

Cell[TextData[{
 "Calculate the unitary transformation matrix ",
 Cell[BoxData[
  FormBox["T", TraditionalForm]],ExpressionUUID->
  "29cf53f2-39bb-467a-9500-759b7eaff5e2"],
 " between these bases: ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox[
     TemplateBox[{"j"},
      "Ket"], "b"], ":=", 
    RowBox[{
     UnderscriptBox["\[Sum]", "i"], 
     RowBox[{
      SubscriptBox[
       TemplateBox[{"i"},
        "Ket"], "a"], 
      SubscriptBox["T", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}]]}]}]}], TraditionalForm]],
  ExpressionUUID->"ecc71c8f-35d3-4f68-8194-405e898d4283"],
 ":"
}], "ExampleText",
 CellID->841215019,ExpressionUUID->"9b8f942e-0e42-40de-960b-7b37f14f0825"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", 
     RowBox[{"{", "$n", "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"trs", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[8]:=",
 CellID->1415976132,ExpressionUUID->"e09f9217-1618-472f-aedb-3022a0fbb3f2"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"-", "0.16409858923629664`"}], "-", 
       RowBox[{"0.20908802861842324`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.15037886950076615`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.32892418475212865`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.18465402550594268`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3939120488565846`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.25614086694651317`"}], "+", 
       RowBox[{"0.050877436400354095`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.40482255125064603`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22003359476180967`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.17586442867592023`"}], "+", 
       RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.22112639571593898`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08222187840065756`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.06730670531104566`"}], "+", 
       RowBox[{"0.3115588869168069`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[8]//MatrixForm=",
 CellID->2067222266,ExpressionUUID->"7d7c7881-1803-47a1-b604-15a35c6ef895"]
}, Open  ]],

Cell[TextData[{
 "You can restrict the states more directly by giving custom bases as input \
arguments. In this particular case, the following three statements are \
equivalent because the bases for the two sets of bosonic modes (",
 StyleBox["a",
  FontSlant->"Italic"],
 "- and ",
 StyleBox["b",
  FontSlant->"Italic"],
 "-modes) are essentially the same (the keys of Kets in the basis are \
ignored, only occupation numbers are considered)."
}], "ExampleText",
 CellID->799020092,ExpressionUUID->"2f860d33-6a35-4ab4-a27e-3ed1ba9ae052"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "as"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "bs"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", 
     RowBox[{"{", 
      RowBox[{"as", ",", "bs"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"trs", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[9]:=",
 CellID->174508983,ExpressionUUID->"92be8731-5f50-42e4-b9b6-34f999619775"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"-", "0.16409858923629664`"}], "-", 
       RowBox[{"0.20908802861842324`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.15037886950076615`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.32892418475212865`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.18465402550594268`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3939120488565846`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.25614086694651317`"}], "+", 
       RowBox[{"0.050877436400354095`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.40482255125064603`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22003359476180967`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.17586442867592023`"}], "+", 
       RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.22112639571593898`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08222187840065756`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.06730670531104566`"}], "+", 
       RowBox[{"0.3115588869168069`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[9]//MatrixForm=",
 CellID->731880488,ExpressionUUID->"4bed8fe0-3b50-4419-9d88-1ab06bacea78"]
}, Open  ]],

Cell["\<\
The same result can be obtained by specifying the occupation numbers as well:\
\
\>", "ExampleText",
 CellID->420673980,ExpressionUUID->"2adcb34c-56cc-42f8-95c2-1c46f952e721"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"alist", "=", 
  RowBox[{"OrderedPartitions", "[", 
   RowBox[{"$n", ",", "$m", ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"blist", "=", 
  RowBox[{"OrderedPartitions", "[", 
   RowBox[{"$n", ",", "$m", ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[10]:=",
 CellID->195611649,ExpressionUUID->"25225827-9f79-45ba-838b-17dd875d6974"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", "1", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"1", ",", "0", ",", "1"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "1", ",", "1"}], "}"}]}], "}"}]], "Output",
 CellLabel->"Out[10]=",
 CellID->1171806687,ExpressionUUID->"df89d151-a072-4331-a2df-4453bdcc64e7"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", "1", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"1", ",", "0", ",", "1"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "1", ",", "1"}], "}"}]}], "}"}]], "Output",
 CellLabel->"Out[10]=",
 CellID->2129945419,ExpressionUUID->"dab0d8b3-94ca-47ff-ac11-a1b0948a86aa"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "alist"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "blist"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", 
     RowBox[{"{", 
      RowBox[{"alist", ",", "blist"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"trs", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[11]:=",
 CellID->858218400,ExpressionUUID->"8d19dc04-8845-46e3-b935-efccb36f91b9"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"-", "0.16409858923629664`"}], "-", 
       RowBox[{"0.20908802861842324`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.15037886950076615`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3967192347317443`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.32892418475212865`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.04291605073142024`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.18465402550594268`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3939120488565846`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.25614086694651317`"}], "+", 
       RowBox[{"0.050877436400354095`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.40482255125064603`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.22003359476180967`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.17586442867592023`"}], "+", 
       RowBox[{"0.37934942869220234`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.22112639571593898`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08222187840065756`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.06730670531104566`"}], "+", 
       RowBox[{"0.3115588869168069`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[11]//MatrixForm=",
 CellID->1544760678,ExpressionUUID->"9af527c1-3287-4d5c-b8b6-4ebd1a302046"]
}, Open  ]],

Cell["\<\
Note that in this case, the resulting matrix is not unitary any longer \
because is only an approximation (in this random example, it is a very bad \
approximation).\
\>", "ExampleText",
 CellID->473559800,ExpressionUUID->"9eaad06e-0df9-40be-8931-e16b3f184115"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"trs", ".", 
    RowBox[{"Topple", "[", "trs", "]"}]}], "//", "Chop"}], "//", 
  "MatrixForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Topple", "[", "trs", "]"}], ".", "trs"}], "//", "Chop"}], "//", 
  "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[12]:=",
 CellID->1002436772,ExpressionUUID->"48d77c00-6236-4cb6-97b7-dbf581cd9a0b"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0.360679013024585`", 
      RowBox[{"0.13595749757872483`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.06428522594888722`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.006645492345604529`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.08170659945444178`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.13595749757872483`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.06428522594888719`", " ", "\[ImaginaryI]"}]}], 
      "0.46975654944961126`", 
      RowBox[{
       RowBox[{"-", "0.20142098077151682`"}], "-", 
       RowBox[{"0.15151912052934474`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.006645492345604529`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.08170659945444178`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.20142098077151682`"}], "+", 
       RowBox[{"0.15151912052934474`", " ", "\[ImaginaryI]"}]}], 
      "0.3320907390893303`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[12]//MatrixForm=",
 CellID->510336257,ExpressionUUID->"23e6ae95-9c3f-451b-a770-576fa423ca2a"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0.4347442483934312`", 
      RowBox[{
       RowBox[{"-", "0.07914548486728296`"}], "-", 
       RowBox[{"0.06438303035790476`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.05515554347852418`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.23256685014029807`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.07914548486728296`"}], "+", 
       RowBox[{"0.06438303035790476`", " ", "\[ImaginaryI]"}]}], 
      "0.30385393302330727`", 
      RowBox[{
       RowBox[{"-", "0.10055947583046027`"}], "+", 
       RowBox[{"0.123348098705274`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.05515554347852418`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.23256685014029807`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.10055947583046027`"}], "-", 
       RowBox[{"0.123348098705274`", " ", "\[ImaginaryI]"}]}], 
      "0.4239281201467881`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[12]//MatrixForm=",
 CellID->171785281,ExpressionUUID->"850e9d5d-a4b3-42d2-b518-cf07706984b2"]
}, Open  ]],

Cell["\<\
Therefore, the restriction must be used only when one is convinced that there \
is certain physical reasons to restrict the bases.\
\>", "ExampleText",
 CellID->529714649,ExpressionUUID->"7aec6f39-4ab5-4206-a13f-080606c9b8af"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "3"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000003`, {0.43114257812500156`, 13.168857421875}}]],
  ExpressionUUID->"8dbbbbfa-7ae3-4455-a837-56e181645d80"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"9db1e059-d28f-4c18-ac10-e34eb6291bb1"],
 "Possible Issues",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "d73589f7-d483-403d-b1e0-d38987ac803b"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->346734972,ExpressionUUID->"ccc95a38-4435-4b74-ad91-447df8043a7d"],

Cell[TextData[{
 "Technically, ",
 StyleBox["BosonBasisChange", "Input"],
 " involves the calculation of permanent, which is known to be \
computationally hard. The computational cost scales exponentially with the \
dimension of the matrix."
}], "ExampleText",
 CellID->1230739208,ExpressionUUID->"dc54988a-72d4-4447-ba52-7d31f412b5ce"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$L", "=", "9"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "number", " ", "of", " ", "modes", " ", 
    RowBox[{"(", 
     RowBox[{"1", "D", " ", "system", " ", "size"}], ")"}]}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$n", "=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"$L", "-", "1"}], ")"}], "/", "2"}]}], ";"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[1]:=",
 CellID->2023284607,ExpressionUUID->"8434dbd6-644d-4982-86ae-f204dc5e10e8"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"pp", "=", 
    RowBox[{"OrderedPartitions", "[", 
     RowBox[{"$n", ",", "$L"}], "]"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "possible", " ", "occupation", " ", "numbers", " ", "of", " ", "the", " ", 
    "bare", " ", "modes"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"qq", "=", 
    RowBox[{"OrderedPartitions", "[", 
     RowBox[{"$n", ",", "$L", ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "possible", " ", "occupation", " ", "numbers", " ", "of", " ", "the", " ", 
    "dressed", " ", "modes"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{"Length", "/@", 
  RowBox[{"{", 
   RowBox[{"pp", ",", "qq"}], "}"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[2]:=",
 CellID->2088323251,ExpressionUUID->"6daeeed7-7aac-49ff-85f9-ced54af1048a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"495", ",", "126"}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1587961278,ExpressionUUID->"859635cd-9b90-4ba2-861e-2b425c4ee40a"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"SeedRandom", "[", "351", "]"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[3]:=",
 CellID->782728112,ExpressionUUID->"ac5acd4e-ce92-4354-b966-b0897e955e3e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"RandomUnitary", "[", "$L", "]"}]}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[4]:=",
 CellID->1974040509,ExpressionUUID->"a717b02a-7b93-440e-977e-69ace9402b70"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"trs", "=", 
    RowBox[{"BosonBasisChange", "[", 
     RowBox[{"mat", ",", 
      RowBox[{"{", 
       RowBox[{"pp", ",", "qq"}], "}"}]}], "]"}]}], ";"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[5]:=",
 CellID->1223972260,ExpressionUUID->"a02b521c-a91c-4d86-824c-d2ce93890849"],

Cell[BoxData["4.114736`"], "EchoTiming",
 CellID->1670623238,ExpressionUUID->"b2017646-6bbb-4725-a355-01d34124f6e6"]
}, Open  ]],

Cell["Elementary check-ups.", "ExampleText",
 CellID->1780247599,ExpressionUUID->"2a1d3b79-5b4e-41bc-bcfb-b86ad9963a1b"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Dimensions", "[", "trs", "]"}], "\[IndentingNewLine]", 
 RowBox[{"DeleteCases", "[", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"Topple", "[", "trs", "]"}], ".", "trs"}], "-", 
      RowBox[{"One", "[", 
       RowBox[{"Length", "@", "qq"}], "]"}]}], "//", "Flatten"}], "//", 
    "Chop"}], ",", "0"}], "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3`"],
 CellLabel->"In[6]:=",
 CellID->1879226389,ExpressionUUID->"601fb486-35d8-4d0e-9b2a-dac5fb5d48f3"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"495", ",", "126"}], "}"}]], "Output",
 CellLabel->"Out[6]=",
 CellID->33285304,ExpressionUUID->"345578d8-0fe9-43b8-b53a-14d197c2dd56"],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellLabel->"Out[6]=",
 CellID->1080356108,ExpressionUUID->"9430549d-ac93-4388-8b46-2decda34ca16"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "3"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["BosonBasis"]], "paclet:QuantumMob/Q3/ref/BosonBasis", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "e85856a8-11cf-4bae-ae40-b35ebbecae12"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["MatrixIn"]], "paclet:QuantumMob/Q3/ref/MatrixIn", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "2c963fe6-06bc-4020-b2f0-db89caf16a77"]
       }], "SeeAlso",ExpressionUUID->"0ba03148-4ffa-49b4-848c-2e07c2cca3a5"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"679ea760-fe48-4fcd-a9b6-\
0afee0d24373"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTechNote.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TechNotesSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Many-Body Systems with Q3"]], 
           "paclet:QuantumMob/Q3/tutorial/QuantumManyBodySystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "b71e4b2a-bbcd-435f-bf43-08cbb63fa9e0"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Quick Start"]], 
           "paclet:QuantumMob/Q3/tutorial/Q3QuickStart"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "eb6d41b3-5165-45cd-b346-57f6faa2198a"]}]}
     }]}
  }]], "TechNotesSection",ExpressionUUID->"189b4a54-41ca-42dc-b6d5-\
f964571d0b53"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Many-Body Systems"]], 
           "paclet:QuantumMob/Q3/guide/QuantumManyBodySystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "cea94ef9-80fc-4f86-98ea-bc6ff6296204"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Symbolic Quantum Simulation"]], 
           "paclet:QuantumMob/Q3/guide/Q3"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "c337714c-0505-4b51-989b-53c5adfad232"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"53ac42d8-3a55-4c6b-bde9-\
4f96acc9bb5a"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "6bf38fea-6e83-4441-b6a0-74ee04e2209f"]}]],ExpressionUUID->
         "a80f62a2-538b-498c-8a56-672769dadadf"],
        ", A Quantum Computation Workbook (Springer)."
       }], "RelatedLinks",ExpressionUUID->
        "5257a17b-8835-47dd-bce9-e2e102357f67"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"308ef2ce-1369-4d24-b05d-\
756b77f3ead6"],

Cell[" ", "FooterCell",ExpressionUUID->"29fbabac-b636-4380-b8ca-b3f086997aa7"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"BosonBasisChange",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, 
    "ExampleSection" -> {"0" -> Open, "1" -> Closed, "3" -> Closed}, 
    "AllOptsTable" -> Closed, "NotesSection" -> Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "HasOptions" -> 
  True, "RootCaptions" -> "", "HeaderCoreAreaLink" -> {}, 
  "Metadata" -> {
   "built" -> "{2025, 6, 5, 11, 31, 3.944682}", 
    "history" -> {"14.0", "", "", ""}, "context" -> "QuantumMob`Q3`", 
    "keywords" -> {}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> 
    "Quantum Mob/ Q3 Symbol", "language" -> "en", "paclet" -> "QuantumMob/Q3",
     "status" -> "None", "summary" -> 
    "BosonBasisChange[mat, {n}] returns the unitary matrix describing the \
change of n-particle basis between two sets of modes related by the canonical \
transformation matrix mat. BosonBasisChange[mat, {m, n}] returns an \
association whose keys are the numbers from m to n and the values are the \
unitary matrices corresponding to the numbers of particles. \
BosonBasisChange[mat, n] is equivalent to BosonBasisChange[mat, {0, n}]. \
BosonBasisChange[mat, nspec, {k1, k2, ...}] assumes that the basis states \
only have occupation numbers in {k1, k2, ...}. BosonBasisChange[mat, {{p11, \
p12, ...}, {p21, p22, ...}, ...}] refers to pij for the occupation number of \
j-th mode in the i-th many-body basis state for the both sets of boson modes. \
BosonBasisChange[mat, {pmat, qmat}] refers to pmat and qmat for the \
occupation numbers of the first and second set of boson modes, respectively. \
BosonBasisChange[mat, bs] or BosonBasisChange[mat, {bsa, bsb}] refers to the \
same basis bs or respective bases bsa and bsb for the occupation numbers of \
the two sets of boson modes.", "synonyms" -> {}, "tabletags" -> {}, "title" -> 
    "BosonBasisChange", "titlemodifier" -> "", "metadescription" -> "", 
    "windowtitle" -> "BosonBasisChange", "type" -> "Symbol", "uri" -> 
    "QuantumMob/Q3/ref/BosonBasisChange"}},
FrontEndVersion->"14.2 for Mac OS X ARM (64-bit) (March 16, 2025)",
StyleDefinitions->FrontEnd`FileName[{"Wolfram"}, "Reference.nb", 
  CharacterEncoding -> "UTF-8"],
ExpressionUUID->"242ec757-06af-4194-a5ca-a46e22cacc79"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[22593, 624, 1441, 38, 34, "PrimaryExamplesSection",ExpressionUUID->"5b8cc8ca-3e76-4512-a1bc-cfbea2e9cee2",
   CellTags->"PrimaryExamplesSection",
   CellID->1161493246]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 205461, 5272}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[584, 21, 6507, 160, 50, "AnchorBarGrid",ExpressionUUID->"1c240bc6-c30e-4a65-9c7c-48a1556280f4",
 CellID->1],
Cell[7094, 183, 96, 0, 22, "ContextNameCell",ExpressionUUID->"218b464d-e381-4255-a74e-84bc4092e7b3"],
Cell[CellGroupData[{
Cell[7215, 187, 1333, 36, 57, "ObjectNameGrid",ExpressionUUID->"5e55021d-4d8e-43c5-bddb-e8ba1589245b"],
Cell[8551, 225, 10056, 279, 587, "Usage",ExpressionUUID->"c48acd75-44e1-469a-8f3d-edf6c1939750",
 CellID->1362242420]
}, Open  ]],
Cell[CellGroupData[{
Cell[18644, 509, 1917, 48, 34, "NotesSection",ExpressionUUID->"050972e2-43af-40d1-a848-428fd186ae61",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->1055858801],
Cell[20564, 559, 1902, 59, 70, "Notes",ExpressionUUID->"ef331946-a381-4388-aada-56c82d96a858",
 CellID->885192273]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[22593, 624, 1441, 38, 34, "PrimaryExamplesSection",ExpressionUUID->"5b8cc8ca-3e76-4512-a1bc-cfbea2e9cee2",
 CellTags->"PrimaryExamplesSection",
 CellID->1161493246],
Cell[24037, 664, 202, 3, 29, "Input",ExpressionUUID->"00427fec-d980-430f-ad78-6086f51e28f7",
 CellID->246560494],
Cell[CellGroupData[{
Cell[24264, 671, 1418, 37, 29, "ExampleSection",ExpressionUUID->"af3abd2d-2866-42dc-802a-5505b66b6c71",
 CellID->590634292],
Cell[25685, 710, 301, 7, 56, "ExampleText",ExpressionUUID->"3dec2cbe-9e06-4520-bcce-d966a334f4b9",
 CellID->899584544],
Cell[25989, 719, 318, 9, 70, "Input",ExpressionUUID->"1041fbe5-32b0-4a74-b159-54d85765ce2d",
 CellID->766874085],
Cell[26310, 730, 229, 5, 70, "Input",ExpressionUUID->"70ecfc12-2a1b-43c9-9628-1471db51765f",
 CellID->652243378],
Cell[CellGroupData[{
Cell[26564, 739, 354, 9, 70, "Input",ExpressionUUID->"2d8e2ff2-2657-4e3a-8428-2a3e82a97dde",
 CellID->1535286693],
Cell[26921, 750, 577, 19, 36, "Output",ExpressionUUID->"6099c13b-97e1-481b-b60b-2205caa2bfc8",
 CellID->187383178],
Cell[27501, 771, 578, 19, 36, "Output",ExpressionUUID->"e68bb274-c33e-4859-a267-f808fd71dc2f",
 CellID->1138046144]
}, Open  ]],
Cell[28094, 793, 997, 30, 70, "ExampleText",ExpressionUUID->"4e9d5460-1245-49be-bc67-301b8e400446",
 CellID->629436858],
Cell[29094, 825, 220, 5, 70, "Input",ExpressionUUID->"392661d2-0bd6-42b7-9d57-1338cdf3a60a",
 CellID->1888739657],
Cell[CellGroupData[{
Cell[29339, 834, 313, 8, 70, "Input",ExpressionUUID->"11dddbc4-a412-4853-81e5-b8cff81ba8d4",
 CellID->11107004],
Cell[29655, 844, 1753, 41, 75, "Output",ExpressionUUID->"f836fd59-301d-4817-9ed0-cade29c3a632",
 CellID->1652182026]
}, Open  ]],
Cell[31423, 888, 219, 6, 70, "ExampleText",ExpressionUUID->"3e1113ef-c80f-4497-a811-9340791c93dd",
 CellID->538544441],
Cell[31645, 896, 204, 5, 70, "Input",ExpressionUUID->"f1834c2c-8194-41c5-af96-fc5812948147",
 CellID->554860242],
Cell[31852, 903, 181, 3, 70, "ExampleText",ExpressionUUID->"1c48075f-5edf-481d-be46-519cb52c000e",
 CellID->1920304077],
Cell[CellGroupData[{
Cell[32058, 910, 416, 11, 70, "Input",ExpressionUUID->"e3a17528-bb2d-4c43-a524-3bf2c3b4be7d",
 CellID->1633870097],
Cell[32477, 923, 6122, 148, 38, "Output",ExpressionUUID->"82a278c7-8a79-4aa1-bb9c-055908ac65bb",
 CellID->1259755272],
Cell[38602, 1073, 6121, 148, 38, "Output",ExpressionUUID->"cd08f8bc-f74e-4204-a309-194ca1c75696",
 CellID->665580731]
}, Open  ]],
Cell[44738, 1224, 696, 23, 70, "ExampleText",ExpressionUUID->"8a51be32-5070-49a2-8e9c-6ec1fb0caa77",
 CellID->2129672373],
Cell[CellGroupData[{
Cell[45459, 1251, 368, 9, 70, "Input",ExpressionUUID->"b363ed2d-e700-47f3-8994-746a191a4a51",
 CellID->1631252586],
Cell[45830, 1262, 5308, 110, 123, "Output",ExpressionUUID->"27c8639c-cbb4-49b9-b2c5-ee31cc1eb736",
 CellID->173028694]
}, Open  ]],
Cell[CellGroupData[{
Cell[51175, 1377, 444, 13, 70, "Input",ExpressionUUID->"961c4214-2e84-4dff-867d-791aaf17de9f",
 CellID->1586342386],
Cell[51622, 1392, 856, 21, 123, "Output",ExpressionUUID->"94f1eaa1-d613-47ce-be1e-09104157cef7",
 CellID->400402020],
Cell[52481, 1415, 889, 21, 123, "Output",ExpressionUUID->"610eaf1f-5a7d-4e35-90f7-aa5614d0db79",
 CellID->1490484089]
}, Open  ]],
Cell[53385, 1439, 207, 4, 70, "ExampleText",ExpressionUUID->"5d3caf54-fc90-40b5-a799-c87929e2e3de",
 CellID->1291576865],
Cell[CellGroupData[{
Cell[53617, 1447, 311, 8, 70, "Input",ExpressionUUID->"7a077f70-1a50-4b3c-bb35-aa8e7f5d2a06",
 CellID->1666517005],
Cell[53931, 1457, 3765, 113, 68, "Output",ExpressionUUID->"bdba493a-6a0e-4596-abba-1bfe2117be08",
 CellID->169341568]
}, Open  ]],
Cell[57711, 1573, 210, 6, 70, "ExampleText",ExpressionUUID->"5e95d3b6-cb9b-43c0-abe4-97f7aef5ece6",
 CellID->116787747],
Cell[CellGroupData[{
Cell[57946, 1583, 223, 5, 70, "Input",ExpressionUUID->"5d05ae56-cab3-41eb-9c0f-c4d8e2be21d0",
 CellID->614657339],
Cell[58172, 1590, 7048, 183, 58, "Output",ExpressionUUID->"bbab1b76-6996-425b-96b4-be109737d876",
 CellID->707901101]
}, Open  ]],
Cell[65235, 1776, 219, 6, 70, "ExampleText",ExpressionUUID->"d4353539-2d3a-4805-8dff-56d4a10cec0e",
 CellID->1021926066],
Cell[CellGroupData[{
Cell[65479, 1786, 281, 7, 70, "Input",ExpressionUUID->"cdf650c7-ce45-4ef8-807e-a894832324fb",
 CellID->333871968],
Cell[65763, 1795, 44468, 1057, 245, "Output",ExpressionUUID->"b37e6289-931d-4e61-9f86-43dad37feee2",
 CellID->634400127]
}, Open  ]],
Cell[110246, 2855, 247, 6, 70, "ExampleText",ExpressionUUID->"117b5044-7011-4f88-aa10-cc80c6d73e34",
 CellID->977125870],
Cell[CellGroupData[{
Cell[110518, 2865, 216, 5, 70, "Input",ExpressionUUID->"7f2b3cac-dbc5-4b4a-a6e5-c6708fce712e",
 CellID->2127017166],
Cell[110737, 2872, 44481, 1058, 245, "Output",ExpressionUUID->"9d08d974-e82d-4ca0-a066-f3ea1db9b87f",
 CellID->106627134]
}, Open  ]],
Cell[CellGroupData[{
Cell[155255, 3935, 219, 5, 70, "Input",ExpressionUUID->"44cb3d73-5bb2-4067-9ffe-36459655dfc1",
 CellID->1423053347],
Cell[155477, 3942, 216, 5, 36, "Output",ExpressionUUID->"106a34eb-365d-493e-9377-8e7a65fa6f13",
 CellID->1080879540]
}, Open  ]],
Cell[CellGroupData[{
Cell[155730, 3952, 340, 8, 70, "Input",ExpressionUUID->"f909b921-e3f8-41f7-8440-1ca9e03504ed",
 CellID->332562170],
Cell[156073, 3962, 8006, 168, 111, "Output",ExpressionUUID->"cc52f8cb-f61a-4d64-bb9f-5a07f4925a75",
 CellID->778258807]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]],
Cell[CellGroupData[{
Cell[164228, 4138, 1411, 37, 70, "ExampleSection",ExpressionUUID->"f2881dc1-cecb-4754-a179-9131123bd344",
 CellID->1094006675],
Cell[165642, 4177, 323, 5, 70, "ExampleText",ExpressionUUID->"ba73ca7a-4a08-4b8f-921b-e697304f1cb6",
 CellID->1293372040],
Cell[165968, 4184, 211, 4, 70, "ExampleText",ExpressionUUID->"2f23b915-ea23-4dfa-9766-30d76b266089",
 CellID->998156305],
Cell[166182, 4190, 319, 9, 70, "Input",ExpressionUUID->"ebb98ba8-bfac-41b1-9970-942b87b04e71",
 CellID->1933974453],
Cell[166504, 4201, 230, 5, 70, "Input",ExpressionUUID->"9f050ddf-a5cf-4856-966b-326098fa3959",
 CellID->2143634226],
Cell[CellGroupData[{
Cell[166759, 4210, 354, 9, 70, "Input",ExpressionUUID->"997beef0-f28c-405d-91e4-8cb81a937336",
 CellID->1874774310],
Cell[167116, 4221, 578, 19, 36, "Output",ExpressionUUID->"b18f1937-3dd4-445a-bfd6-69d10d0e08c6",
 CellID->1073844546],
Cell[167697, 4242, 577, 19, 36, "Output",ExpressionUUID->"cbd4a6a9-6143-4166-b7f5-2011cf6ccf00",
 CellID->652715234]
}, Open  ]],
Cell[168289, 4264, 149, 1, 70, "ExampleText",ExpressionUUID->"1ad8edae-76f7-4e32-b7f6-5638f0614883",
 CellID->1182235068],
Cell[168441, 4267, 220, 5, 70, "Input",ExpressionUUID->"737d61fc-6e3e-453d-8282-c97f1ff1cfcc",
 CellID->1306085832],
Cell[CellGroupData[{
Cell[168686, 4276, 315, 8, 70, "Input",ExpressionUUID->"547eda93-de49-43a3-a8e0-10e066bb1798",
 CellID->1954222437],
Cell[169004, 4286, 1752, 41, 75, "Output",ExpressionUUID->"c7aabf9b-57d2-44c8-9d04-d9dd3932930c",
 CellID->433240868]
}, Open  ]],
Cell[170771, 4330, 220, 6, 70, "ExampleText",ExpressionUUID->"4c3a9c59-e0df-4170-a2e0-35cc1bdbc897",
 CellID->1938593701],
Cell[170994, 4338, 204, 5, 70, "Input",ExpressionUUID->"b5f0f2ca-d909-42f4-92db-d409cee33195",
 CellID->322440423],
Cell[171201, 4345, 206, 4, 70, "ExampleText",ExpressionUUID->"0fc770b6-a29c-496a-a359-828f0bd93f51",
 CellID->1154947980],
Cell[CellGroupData[{
Cell[171432, 4353, 537, 15, 70, "Input",ExpressionUUID->"80cbb7b6-eebc-4e8c-a6bc-ce42608585b7",
 CellID->106014627],
Cell[171972, 4370, 3136, 76, 38, "Output",ExpressionUUID->"fc895ec3-d2c6-4b9b-bcae-a5e3f7697f9c",
 CellID->605325118],
Cell[175111, 4448, 3137, 76, 38, "Output",ExpressionUUID->"993f3cd1-d3ef-4d7c-9168-13289e178c41",
 CellID->1069222387]
}, Open  ]],
Cell[178263, 4527, 695, 23, 70, "ExampleText",ExpressionUUID->"9b8f942e-0e42-40de-960b-7b37f14f0825",
 CellID->841215019],
Cell[CellGroupData[{
Cell[178983, 4554, 431, 11, 70, "Input",ExpressionUUID->"e09f9217-1618-472f-aedb-3022a0fbb3f2",
 CellID->1415976132],
Cell[179417, 4567, 1760, 40, 75, "Output",ExpressionUUID->"7d7c7881-1803-47a1-b604-15a35c6ef895",
 CellID->2067222266]
}, Open  ]],
Cell[181192, 4610, 539, 12, 70, "ExampleText",ExpressionUUID->"2f860d33-6a35-4ab4-a27e-3ed1ba9ae052",
 CellID->799020092],
Cell[CellGroupData[{
Cell[181756, 4626, 679, 18, 70, "Input",ExpressionUUID->"92be8731-5f50-42e4-b9b6-34f999619775",
 CellID->174508983],
Cell[182438, 4646, 1759, 40, 75, "Output",ExpressionUUID->"4bed8fe0-3b50-4419-9d88-1ab06bacea78",
 CellID->731880488]
}, Open  ]],
Cell[184212, 4689, 185, 4, 70, "ExampleText",ExpressionUUID->"2adcb34c-56cc-42f8-95c2-1c46f952e721",
 CellID->420673980],
Cell[CellGroupData[{
Cell[184422, 4697, 508, 13, 70, "Input",ExpressionUUID->"25225827-9f79-45ba-838b-17dd875d6974",
 CellID->195611649],
Cell[184933, 4712, 360, 10, 36, "Output",ExpressionUUID->"df89d151-a072-4331-a2df-4453bdcc64e7",
 CellID->1171806687],
Cell[185296, 4724, 360, 10, 36, "Output",ExpressionUUID->"dab0d8b3-94ca-47ff-ac11-a1b0948a86aa",
 CellID->2129945419]
}, Open  ]],
Cell[CellGroupData[{
Cell[185693, 4739, 692, 18, 70, "Input",ExpressionUUID->"8d19dc04-8845-46e3-b935-efccb36f91b9",
 CellID->858218400],
Cell[186388, 4759, 1761, 40, 75, "Output",ExpressionUUID->"9af527c1-3287-4d5c-b8b6-4ebd1a302046",
 CellID->1544760678]
}, Open  ]],
Cell[188164, 4802, 271, 5, 70, "ExampleText",ExpressionUUID->"9eaad06e-0df9-40be-8931-e16b3f184115",
 CellID->473559800],
Cell[CellGroupData[{
Cell[188460, 4811, 445, 13, 70, "Input",ExpressionUUID->"48d77c00-6236-4cb6-97b7-dbf581cd9a0b",
 CellID->1002436772],
Cell[188908, 4826, 1451, 34, 75, "Output",ExpressionUUID->"23e6ae95-9c3f-451b-a770-576fa423ca2a",
 CellID->510336257],
Cell[190362, 4862, 1452, 36, 75, "Output",ExpressionUUID->"850e9d5d-a4b3-42d2-b518-cf07706984b2",
 CellID->171785281]
}, Open  ]],
Cell[191829, 4901, 236, 4, 70, "ExampleText",ExpressionUUID->"7aec6f39-4ab5-4206-a13f-080606c9b8af",
 CellID->529714649]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, Closed]]]],
Cell[CellGroupData[{
Cell[192202, 4912, 1420, 37, 70, "ExampleSection",ExpressionUUID->"ccc95a38-4435-4b74-ad91-447df8043a7d",
 CellID->346734972],
Cell[193625, 4951, 336, 7, 70, "ExampleText",ExpressionUUID->"dc54988a-72d4-4447-ba52-7d31f412b5ce",
 CellID->1230739208],
Cell[193964, 4960, 541, 15, 70, "Input",ExpressionUUID->"8434dbd6-644d-4982-86ae-f204dc5e10e8",
 CellID->2023284607],
Cell[CellGroupData[{
Cell[194530, 4979, 945, 26, 70, "Input",ExpressionUUID->"6daeeed7-7aac-49ff-85f9-ced54af1048a",
 CellID->2088323251],
Cell[195478, 5007, 176, 4, 36, "Output",ExpressionUUID->"859635cd-9b90-4ba2-861e-2b425c4ee40a",
 CellID->1587961278]
}, Open  ]],
Cell[195669, 5014, 219, 5, 70, "Input",ExpressionUUID->"ac5acd4e-ce92-4354-b966-b0897e955e3e",
 CellID->782728112],
Cell[195891, 5021, 248, 6, 70, "Input",ExpressionUUID->"a717b02a-7b93-440e-977e-69ace9402b70",
 CellID->1974040509],
Cell[CellGroupData[{
Cell[196164, 5031, 374, 10, 70, "Input",ExpressionUUID->"a02b521c-a91c-4d86-824c-d2ce93890849",
 CellID->1223972260],
Cell[196541, 5043, 116, 1, 70, "EchoTiming",ExpressionUUID->"b2017646-6bbb-4725-a355-01d34124f6e6",
 CellID->1670623238]
}, Open  ]],
Cell[196672, 5047, 120, 1, 70, "ExampleText",ExpressionUUID->"2a1d3b79-5b4e-41bc-bcfb-b86ad9963a1b",
 CellID->1780247599],
Cell[CellGroupData[{
Cell[196817, 5052, 520, 14, 70, "Input",ExpressionUUID->"601fb486-35d8-4d0e-9b2a-dac5fb5d48f3",
 CellID->1879226389],
Cell[197340, 5068, 174, 4, 36, "Output",ExpressionUUID->"345578d8-0fe9-43b8-b53a-14d197c2dd56",
 CellID->33285304],
Cell[197517, 5074, 144, 3, 36, "Output",ExpressionUUID->"9430549d-ac93-4388-8b46-2decda34ca16",
 CellID->1080356108]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "3"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[197903, 5086, 1385, 36, 70, "SeeAlsoSection",ExpressionUUID->"679ea760-fe48-4fcd-a9b6-0afee0d24373"],
Cell[199291, 5124, 1134, 29, 70, "TechNotesSection",ExpressionUUID->"189b4a54-41ca-42dc-b6d5-f964571d0b53"],
Cell[200428, 5155, 1119, 28, 70, "MoreAboutSection",ExpressionUUID->"53ac42d8-3a55-4c6b-bde9-4f96acc9bb5a"],
Cell[201550, 5185, 1166, 34, 70, "RelatedLinksSection",ExpressionUUID->"308ef2ce-1369-4d24-b05d-756b77f3ead6"],
Cell[202719, 5221, 78, 0, 70, "FooterCell",ExpressionUUID->"29fbabac-b636-4380-b8ca-b3f086997aa7"]
}
]
*)

(* End of internal cache information *)

