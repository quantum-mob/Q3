(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[    217985,       5501]
NotebookOptionsPosition[    201871,       5192]
NotebookOutlinePosition[    204825,       5253]
CellTagsIndexPosition[    204738,       5248]
WindowTitle->BosonBasisChange
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["QUANTUM MOB/ Q3S SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "d4efa6fe-955d-4bfe-8a74-3ab8d93ed6e4"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "37af280e-39f4-4328-b3ce-9e5f0280931d"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "ff5dfbe3-62bc-46b1-9c0d-7cba16f8af0a"]
         }],ExpressionUUID->"529c5675-84a8-4c1b-80dc-9637e0ba98ec"],
         StripOnInput->False],{
        StyleBox["\"BosonBasis\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3S/ref/BosonBasis"], 
         StyleBox["\"MatrixIn\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3S/ref/MatrixIn"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "922590d4-05a4-4fb4-8d19-acf1cfc97bc9"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "18add492-377b-49c4-a1fd-bcb2cdab7e48"]
         }],ExpressionUUID->"af579182-17f7-4efd-98c1-eb9b89461096"],
         StripOnInput->False],{
        "\"Quantum Many-Body Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3S/guide/QuantumManyBodySystems"], "\"Q3\"" :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3S/guide/Q3"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "1bb30729-e7e8-4e95-8372-ccbba58776d4"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "8612276b-b346-408d-a61a-7d2346c2a828"]
         }],ExpressionUUID->"e42733da-2261-455e-a089-4a25ec6a70f7"],
         StripOnInput->False],{
        "\"Quantum Many-Body Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3S/tutorial/QuantumManyBodySystems"], 
         "\"Q3: Quick Start\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3S/tutorial/Q3QuickStart"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "a7fcfdc2-ee5e-45d4-8536-2b124140f229"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "a61985b3-f3e6-4f83-a378-54fcd98ac713"]
         }],ExpressionUUID->"fad40f58-379b-4145-a3ae-0f022c46c409"],
         StripOnInput->False],{
        "\"QuantumMob/Q3S/ref/BosonBasisChange\"" :> None, 
         "\"Copy Wolfram Documentation Center URL\"" :> 
         CopyToClipboard["QuantumMob/Q3S/ref/BosonBasisChange"], Delimiter, 
         "\"Copy web URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{
               Cell[BoxData[
                 MakeBoxes[
                  Hyperlink[
                   "http://reference.wolfram.com/language/QuantumMob/Q3S/ref/\
BosonBasisChange.html"], StandardForm]], "Input", TextClipboardType -> 
                 "PlainText"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], 
         "\"Go to web URL\"" :> 
         FrontEndExecute[{
           NotebookLocate[{
             URL[If[TrueQ[False], 
                 "http://reference.wolfram.com/system-modeler/", 
                 "http://reference.wolfram.com/language/"] <> 
               "QuantumMob/Q3S/ref/BosonBasisChange" <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "b561e454-27c3-48b2-bd73-768753d9e3c7"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "6fb46147-e0c5-427b-9605-96e25431ca13"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"d963c206-d636-4702-841c-ea73107bbdb1"],

Cell["QuantumMob`Q3S`", "ContextNameCell",ExpressionUUID->"e32fe7a1-d366-446f-8198-06defc8a9bf2"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "BosonBasisChange", "ObjectName",ExpressionUUID->
      "7bb79185-9097-4ea2-9d5b-8e7b0a5abd52"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"4ba50e59-a462-4ec0-ba73-22f5d43343e8"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "7149be3e-ac5e-48ce-addd-712f8152cbc5"]
    }],ExpressionUUID->"0861f76e-97aa-4d9e-8827-9a3ee3ecc023"], Cell[BoxData[
     TooltipBox[
      StyleBox[
       TagBox[
        StyleBox[
         GraphicsBox[InsetBox[
           StyleBox["\<\"NEW IN 14.0\"\>",
            StripOnInput->False,
            FontFamily->"Source Sans Pro",
            FontSize->18,
            FontWeight->"Bold",
            FontSlant->"Italic",
            FontColor->RGBColor[0.968627, 0.466667, 0]], {Right, Center}, {
           Right, Center}],
          ImageSize->{125, 24}], "NewInGraphic",
         StripOnInput->False],
        Deploy,
        DefaultBaseStyle->"Deploy"], "NewInGraphic",
       StripOnInput->False],
      "New in 14",
      TooltipDelay->0.3]],
     Magnification->1,ExpressionUUID->
     "f3ea5271-2317-4150-b3fd-4c82f83a7e95"]}
  }]], "ObjectNameGrid",
 CacheGraphics->False,ExpressionUUID->"273a5a23-3342-4889-be2a-5d01ab1f478f"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3S/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         StyleBox["n", "TI"], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "306e3b5d-f62b-4fa6-91b5-9691912709a9"],
     " \[LineSeparator]returns the unitary matrix describing the change of ",
     Cell[BoxData[
      StyleBox["n", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "8baf11bb-36c6-448e-9e88-da3a2df7a3d3"],
     "-particle basis between two sets of modes related by the canonical \
transformation matrix ",
     Cell[BoxData[
      StyleBox["mat", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "bb592f8b-9777-473c-93d8-656e70763310"],
     "."
    }],ExpressionUUID->"693b07f1-865c-4cbe-8887-648f64b1093a"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3S/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          StyleBox["m", "TI"], ",", 
          StyleBox["n", "TI"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "8978f58c-36be-4e93-9f00-62302b95f8d3"],
     "\[LineSeparator]returns an association whose keys are the numbers from ",
     Cell[BoxData[
      StyleBox["m", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "c865579c-2dfd-4db5-9647-89c33843c4e6"],
     " to ",
     Cell[BoxData[
      StyleBox["n", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "f5eadd1e-8855-43df-a41e-a1a6a359733d"],
     " and the values are the unitary matrices corresponding to the numbers \
of particles."
    }],ExpressionUUID->"8035bbc0-b14f-408c-bd2d-d3e0eef5e5ba"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3S/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        StyleBox["n", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "77dae9d1-abaa-4682-bc8a-0ed55eeeb6f0"],
     "\[LineSeparator]is equivalent to ",
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3S/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          StyleBox["n", "TI"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "bd19173e-3364-4dd6-8550-85e4f608eb85"],
     "."
    }],ExpressionUUID->"a525c8c0-7015-4321-b0f4-d1db21b20ba4"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3S/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        StyleBox["nspec", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["k", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["k", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "1320b388-bf7c-4be6-9a5d-1d293ad5c416"],
     "\[LineSeparator]assumes that the basis states only have occupation \
numbers in ",
     Cell[BoxData[
      RowBox[{"{", 
       RowBox[{
        SubscriptBox[
         StyleBox["k", "TI"], 
         StyleBox["1", "TR"]], ",", 
        SubscriptBox[
         StyleBox["k", "TI"], 
         StyleBox["2", "TR"]], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "}"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "9bc00143-53c7-40f1-9b48-f84510d82e95"],
     "."
    }],ExpressionUUID->"ebfe6935-f6a0-4fca-8163-8e9ba2c8256c"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3S/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            SubscriptBox[
             StyleBox["p", "TI"], 
             StyleBox["11", "TR"]], ",", 
            SubscriptBox[
             StyleBox["p", "TI"], 
             StyleBox["12", "TR"]], ",", 
            StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            SubscriptBox[
             StyleBox["p", "TI"], 
             StyleBox["21", "TR"]], ",", 
            SubscriptBox[
             StyleBox["p", "TI"], 
             StyleBox["22", "TR"]], ",", 
            StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "22ac6d49-a89d-49ed-a901-61e8d7b1b08d"],
     "\[LineSeparator]refers to ",
     Cell[BoxData[
      SubscriptBox[
       StyleBox["p", "TI"], 
       StyleBox["ij", "TI"]]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "f007feda-967a-4df2-a933-4832c1e95bcf"],
     " for the occupation number of ",
     Cell[BoxData[
      StyleBox["j", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "968d7195-ab02-4048-a87c-4cea6bc324d0"],
     "-th mode in the ",
     Cell[BoxData[
      StyleBox["i", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "f438198e-450f-4b54-ad07-7b63dc1572df"],
     "-th many-body basis state for the both sets of boson modes."
    }],ExpressionUUID->"bf105671-8884-4c69-9e53-9e28ea050963"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3S/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          StyleBox["pmat", "TI"], ",", 
          StyleBox["qmat", "TI"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "81755ecf-459f-4d58-ab00-42d969a1905f"],
     "\[LineSeparator]refers to ",
     Cell[BoxData[
      StyleBox["pmat", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "c8aac386-2b8f-428a-af70-1b13a85e978c"],
     " and ",
     Cell[BoxData[
      StyleBox["qmat", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "be49dbd1-0c8c-4fe6-8490-816079d77624"],
     " for the occupation numbers of the first and second set of boson modes, \
respectively."
    }],ExpressionUUID->"f7ec41b9-7e5a-4364-9372-72a02bfaaf6a"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3S/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        StyleBox["bs", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "e286ae1c-11e2-4806-9d45-7262d5291db5"],
     " or ",
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["BosonBasisChange"]], 
         "paclet:QuantumMob/Q3S/ref/BosonBasisChange", 
         "QuantumMob Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["mat", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["bs", "TI"], 
           StyleBox["a", "TI"]], ",", 
          SubscriptBox[
           StyleBox["bs", "TI"], 
           StyleBox["b", "TI"]]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "ece2b1c0-b86b-46b6-b81a-26f8e7ef3565"],
     "\[LineSeparator]refers to the same basis ",
     Cell[BoxData[
      StyleBox["bs", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "e2b97132-f3e5-4eda-8412-bc27f9271420"],
     " or respective bases ",
     Cell[BoxData[
      SubscriptBox[
       StyleBox["bs", "TI"], 
       StyleBox["a", "TI"]]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "831eea62-eb1f-4251-8e3d-23b53eb76cd1"],
     " and ",
     Cell[BoxData[
      SubscriptBox[
       StyleBox["bs", "TI"], 
       StyleBox["b", "TI"]]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "a4fc5e3b-9cef-494b-afcd-3414a1df6357"],
     " for the occupation numbers of the two sets of boson modes."
    }],ExpressionUUID->"ee3dd440-eb4a-42b5-a3b2-803f50a00067"]}
  }]], "Usage",
 CellID->1362242420,ExpressionUUID->"c48acd75-44e1-469a-8f3d-edf6c1939750"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{
      13.600000000000001`, {-0.1685058593749993, 13.768505859375}}]],
    ExpressionUUID->"ac2d9b1c-9171-4b79-8ef2-134a39c64f4d"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"c0e02dae-6ae7-43bc-95ac-8e95a55386df"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"b14b7298-3ed1-4e0d-b3a4-2123042d0f82"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"bab7d230-c90e-484f-a156-d7c2ae9e132d"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->898021844,ExpressionUUID->"a6a8c42e-115a-4c1a-9bc0-62bc0443e7d5"],

Cell[TextData[{
 "The unitary matrix ",
 Cell[BoxData[
  StyleBox["mat", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "6c1e84bf-a520-4bb1-9949-6f8c377c667a"],
 ", denoted by ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["U", 
    RowBox[{"m", "\[Times]", "m"}]], TraditionalForm]],ExpressionUUID->
  "5d6af768-2917-426e-8cdd-d28d43454dcd"],
 ", describes a canonical transformation from one set of ",
 Cell[BoxData[
  StyleBox["m", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "3ea8a6a0-ed68-4aa3-85a5-f6b74630925e"],
 " bosonic modes ",
 Cell[BoxData[
  SubscriptBox[
   StyleBox["a", "TI"], 
   StyleBox["i", "TI"]]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "3cd8d248-a3a7-461e-8ff0-b6fac50bd922"],
 " to another of ",
 Cell[BoxData[
  SubscriptBox[
   StyleBox["b", "TI"], 
   StyleBox["j", "TI"]]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "3607cc8a-7a6b-45cf-85ad-881ae23bb59a"],
 " by ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubsuperscriptBox["b", "j", "\[Dagger]"], "=", 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"i", "=", "1"}], "m"], 
     RowBox[{
      SubsuperscriptBox["a", "i", "\[Dagger]"], 
      SubscriptBox["U", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}]]}]}]}], TraditionalForm]],
  ExpressionUUID->"599b6e1c-6e34-4645-b424-91d961bd8734"],
 ",  or equivalently,  ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["b", "i"], "=", 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"j", "=", "1"}], "m"], 
     RowBox[{
      SubsuperscriptBox["U", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}], "\[Dagger]"], 
      SubscriptBox["a", "j"]}]}]}], TraditionalForm]],ExpressionUUID->
  "f462f7c5-7914-481a-9411-b0174d444324"],
 "."
}], "Notes",
 CellID->885192273,ExpressionUUID->"ef331946-a381-4388-aada-56c82d96a858"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.251494140625001, 9.348505859375}}]],
  ExpressionUUID->"af591c84-b71f-4ec9-85a0-1800d4b627c3"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"94af5676-6c04-4c52-885c-b7e2983babcc"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(3)", "ExampleCount",ExpressionUUID->
  "8822e684-8af0-4741-b2ec-e9d2625470c0"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->538060992,ExpressionUUID->"60cfa974-e7ab-462c-aa17-0bf0c01b18f1"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<QuantumMob`Q3S`\>\"", "]"}]], "Input", \
"ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->246560494,ExpressionUUID->"00427fec-d980-430f-ad78-6086f51e28f7"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.551318359375001, 9.048681640625}}]],
  ExpressionUUID->"2fae2447-50fa-4c06-beae-3e56f85012ea"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"38d0b6df-e193-416e-b4d2-1352d6c07e4c"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "88169740-a47f-4c8e-9ed4-6d27a9444cf3"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->137455027,ExpressionUUID->"a0369503-db81-417d-88f8-b27d4a279e2f"],

Cell[TextData[{
 "Consider two sets of ",
 StyleBox["m",
  FontSlant->"Italic"],
 " bosonic modes describing the same system. Typically, one set consists of \
the bare mores and the other, the normal modes."
}], "ExampleText",
 CellID->899584544,ExpressionUUID->"3dec2cbe-9e06-4520-bcce-d966a334f4b9"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"$m", "=", "3"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "number", " ", "of", " ", "modes"}], " ", 
   "*)"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[1]:=",
 CellID->766874085,ExpressionUUID->"1041fbe5-32b0-4a74-b159-54d85765ce2d"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a", ",", "b"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[2]:=",
 CellID->652243378,ExpressionUUID->"70ecfc12-2a1b-43c9-9628-1471db51765f"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aa", "=", 
  RowBox[{"a", "[", 
   RowBox[{"Range", "@", "$m"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"bb", "=", 
  RowBox[{"b", "[", 
   RowBox[{"Range", "@", "$m"}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[3]:=",
 CellID->1535286693,ExpressionUUID->"2d8e2ff2-2657-4e3a-8428-2a3e82a97dde"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`a[3]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1576942621,ExpressionUUID->"fede9a3e-71c0-4e93-a5f2-3c3d6500dd99"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`b[1]], ",", 
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`b[2]], ",", 
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`b[3]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1578943520,ExpressionUUID->"73a32584-4ca1-4ea3-9680-8e35227438c6"]
}, Open  ]],

Cell[TextData[{
 "Consider a canonical transformation from one set of bosonic modes to \
another, ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubsuperscriptBox["b", "j", "\[Dagger]"], "=", 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"i", "=", "1"}], "m"], 
     RowBox[{
      SubsuperscriptBox["a", "i", "\[Dagger]"], 
      SubscriptBox["U", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}]]}]}]}], TraditionalForm]],
  ExpressionUUID->"f4029135-8855-4880-b14b-a4f09a410f17"],
 ", or equivalently, ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["b", "i"], "=", 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"j", "=", "1"}], "m"], 
     RowBox[{
      SubsuperscriptBox["U", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}], "\[Dagger]"], 
      SubscriptBox["a", "j"]}]}]}], TraditionalForm]],ExpressionUUID->
  "dd199f7a-802f-4b25-bcc8-09630c142e68"],
 "."
}], "ExampleText",
 CellID->629436858,ExpressionUUID->"4e9d5460-1245-49be-bc67-301b8e400446"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SeedRandom", "[", "351", "]"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[4]:=",
 CellID->1888739657,ExpressionUUID->"392661d2-0bd6-42b7-9d57-1338cdf3a60a"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"RandomUnitary", "[", "$m", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[5]:=",
 CellID->11107004,ExpressionUUID->"11dddbc4-a412-4853-81e5-b8cff81ba8d4"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"0.4191284361691052`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.6117560686759916`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.5861615594437507`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.12627636363737033`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.2889187746613189`"}], "+", 
       RowBox[{"0.08414698032449486`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.168578059913452`"}], "+", 
       RowBox[{"0.4919636264922742`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.2521003326969526`"}], "-", 
       RowBox[{"0.587585682717477`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.4378678821476611`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.35918440031191584`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.4224341714848938`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.034474122451396076`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.21992710304705768`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.4281231870406507`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.7418577137282683`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.19583320527538056`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[5]//MatrixForm=",
 CellID->485383721,ExpressionUUID->"ea42ad06-6c5f-45f2-b9d2-b8251b82f944"]
}, Open  ]],

Cell[TextData[{
 "Suppose that you are interested in the subspace of ",
 StyleBox["n",
  FontSlant->"Italic"],
 " particles."
}], "ExampleText",
 CellID->538544441,ExpressionUUID->"3e1113ef-c80f-4497-a811-9340791c93dd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$n", "=", "2"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[6]:=",
 CellID->554860242,ExpressionUUID->"f1834c2c-8194-41c5-af96-fc5812948147"],

Cell["\<\
The relevant bases in terms of two different sets of modes are as follows.\
\>", "ExampleText",
 CellID->1920304077,ExpressionUUID->"1c48075f-5edf-481d-be46-519cb52c000e"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"as", "=", 
  RowBox[{"BosonBasis", "[", 
   RowBox[{"aa", ",", 
    RowBox[{"{", "$n", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"bs", "=", 
  RowBox[{"BosonBasis", "[", 
   RowBox[{"bb", ",", 
    RowBox[{"{", "$n", "}"}]}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[7]:=",
 CellID->1633870097,ExpressionUUID->"e3a17528-bb2d-4c43-a524-3bf2c3b4be7d"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
      2|>]]}], "}"}]], "Output",
 CellLabel->"Out[7]=",
 CellID->838098472,ExpressionUUID->"77758472-eb99-486c-abba-8331fffe9e5f"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 2, $CellContext`b[2] -> 0, $CellContext`b[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 1, $CellContext`b[2] -> 1, $CellContext`b[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 1, $CellContext`b[2] -> 0, $CellContext`b[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 0, $CellContext`b[2] -> 2, $CellContext`b[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 0, $CellContext`b[2] -> 1, $CellContext`b[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["2", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 0, $CellContext`b[2] -> 0, $CellContext`b[3] -> 
      2|>]]}], "}"}]], "Output",
 CellLabel->"Out[7]=",
 CellID->575778231,ExpressionUUID->"c21b35b5-2efa-4ae9-a6e1-924e4184e52d"]
}, Open  ]],

Cell[TextData[{
 "Calculate the unitary transformation matrix ",
 Cell[BoxData[
  FormBox["T", TraditionalForm]],ExpressionUUID->
  "04726ec5-d43e-425e-885f-49203ca40e06"],
 " between these bases: ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox[
     TemplateBox[{"j"},
      "Ket"], "b"], ":=", 
    RowBox[{
     UnderscriptBox["\[Sum]", "i"], 
     RowBox[{
      SubscriptBox[
       TemplateBox[{"i"},
        "Ket"], "a"], 
      SubscriptBox["T", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}]]}]}]}], TraditionalForm]],
  ExpressionUUID->"0513e33e-855d-4a70-b793-22b1b1455614"],
 "."
}], "ExampleText",
 CellID->2129672373,ExpressionUUID->"8a51be32-5070-49a2-8e9c-6ec1fb0caa77"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", 
     RowBox[{"{", "$n", "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"trs", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[8]:=",
 CellID->1631252586,ExpressionUUID->"b363ed2d-e700-47f3-8994-746a191a4a51"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"-", "0.19857684155634492`"}], "+", 
       RowBox[{"0.5128087287622562`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.4566881808087296`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.43227117110224134`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.24405295588932302`"}], "-", 
       RowBox[{"0.20008211665616923`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.3276396537560523`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.14803670046113426`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.2244743071976545`"}], "+", 
       RowBox[{"0.12134990038745952`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.07639334405406703`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.048623284893606324`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.525546639610581`"}], "+", 
       RowBox[{"0.14575916533166222`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.2171060883769842`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.0908401858661016`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.41056423026395295`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.03899892465170096`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.3139125707667611`"}], "-", 
       RowBox[{"0.4420631156714774`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.333584900780444`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.1172813984018854`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.13616609523411619`"}], "+", 
       RowBox[{"0.19886724412884488`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.280217829290626`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3450364067803739`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.07353215085545262`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2404294853996061`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.31158754529353894`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.4172634745228263`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.2587652357502606`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.315621015170005`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.3105530267991724`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3136556164119837`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.27981325312736616`"}], "+", 
       RowBox[{"0.16829845125673198`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.21360964750724648`"}], "-", 
       RowBox[{"0.16586854740410745`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.46890989756572976`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.03531310991837402`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.14550948290070728`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3902744082280407`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.2817023567886494`"}], "+", 
       RowBox[{"0.29626109220208396`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.45458233239694923`"}], "-", 
       RowBox[{"0.23579803799054824`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.06271484878904743`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3145506253301126`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.07672549636379375`"}], "+", 
       RowBox[{"0.3021238564273962`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.3744482159866003`"}], "-", 
       RowBox[{"0.2035013744120169`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.14386966875864976`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.23115331745622814`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.27734900090780473`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3353892526419486`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.05201717903027547`"}], "-", 
       RowBox[{"0.2780683464097147`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.35991089371262064`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.49810410286173734`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.17726216411933482`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.029126094710848555`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.152259740115085`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.24504371127569793`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.4336471929249817`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.15316149465089865`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.13492153262717288`"}], "+", 
       RowBox[{"0.1883117845462479`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.3493041792214004`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.38825459820187286`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.5120022231297038`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.2905607478753449`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[8]//MatrixForm=",
 CellID->1883907159,ExpressionUUID->"a2924993-b3e9-4481-8fbd-82b9c9d1215a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"trs", ".", 
    RowBox[{"Topple", "[", "trs", "]"}]}], "//", "Chop"}], "//", 
  "MatrixForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Topple", "[", "trs", "]"}], ".", "trs"}], "//", "Chop"}], "//", 
  "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[9]:=",
 CellID->1586342386,ExpressionUUID->"961c4214-2e84-4dff-867d-791aaf17de9f"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1.0000000000000007`", "0", "0", "0", "0", "0"},
     {"0", "1.`", "0", "0", "0", "0"},
     {"0", "0", "1.0000000000000007`", "0", "0", "0"},
     {"0", "0", "0", "0.9999999999999994`", "0", "0"},
     {"0", "0", "0", "0", "0.9999999999999999`", "0"},
     {"0", "0", "0", "0", "0", "1.`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[9]//MatrixForm=",
 CellID->1377478106,ExpressionUUID->"7a6ba953-5ca4-4761-b913-a04ffe74c22c"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1.0000000000000004`", "0", "0", "0", "0", "0"},
     {"0", "1.`", "0", "0", "0", "0"},
     {"0", "0", "1.`", "0", "0", "0"},
     {"0", "0", "0", "1.`", "0", "0"},
     {"0", "0", "0", "0", "0.9999999999999998`", "0"},
     {"0", "0", "0", "0", "0", "1.`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[9]//MatrixForm=",
 CellID->1400812882,ExpressionUUID->"c6a966d9-7e41-4600-bbd6-d0edcd275078"]
}, Open  ]],

Cell["\<\
Now, let us verify the above unitary matrix by manually constructing the \
canonical transformation.\
\>", "ExampleText",
 CellID->1291576865,ExpressionUUID->"5d3caf54-fc90-40b5-a799-c87929e2e3de"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"rls", "=", 
  RowBox[{"TransformBy", "[", 
   RowBox[{
    RowBox[{"bb", "->", "aa"}], ",", 
    RowBox[{"Topple", "@", "mat"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[10]:=",
 CellID->1666517005,ExpressionUUID->"7a077f70-1a50-4b3c-bb35-aa8e7f5d2a06"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    InterpretationBox[
     SubscriptBox["b", 
      TemplateBox[{",", "\",\"", "1"},
       "RowWithSeparators"]],
     $CellContext`b[1]], "\[Rule]", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.4191284361691052`", "\[VeryThinSpace]", "-", 
        RowBox[{"0.6117560686759916`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`a[1]]}], "-", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.168578059913452`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.4919636264922742`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`a[2]]}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.4224341714848938`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.034474122451396076`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "3"},
         "RowWithSeparators"]],
       $CellContext`a[3]]}]}]}], ",", 
   RowBox[{
    InterpretationBox[
     SubscriptBox["b", 
      TemplateBox[{",", "\",\"", "2"},
       "RowWithSeparators"]],
     $CellContext`b[2]], "\[Rule]", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.5861615594437507`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.12627636363737033`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`a[1]]}], "-", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.2521003326969526`", "\[VeryThinSpace]", "-", 
        RowBox[{"0.587585682717477`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`a[2]]}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.21992710304705768`", "\[VeryThinSpace]", "-", 
        RowBox[{"0.4281231870406507`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "3"},
         "RowWithSeparators"]],
       $CellContext`a[3]]}]}]}], ",", 
   RowBox[{
    InterpretationBox[
     SubscriptBox["b", 
      TemplateBox[{",", "\",\"", "3"},
       "RowWithSeparators"]],
     $CellContext`b[3]], "\[Rule]", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", "0.2889187746613189`"}], "-", 
        RowBox[{"0.08414698032449486`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"},
         "RowWithSeparators"]],
       $CellContext`a[1]]}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.4378678821476611`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.35918440031191584`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "2"},
         "RowWithSeparators"]],
       $CellContext`a[2]]}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"0.7418577137282683`", "\[VeryThinSpace]", "+", 
        RowBox[{"0.19583320527538056`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
      
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "3"},
         "RowWithSeparators"]],
       $CellContext`a[3]]}]}]}]}], "}"}]], "Output",
 CellLabel->"Out[10]=",
 CellID->2130789801,ExpressionUUID->"ba22ec43-492a-47c6-ac40-58a4db2778ea"]
}, Open  ]],

Cell[TextData[{
 "The basis for the ",
 StyleBox["b",
  FontSlant->"Italic"],
 "-modes can be rewritten as follows."
}], "ExampleText",
 CellID->116787747,ExpressionUUID->"5e95d3b6-cb9b-43c0-abe4-97f7aef5ece6"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"bs2", "=", 
  RowBox[{"FockCat", "[", "bs", "]"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[11]:=",
 CellID->614657339,ExpressionUUID->"5d05ae56-cab3-41eb-9c0f-c4d8e2be21d0"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   FractionBox[
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          Q3`Dagger[
           $CellContext`b[1]]], 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          Q3`Dagger[
           $CellContext`b[1]]], 
         InterpretationBox[
          TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
          Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
      "RowDefault"],
     Q3`Multiply[
      Q3`Dagger[
       $CellContext`b[1]], 
      Q3`Dagger[
       $CellContext`b[1]], 
      Ket[Q3`Vacuum]]], 
    SqrtBox["2"]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`b[1]]], 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`b[2]]], 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
         Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[
      $CellContext`b[1]], 
     Q3`Dagger[
      $CellContext`b[2]], 
     Ket[Q3`Vacuum]]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`b[1]]], 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`b[3]]], 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
         Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[
      $CellContext`b[1]], 
     Q3`Dagger[
      $CellContext`b[3]], 
     Ket[Q3`Vacuum]]], ",", 
   FractionBox[
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          Q3`Dagger[
           $CellContext`b[2]]], 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          Q3`Dagger[
           $CellContext`b[2]]], 
         InterpretationBox[
          TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
          Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
      "RowDefault"],
     Q3`Multiply[
      Q3`Dagger[
       $CellContext`b[2]], 
      Q3`Dagger[
       $CellContext`b[2]], 
      Ket[Q3`Vacuum]]], 
    SqrtBox["2"]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`b[2]]], 
        InterpretationBox[
         TemplateBox[{"b", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`b[3]]], 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
         Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[
      $CellContext`b[2]], 
     Q3`Dagger[
      $CellContext`b[3]], 
     Ket[Q3`Vacuum]]], ",", 
   FractionBox[
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          Q3`Dagger[
           $CellContext`b[3]]], 
         InterpretationBox[
          TemplateBox[{"b", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            
            TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
             "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
           SubsuperscriptBox], 
          Q3`Dagger[
           $CellContext`b[3]]], 
         InterpretationBox[
          TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
          Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
      "RowDefault"],
     Q3`Multiply[
      Q3`Dagger[
       $CellContext`b[3]], 
      Q3`Dagger[
       $CellContext`b[3]], 
      Ket[Q3`Vacuum]]], 
    SqrtBox["2"]]}], "}"}]], "Output",
 CellLabel->"Out[11]=",
 CellID->886073432,ExpressionUUID->"4b840c75-347b-4c50-aa2a-6ecbf0281031"]
}, Open  ]],

Cell[TextData[{
 "Rewrite the above basis in terms of the basis for the ",
 StyleBox["a",
  FontSlant->"Italic"],
 "-modes."
}], "ExampleText",
 CellID->1021926066,ExpressionUUID->"d4353539-2d3a-4805-8dff-56d4a10cec0e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"alt", "=", 
  RowBox[{"Garner", "@", 
   RowBox[{"FockKet", "[", 
    RowBox[{"bs2", "/.", "rls"}], "]"}]}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[12]:=",
 CellID->333871968,ExpressionUUID->"cdf650c7-ce45-4ef8-807e-a894832324fb"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.17726216411933482`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.029126094710848555`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.07672549636379374`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.30212385642739614`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.21360964750724648`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.16586854740410745`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.28021782929062594`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.34503640678037384`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.525546639610581`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.14575916533166222`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.19857684155634492`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.5128087287622562`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.15225974011508503`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.24504371127569796`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3744482159866003`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2035013744120169`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4689098975657298`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.035313109918374025`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.07353215085545262`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2404294853996061`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2171060883769842`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.0908401858661016`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4566881808087297`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.43227117110224145`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4336471929249818`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.15316149465089868`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.14386966875864976`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.23115331745622814`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.1455094829007073`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.39027440822804077`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.31158754529353894`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.4172634745228263`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.41056423026395295`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.03899892465170096`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.24405295588932305`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.20008211665616926`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"-", "0.13492153262717288`"}], "+", 
       RowBox[{"0.1883117845462479`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.27734900090780473`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3353892526419485`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2817023567886494`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.29626109220208396`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2587652357502606`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.31562101517000496`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.31391257076676105`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.4420631156714773`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3276396537560523`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.14803670046113426`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.34930417922140045`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.38825459820187297`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.05201717903027547`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2780683464097147`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4545823323969493`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.23579803799054827`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3105530267991724`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3136556164119837`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.333584900780444`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.1172813984018854`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.22447430719765452`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.12134990038745953`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.5120022231297038`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.2905607478753449`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3599108937126206`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.4981041028617373`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.06271484878904743`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3145506253301126`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2798132531273661`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.16829845125673196`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.13616609523411616`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.19886724412884485`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.07639334405406703`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.048623284893606324`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}]}], "}"}]], "Output",
 CellLabel->"Out[12]=",
 CellID->1427887177,ExpressionUUID->"1b0b3c32-b7e1-4338-943f-1e7a3a8677b3"]
}, Open  ]],

Cell[TextData[{
 "Compare the above expressions with the ones obtained by using the unitary \
matrix from ",
 StyleBox["BosonBasisChange", "Input"],
 "."
}], "ExampleText",
 CellID->977125870,ExpressionUUID->"117b5044-7011-4f88-aa10-cc80c6d73e34"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mint", "=", 
  RowBox[{"as", ".", "trs"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[13]:=",
 CellID->2127017166,ExpressionUUID->"7f2b3cac-dbc5-4b4a-a6e5-c6708fce712e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.17726216411933482`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.029126094710848555`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.07672549636379375`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3021238564273962`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.21360964750724648`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.16586854740410745`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.280217829290626`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3450364067803739`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.525546639610581`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.14575916533166222`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.19857684155634492`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.5128087287622562`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.152259740115085`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.24504371127569793`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3744482159866003`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2035013744120169`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.46890989756572976`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.03531310991837402`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.07353215085545262`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2404294853996061`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2171060883769842`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.0908401858661016`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4566881808087296`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.43227117110224134`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.4336471929249817`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.15316149465089865`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.14386966875864976`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.23115331745622814`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.14550948290070728`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3902744082280407`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.31158754529353894`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.4172634745228263`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.41056423026395295`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.03899892465170096`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.24405295588932302`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.20008211665616923`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"-", "0.13492153262717288`"}], "+", 
       RowBox[{"0.1883117845462479`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.27734900090780473`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3353892526419486`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2817023567886494`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.29626109220208396`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2587652357502606`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.315621015170005`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3139125707667611`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.4420631156714774`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3276396537560523`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.14803670046113426`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3493041792214004`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.38825459820187286`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.05201717903027547`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2780683464097147`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.45458233239694923`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.23579803799054824`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.3105530267991724`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3136556164119837`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.333584900780444`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.1172813984018854`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.2244743071976545`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.12134990038745952`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.5120022231297038`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.2905607478753449`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        2|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.35991089371262064`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.49810410286173734`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        1|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.06271484878904743`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3145506253301126`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 2, $CellContext`a[3] -> 
        0|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.27981325312736616`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.16829845125673198`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        1|>]]}], "-", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.13616609523411619`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.19886724412884488`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["1", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
        0|>]]}], "+", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"0.07639334405406703`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.048623284893606324`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
     
     InterpretationBox[
      TemplateBox[{
        TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
          SubscriptBox["2", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
              $CellContext`a[1]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
              $CellContext`a[2]]}, "RowWithSeparators"]], 
          SubscriptBox["0", 
           TemplateBox[{",", "\",\"", 
             InterpretationBox[
              SubscriptBox["a", 
               TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
              $CellContext`a[3]]}, "RowWithSeparators"]]}, 
         "RowWithSeparators"]},
       "Ket"],
      Ket[<|$CellContext`a[1] -> 2, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
        0|>]]}]}]}], "}"}]], "Output",
 CellLabel->"Out[13]=",
 CellID->1719341274,ExpressionUUID->"08deea5b-ce2b-4423-b3ab-d2c7f4447cbb"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"mint", "-", "alt"}], "//", "Chop"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[14]:=",
 CellID->1423053347,ExpressionUUID->"44cb3d73-5bb2-4067-9ffe-36459655dfc1"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], 
  "}"}]], "Output",
 CellLabel->"Out[14]=",
 CellID->1792594393,ExpressionUUID->"d9cd80b5-52da-453e-961e-e97b8b092f7c"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"tt", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "$n"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "/@", "tt"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[15]:=",
 CellID->332562170,ExpressionUUID->"f909b921-e3f8-41f7-8440-1ca9e03504ed"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{"0", "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {"1"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}], ",", 
   RowBox[{"1", "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {
         RowBox[{"0.4191284361691052`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.6117560686759916`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.5861615594437507`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.12627636363737033`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.2889187746613189`"}], "+", 
          RowBox[{"0.08414698032449486`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{
          RowBox[{"-", "0.168578059913452`"}], "+", 
          RowBox[{"0.4919636264922742`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.2521003326969526`"}], "-", 
          RowBox[{"0.587585682717477`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.4378678821476611`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.35918440031191584`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{"0.4224341714848938`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.034474122451396076`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.21992710304705768`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.4281231870406507`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.7418577137282683`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.19583320527538056`", " ", "\[ImaginaryI]"}]}]}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}], ",", 
   RowBox[{"2", "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {
         RowBox[{
          RowBox[{"-", "0.19857684155634492`"}], "+", 
          RowBox[{"0.5128087287622562`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.4566881808087296`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.43227117110224134`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.24405295588932302`"}], "-", 
          RowBox[{"0.20008211665616923`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.3276396537560523`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.14803670046113426`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.2244743071976545`"}], "+", 
          RowBox[{"0.12134990038745952`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.07639334405406703`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.048623284893606324`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{
          RowBox[{"-", "0.525546639610581`"}], "+", 
          RowBox[{"0.14575916533166222`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.2171060883769842`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.0908401858661016`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.41056423026395295`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.03899892465170096`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.3139125707667611`"}], "-", 
          RowBox[{"0.4420631156714774`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.333584900780444`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.1172813984018854`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.13616609523411619`"}], "+", 
          RowBox[{"0.19886724412884488`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{"0.280217829290626`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.3450364067803739`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.07353215085545262`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.2404294853996061`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.31158754529353894`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.4172634745228263`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.2587652357502606`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.315621015170005`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.3105530267991724`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.3136556164119837`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.27981325312736616`"}], "+", 
          RowBox[{"0.16829845125673198`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{
          RowBox[{"-", "0.21360964750724648`"}], "-", 
          RowBox[{"0.16586854740410745`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.46890989756572976`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.03531310991837402`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.14550948290070728`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.3902744082280407`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.2817023567886494`"}], "+", 
          RowBox[{"0.29626109220208396`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.45458233239694923`"}], "-", 
          RowBox[{"0.23579803799054824`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.06271484878904743`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.3145506253301126`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{
          RowBox[{"-", "0.07672549636379375`"}], "+", 
          RowBox[{"0.3021238564273962`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.3744482159866003`"}], "-", 
          RowBox[{"0.2035013744120169`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.14386966875864976`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.23115331745622814`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.27734900090780473`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.3353892526419486`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.05201717903027547`"}], "-", 
          RowBox[{"0.2780683464097147`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.35991089371262064`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.49810410286173734`", " ", "\[ImaginaryI]"}]}]},
        {
         RowBox[{"0.17726216411933482`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.029126094710848555`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.152259740115085`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.24504371127569793`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.4336471929249817`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.15316149465089865`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{
          RowBox[{"-", "0.13492153262717288`"}], "+", 
          RowBox[{"0.1883117845462479`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.3493041792214004`", "\[VeryThinSpace]", "+", 
          RowBox[{"0.38825459820187286`", " ", "\[ImaginaryI]"}]}], 
         RowBox[{"0.5120022231297038`", "\[VeryThinSpace]", "-", 
          RowBox[{"0.2905607478753449`", " ", "\[ImaginaryI]"}]}]}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}]}], "\[RightAssociation]"}]], "Output",
 CellLabel->"Out[15]=",
 CellID->1200774876,ExpressionUUID->"3c59fa55-36d5-4c5a-b7aa-40a193517051"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {0.43114257812500156`, 13.168857421875}}]],
  ExpressionUUID->"aa55f75d-0f27-418f-b56a-159fd4505825"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"f7b3d9f0-df05-4c08-99da-4f9f40eb79b9"],
 "Scope",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "d3c25c6d-350c-49a8-9b45-751bf3f242e3"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1094006675,ExpressionUUID->"f2881dc1-cecb-4754-a179-9131123bd344"],

Cell["\<\
If you are sure, say based on certain physical grounds, that some many-body \
basis states are more relevant than others, you can restrict the involved \
basis states in several ways by adjusting the input arguments.\
\>", "ExampleText",
 CellID->1293372040,ExpressionUUID->"ba73ca7a-4a08-4b8f-921b-e697304f1cb6"],

Cell["\<\
Let us examine examples by considering two sets of bosonic modes related by a \
canonical transformation.\
\>", "ExampleText",
 CellID->998156305,ExpressionUUID->"2f23b915-ea23-4dfa-9766-30d76b266089"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"$m", "=", "3"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "number", " ", "of", " ", "modes"}], " ", 
   "*)"}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[1]:=",
 CellID->1933974453,ExpressionUUID->"ebb98ba8-bfac-41b1-9970-942b87b04e71"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a", ",", "b"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[2]:=",
 CellID->2143634226,ExpressionUUID->"9f050ddf-a5cf-4856-966b-326098fa3959"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aa", "=", 
  RowBox[{"a", "[", 
   RowBox[{"Range", "@", "$m"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"bb", "=", 
  RowBox[{"b", "[", 
   RowBox[{"Range", "@", "$m"}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[3]:=",
 CellID->1874774310,ExpressionUUID->"997beef0-f28c-405d-91e4-8cb81a937336"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`a[3]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->410914576,ExpressionUUID->"5f36920a-ae21-4a59-8c1a-11badf4b1c5d"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`b[1]], ",", 
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`b[2]], ",", 
   InterpretationBox[
    SubscriptBox["b", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`b[3]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->2081353727,ExpressionUUID->"9030ce1c-82b0-4f32-b32b-df66c35c5f63"]
}, Open  ]],

Cell["To be specific, choose a canonical transformation.", "ExampleText",
 CellID->1182235068,ExpressionUUID->"1ad8edae-76f7-4e32-b7f6-5638f0614883"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SeedRandom", "[", "351", "]"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[4]:=",
 CellID->1306085832,ExpressionUUID->"737d61fc-6e3e-453d-8282-c97f1ff1cfcc"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"RandomUnitary", "[", "$m", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[5]:=",
 CellID->1954222437,ExpressionUUID->"547eda93-de49-43a3-a8e0-10e066bb1798"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"0.4191284361691052`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.6117560686759916`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.5861615594437507`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.12627636363737033`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.2889187746613189`"}], "+", 
       RowBox[{"0.08414698032449486`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.168578059913452`"}], "+", 
       RowBox[{"0.4919636264922742`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.2521003326969526`"}], "-", 
       RowBox[{"0.587585682717477`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.4378678821476611`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.35918440031191584`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.4224341714848938`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.034474122451396076`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.21992710304705768`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.4281231870406507`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.7418577137282683`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.19583320527538056`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[5]//MatrixForm=",
 CellID->298107144,ExpressionUUID->"c4caa6fc-6350-4a49-81e0-720ebc102320"]
}, Open  ]],

Cell[TextData[{
 "Suppose that you are interested in the subspace of ",
 StyleBox["n",
  FontSlant->"Italic"],
 " particles."
}], "ExampleText",
 CellID->1938593701,ExpressionUUID->"4c3a9c59-e0df-4170-a2e0-35cc1bdbc897"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$n", "=", "2"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[6]:=",
 CellID->322440423,ExpressionUUID->"b5f0f2ca-d909-42f4-92db-d409cee33195"],

Cell["\<\
Restrict the relevant many-body basis states by allowing only  0 or 1 for the \
occupation numbers.\
\>", "ExampleText",
 CellID->1154947980,ExpressionUUID->"0fc770b6-a29c-496a-a359-828f0bd93f51"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"as", "=", 
  RowBox[{"BosonBasis", "[", 
   RowBox[{"aa", ",", 
    RowBox[{"{", "$n", "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"bs", "=", 
  RowBox[{"BosonBasis", "[", 
   RowBox[{"bb", ",", 
    RowBox[{"{", "$n", "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[7]:=",
 CellID->106014627,ExpressionUUID->"80cbb7b6-eebc-4e8c-a6bc-ce42608585b7"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 1, $CellContext`a[2] -> 0, $CellContext`a[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`a[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`a[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["a", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`a[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`a[1] -> 0, $CellContext`a[2] -> 1, $CellContext`a[3] -> 
      1|>]]}], "}"}]], "Output",
 CellLabel->"Out[7]=",
 CellID->181732466,ExpressionUUID->"c2279d45-81d3-4b3a-ab90-f52de5037582"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 1, $CellContext`b[2] -> 1, $CellContext`b[3] -> 
      0|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 1, $CellContext`b[2] -> 0, $CellContext`b[3] -> 
      1|>]], ",", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`b[1]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`b[2]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["b", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`b[3]]}, "RowWithSeparators"]]}, "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`b[1] -> 0, $CellContext`b[2] -> 1, $CellContext`b[3] -> 
      1|>]]}], "}"}]], "Output",
 CellLabel->"Out[7]=",
 CellID->655810028,ExpressionUUID->"83ee4c57-6e3e-438f-830e-8ba909ecddae"]
}, Open  ]],

Cell[TextData[{
 "Calculate the unitary transformation matrix ",
 Cell[BoxData[
  FormBox["T", TraditionalForm]],ExpressionUUID->
  "29cf53f2-39bb-467a-9500-759b7eaff5e2"],
 " between these bases: ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox[
     TemplateBox[{"j"},
      "Ket"], "b"], ":=", 
    RowBox[{
     UnderscriptBox["\[Sum]", "i"], 
     RowBox[{
      SubscriptBox[
       TemplateBox[{"i"},
        "Ket"], "a"], 
      SubscriptBox["T", 
       RowBox[{"i", "\[VeryThinSpace]", "j"}]]}]}]}], TraditionalForm]],
  ExpressionUUID->"ecc71c8f-35d3-4f68-8194-405e898d4283"],
 "."
}], "ExampleText",
 CellID->841215019,ExpressionUUID->"9b8f942e-0e42-40de-960b-7b37f14f0825"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", 
     RowBox[{"{", "$n", "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"trs", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[8]:=",
 CellID->1415976132,ExpressionUUID->"e09f9217-1618-472f-aedb-3022a0fbb3f2"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"0.2171060883769842`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.0908401858661016`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.41056423026395295`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.03899892465170096`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.333584900780444`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.1172813984018854`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.07353215085545262`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2404294853996061`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.31158754529353894`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.4172634745228263`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.3105530267991724`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3136556164119837`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.3744482159866003`"}], "-", 
       RowBox[{"0.2035013744120169`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.14386966875864976`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.23115331745622814`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.05201717903027547`"}], "-", 
       RowBox[{"0.2780683464097147`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[8]//MatrixForm=",
 CellID->2001471926,ExpressionUUID->"0b184b84-24ea-4de4-9ef6-2d9ec7e43f9f"]
}, Open  ]],

Cell[TextData[{
 "You can restrict the states more directly by giving custom bases as input \
arguments. In this particular case, the following three statements are \
equivalent because the bases for the two sets of bosonic modes (",
 StyleBox["a",
  FontSlant->"Italic"],
 "- and ",
 StyleBox["b",
  FontSlant->"Italic"],
 "-modes) are essentially the same (the keys of Kets in the basis are \
ignored, only occupation numbers are considered)."
}], "ExampleText",
 CellID->799020092,ExpressionUUID->"2f860d33-6a35-4ab4-a27e-3ed1ba9ae052"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "as"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "bs"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", 
     RowBox[{"{", 
      RowBox[{"as", ",", "bs"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"trs", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[9]:=",
 CellID->174508983,ExpressionUUID->"92be8731-5f50-42e4-b9b6-34f999619775"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"0.2171060883769842`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.0908401858661016`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.41056423026395295`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.03899892465170096`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.333584900780444`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.1172813984018854`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.07353215085545262`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2404294853996061`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.31158754529353894`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.4172634745228263`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.3105530267991724`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3136556164119837`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.3744482159866003`"}], "-", 
       RowBox[{"0.2035013744120169`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.14386966875864976`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.23115331745622814`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.05201717903027547`"}], "-", 
       RowBox[{"0.2780683464097147`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[9]//MatrixForm=",
 CellID->1416641195,ExpressionUUID->"f53221e9-ec97-448c-a46d-dfce5c391793"]
}, Open  ]],

Cell["\<\
The same result can be obtained by specifying the occupation numbers as well.\
\
\>", "ExampleText",
 CellID->420673980,ExpressionUUID->"2adcb34c-56cc-42f8-95c2-1c46f952e721"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"alist", "=", 
  RowBox[{"OrderedPartitions", "[", 
   RowBox[{"$n", ",", "$m", ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"blist", "=", 
  RowBox[{"OrderedPartitions", "[", 
   RowBox[{"$n", ",", "$m", ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[10]:=",
 CellID->195611649,ExpressionUUID->"25225827-9f79-45ba-838b-17dd875d6974"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", "1", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"1", ",", "0", ",", "1"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "1", ",", "1"}], "}"}]}], "}"}]], "Output",
 CellLabel->"Out[10]=",
 CellID->265393001,ExpressionUUID->"ae8928dd-9260-4faa-9fe9-854fae738250"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", "1", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"1", ",", "0", ",", "1"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "1", ",", "1"}], "}"}]}], "}"}]], "Output",
 CellLabel->"Out[10]=",
 CellID->136632988,ExpressionUUID->"ef0438b2-f7f7-4993-a69a-28fded2da225"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "alist"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", "blist"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"BosonBasisChange", "[", 
    RowBox[{"mat", ",", 
     RowBox[{"{", 
      RowBox[{"alist", ",", "blist"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"trs", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[11]:=",
 CellID->858218400,ExpressionUUID->"8d19dc04-8845-46e3-b935-efccb36f91b9"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"0.2171060883769842`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.0908401858661016`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.41056423026395295`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.03899892465170096`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.333584900780444`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.1172813984018854`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.07353215085545262`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2404294853996061`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.31158754529353894`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.4172634745228263`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.3105530267991724`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.3136556164119837`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "0.3744482159866003`"}], "-", 
       RowBox[{"0.2035013744120169`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.14386966875864976`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.23115331745622814`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{
       RowBox[{"-", "0.05201717903027547`"}], "-", 
       RowBox[{"0.2780683464097147`", " ", "\[ImaginaryI]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[11]//MatrixForm=",
 CellID->1194280227,ExpressionUUID->"48dee0c6-a624-4239-86cf-75e550655c58"]
}, Open  ]],

Cell["\<\
Note that in this case, the resulting matrix is not unitary any longer \
because is only an approximation (in this random example, it is a very bad \
approximation).\
\>", "ExampleText",
 CellID->473559800,ExpressionUUID->"9eaad06e-0df9-40be-8931-e16b3f184115"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"trs", ".", 
    RowBox[{"Topple", "[", "trs", "]"}]}], "//", "Chop"}], "//", 
  "MatrixForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Topple", "[", "trs", "]"}], ".", "trs"}], "//", "Chop"}], "//", 
  "MatrixForm"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[12]:=",
 CellID->1002436772,ExpressionUUID->"48d77c00-6236-4cb6-97b7-dbf581cd9a0b"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0.3505047087145644`", 
      RowBox[{"0.2461592623325073`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.17413473137340568`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.0025042232173008022`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.07654233593428554`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.2461592623325073`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.17413473137340568`", " ", "\[ImaginaryI]"}]}], 
      "0.5292319483727719`", 
      RowBox[{"0.13588172609088384`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.015613011963466802`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.0025042232173008022`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.07654233593428554`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.13588172609088384`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.015613011963466802`", " ", "\[ImaginaryI]"}]}], 
      "0.3357824057921718`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[12]//MatrixForm=",
 CellID->395586830,ExpressionUUID->"88d9821a-ec6a-4c6f-aaf4-fa9f207f6829"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0.30022458348061876`", 
      RowBox[{"0.11500104986133311`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.07268099742394041`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.10656578111151085`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.0006471610270881029`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.11500104986133311`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.07268099742394041`", " ", "\[ImaginaryI]"}]}], 
      "0.5154098466088791`", 
      RowBox[{"0.03565918436307264`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.2904373706124817`", " ", "\[ImaginaryI]"}]}]},
     {
      RowBox[{"0.10656578111151085`", "\[VeryThinSpace]", "-", 
       RowBox[{"0.0006471610270881029`", " ", "\[ImaginaryI]"}]}], 
      RowBox[{"0.03565918436307264`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.2904373706124817`", " ", "\[ImaginaryI]"}]}], 
      "0.3998846327900102`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[12]//MatrixForm=",
 CellID->18480698,ExpressionUUID->"def560be-e75f-4c78-b8ff-5a20fdfc4271"]
}, Open  ]],

Cell["\<\
Therefore, the restriction must be used only when one is convinced that there \
is certain physical reasons to restrict the bases.\
\>", "ExampleText",
 CellID->529714649,ExpressionUUID->"7aec6f39-4ab5-4206-a13f-080606c9b8af"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "3"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {0.43114257812500156`, 13.168857421875}}]],
  ExpressionUUID->"fe2eb1c9-9527-47a9-8dad-6cf6dfb28201"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"657b5a11-5fe4-40d4-b7ab-5248c5e2ee8d"],
 "Possible Issues",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "00979bef-5055-4415-9dfc-dc40626e80da"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->346734972,ExpressionUUID->"ccc95a38-4435-4b74-ad91-447df8043a7d"],

Cell[TextData[{
 "Technically, ",
 StyleBox["BosonBasisChange", "Input"],
 " involves the calculation of permanent, which is known to be \
computationally hard. The computational cost scales exponentially with the \
dimension of the matrix."
}], "ExampleText",
 CellID->1230739208,ExpressionUUID->"dc54988a-72d4-4447-ba52-7d31f412b5ce"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$L", "=", "9"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "number", " ", "of", " ", "modes", " ", 
    RowBox[{"(", 
     RowBox[{"1", "D", " ", "system", " ", "size"}], ")"}]}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$n", "=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"$L", "-", "1"}], ")"}], "/", "2"}]}], ";"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[1]:=",
 CellID->2023284607,ExpressionUUID->"8434dbd6-644d-4982-86ae-f204dc5e10e8"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"pp", "=", 
    RowBox[{"OrderedPartitions", "[", 
     RowBox[{"$n", ",", "$L"}], "]"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "possible", " ", "occupation", " ", "numbers", " ", "of", " ", "the", " ", 
    "bare", " ", "modes"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"qq", "=", 
    RowBox[{"OrderedPartitions", "[", 
     RowBox[{"$n", ",", "$L", ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "possible", " ", "occupation", " ", "numbers", " ", "of", " ", "the", " ", 
    "dressed", " ", "modes"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{"Length", "/@", 
  RowBox[{"{", 
   RowBox[{"pp", ",", "qq"}], "}"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[2]:=",
 CellID->2088323251,ExpressionUUID->"6daeeed7-7aac-49ff-85f9-ced54af1048a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"495", ",", "126"}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1587961278,ExpressionUUID->"859635cd-9b90-4ba2-861e-2b425c4ee40a"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"SeedRandom", "[", "351", "]"}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[3]:=",
 CellID->782728112,ExpressionUUID->"ac5acd4e-ce92-4354-b966-b0897e955e3e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"RandomUnitary", "[", "$L", "]"}]}], ";"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[4]:=",
 CellID->1974040509,ExpressionUUID->"a717b02a-7b93-440e-977e-69ace9402b70"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"trs", "=", 
    RowBox[{"BosonBasisChange", "[", 
     RowBox[{"mat", ",", 
      RowBox[{"{", 
       RowBox[{"pp", ",", "qq"}], "}"}]}], "]"}]}], ";"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[5]:=",
 CellID->1223972260,ExpressionUUID->"a02b521c-a91c-4d86-824c-d2ce93890849"],

Cell[BoxData["4.114736`"], "EchoTiming",
 CellID->1670623238,ExpressionUUID->"b2017646-6bbb-4725-a355-01d34124f6e6"]
}, Open  ]],

Cell["Elementary check-ups.", "ExampleText",
 CellID->1780247599,ExpressionUUID->"2a1d3b79-5b4e-41bc-bcfb-b86ad9963a1b"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Dimensions", "[", "trs", "]"}], "\[IndentingNewLine]", 
 RowBox[{"DeleteCases", "[", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"Topple", "[", "trs", "]"}], ".", "trs"}], "-", 
      RowBox[{"One", "[", 
       RowBox[{"Length", "@", "qq"}], "]"}]}], "//", "Flatten"}], "//", 
    "Chop"}], ",", "0"}], "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[6]:=",
 CellID->1879226389,ExpressionUUID->"601fb486-35d8-4d0e-9b2a-dac5fb5d48f3"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"495", ",", "126"}], "}"}]], "Output",
 CellLabel->"Out[6]=",
 CellID->33285304,ExpressionUUID->"345578d8-0fe9-43b8-b53a-14d197c2dd56"],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellLabel->"Out[6]=",
 CellID->1080356108,ExpressionUUID->"9430549d-ac93-4388-8b46-2decda34ca16"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "3"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["BosonBasis"]], "paclet:QuantumMob/Q3S/ref/BosonBasis", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "e85856a8-11cf-4bae-ae40-b35ebbecae12"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["MatrixIn"]], "paclet:QuantumMob/Q3S/ref/MatrixIn", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "2c963fe6-06bc-4020-b2f0-db89caf16a77"]
       }], "SeeAlso",ExpressionUUID->"0ba03148-4ffa-49b4-848c-2e07c2cca3a5"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"f49c4892-99cd-42ef-8dd6-\
7f787457602c"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTechNote.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TechNotesSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Many-Body Systems with Q3"]], 
           "paclet:QuantumMob/Q3S/tutorial/QuantumManyBodySystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "b71e4b2a-bbcd-435f-bf43-08cbb63fa9e0"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Quick Start"]], 
           "paclet:QuantumMob/Q3S/tutorial/Q3QuickStart"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "eb6d41b3-5165-45cd-b346-57f6faa2198a"]}]}
     }]}
  }]], "TechNotesSection",ExpressionUUID->"4bba2c28-9303-42d0-8dac-\
c43a47408b4e"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Many-Body Systems"]], 
           "paclet:QuantumMob/Q3S/guide/QuantumManyBodySystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "1a7796bf-891f-4116-8145-442464bdf3ca"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3"]], "paclet:QuantumMob/Q3S/guide/Q3"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "aaeb037a-1f0a-4267-8aaa-a7fb8a069f2d"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"2d1e8bca-6fc0-4723-8f48-\
b15c3eff60d4"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "00f8cd63-01dd-42c4-ba20-686ce1582040"]}]],ExpressionUUID->
         "88a4a864-bda0-4953-b4e4-ef9eb8678c51"],
        ", A Quantum Computation Workbook (Springer)."
       }], "RelatedLinks",ExpressionUUID->
        "5257a17b-8835-47dd-bce9-e2e102357f67"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"ae6095c1-afaa-4c55-b399-\
4a82a9030d52"],

Cell[" ", "FooterCell",ExpressionUUID->"cdc3e80c-47b9-4a00-82a8-5e5079cea7fc"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"BosonBasisChange",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, 
    "ExampleSection" -> {"0" -> Open, "1" -> Closed, "3" -> Closed}, 
    "AllOptsTable" -> Closed, "NotesSection" -> Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "HasOptions" -> 
  True, "RootCaptions" -> "", "HeaderCoreAreaLink" -> {}, 
  "Metadata" -> {
   "built" -> "{2025, 3, 2, 21, 17, 6.643072}", 
    "history" -> {"14.0", "", "", ""}, "context" -> "QuantumMob`Q3S`", 
    "keywords" -> {}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> 
    "Quantum Mob/ Q3S Symbol", "language" -> "en", "paclet" -> 
    "QuantumMob/Q3S", "status" -> "None", "summary" -> 
    "BosonBasisChange[mat, {n}] returns the unitary matrix describing the \
change of n-particle basis between two sets of modes related by the canonical \
transformation matrix mat. BosonBasisChange[mat, {m, n}] returns an \
association whose keys are the numbers from m to n and the values are the \
unitary matrices corresponding to the numbers of particles. \
BosonBasisChange[mat, n] is equivalent to BosonBasisChange[mat, {0, n}]. \
BosonBasisChange[mat, nspec, {k1, k2, ...}] assumes that the basis states \
only have occupation numbers in {k1, k2, ...}. BosonBasisChange[mat, {{p11, \
p12, ...}, {p21, p22, ...}, ...}] refers to pij for the occupation number of \
j-th mode in the i-th many-body basis state for the both sets of boson modes. \
BosonBasisChange[mat, {pmat, qmat}] refers to pmat and qmat for the \
occupation numbers of the first and second set of boson modes, respectively. \
BosonBasisChange[mat, bs] or BosonBasisChange[mat, {bsa, bsb}] refers to the \
same basis bs or respective bases bsa and bsb for the occupation numbers of \
the two sets of boson modes.", "synonyms" -> {}, "tabletags" -> {}, "title" -> 
    "BosonBasisChange", "titlemodifier" -> "", "metadescription" -> "", 
    "windowtitle" -> "BosonBasisChange", "type" -> "Symbol", "uri" -> 
    "QuantumMob/Q3S/ref/BosonBasisChange"}},
FrontEndVersion->"14.2 for Mac OS X ARM (64-bit) (December 26, 2024)",
StyleDefinitions->FrontEnd`FileName[{"Wolfram"}, "Reference.nb", 
  CharacterEncoding -> "UTF-8"],
ExpressionUUID->"e288f954-81a8-4b3f-81dc-2c95b36397db"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[22351, 618, 1437, 38, 34, "PrimaryExamplesSection",ExpressionUUID->"60cfa974-e7ab-462c-aa17-0bf0c01b18f1",
   CellTags->"PrimaryExamplesSection",
   CellID->538060992]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 204538, 5241}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[584, 21, 6299, 155, 50, "AnchorBarGrid",ExpressionUUID->"d963c206-d636-4702-841c-ea73107bbdb1",
 CellID->1],
Cell[6886, 178, 97, 0, 22, "ContextNameCell",ExpressionUUID->"e32fe7a1-d366-446f-8198-06defc8a9bf2"],
Cell[CellGroupData[{
Cell[7008, 182, 1290, 35, 57, "ObjectNameGrid",ExpressionUUID->"273a5a23-3342-4889-be2a-5d01ab1f478f"],
Cell[8301, 219, 10065, 279, 587, "Usage",ExpressionUUID->"c48acd75-44e1-469a-8f3d-edf6c1939750",
 CellID->1362242420]
}, Open  ]],
Cell[CellGroupData[{
Cell[18403, 503, 1916, 48, 34, "NotesSection",ExpressionUUID->"a6a8c42e-115a-4c1a-9bc0-62bc0443e7d5",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->898021844],
Cell[20322, 553, 1902, 59, 70, "Notes",ExpressionUUID->"ef331946-a381-4388-aada-56c82d96a858",
 CellID->885192273]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[22351, 618, 1437, 38, 34, "PrimaryExamplesSection",ExpressionUUID->"60cfa974-e7ab-462c-aa17-0bf0c01b18f1",
 CellTags->"PrimaryExamplesSection",
 CellID->538060992],
Cell[23791, 658, 205, 4, 29, "Input",ExpressionUUID->"00427fec-d980-430f-ad78-6086f51e28f7",
 CellID->246560494],
Cell[CellGroupData[{
Cell[24021, 666, 1415, 37, 29, "ExampleSection",ExpressionUUID->"a0369503-db81-417d-88f8-b27d4a279e2f",
 CellID->137455027],
Cell[25439, 705, 301, 7, 56, "ExampleText",ExpressionUUID->"3dec2cbe-9e06-4520-bcce-d966a334f4b9",
 CellID->899584544],
Cell[25743, 714, 319, 9, 70, "Input",ExpressionUUID->"1041fbe5-32b0-4a74-b159-54d85765ce2d",
 CellID->766874085],
Cell[26065, 725, 230, 5, 70, "Input",ExpressionUUID->"70ecfc12-2a1b-43c9-9628-1471db51765f",
 CellID->652243378],
Cell[CellGroupData[{
Cell[26320, 734, 355, 9, 70, "Input",ExpressionUUID->"2d8e2ff2-2657-4e3a-8428-2a3e82a97dde",
 CellID->1535286693],
Cell[26678, 745, 578, 19, 36, "Output",ExpressionUUID->"fede9a3e-71c0-4e93-a5f2-3c3d6500dd99",
 CellID->1576942621],
Cell[27259, 766, 578, 19, 36, "Output",ExpressionUUID->"73a32584-4ca1-4ea3-9680-8e35227438c6",
 CellID->1578943520]
}, Open  ]],
Cell[27852, 788, 997, 30, 70, "ExampleText",ExpressionUUID->"4e9d5460-1245-49be-bc67-301b8e400446",
 CellID->629436858],
Cell[28852, 820, 221, 5, 70, "Input",ExpressionUUID->"392661d2-0bd6-42b7-9d57-1338cdf3a60a",
 CellID->1888739657],
Cell[CellGroupData[{
Cell[29098, 829, 314, 8, 70, "Input",ExpressionUUID->"11dddbc4-a412-4853-81e5-b8cff81ba8d4",
 CellID->11107004],
Cell[29415, 839, 1745, 39, 75, "Output",ExpressionUUID->"ea42ad06-6c5f-45f2-b9d2-b8251b82f944",
 CellID->485383721]
}, Open  ]],
Cell[31175, 881, 219, 6, 70, "ExampleText",ExpressionUUID->"3e1113ef-c80f-4497-a811-9340791c93dd",
 CellID->538544441],
Cell[31397, 889, 205, 5, 70, "Input",ExpressionUUID->"f1834c2c-8194-41c5-af96-fc5812948147",
 CellID->554860242],
Cell[31605, 896, 181, 3, 70, "ExampleText",ExpressionUUID->"1c48075f-5edf-481d-be46-519cb52c000e",
 CellID->1920304077],
Cell[CellGroupData[{
Cell[31811, 903, 417, 11, 70, "Input",ExpressionUUID->"e3a17528-bb2d-4c43-a524-3bf2c3b4be7d",
 CellID->1633870097],
Cell[32231, 916, 6121, 148, 38, "Output",ExpressionUUID->"77758472-eb99-486c-abba-8331fffe9e5f",
 CellID->838098472],
Cell[38355, 1066, 6121, 148, 38, "Output",ExpressionUUID->"c21b35b5-2efa-4ae9-a6e1-924e4184e52d",
 CellID->575778231]
}, Open  ]],
Cell[44491, 1217, 696, 23, 70, "ExampleText",ExpressionUUID->"8a51be32-5070-49a2-8e9c-6ec1fb0caa77",
 CellID->2129672373],
Cell[CellGroupData[{
Cell[45212, 1244, 369, 9, 70, "Input",ExpressionUUID->"b363ed2d-e700-47f3-8994-746a191a4a51",
 CellID->1631252586],
Cell[45584, 1255, 5287, 107, 123, "Output",ExpressionUUID->"a2924993-b3e9-4481-8fbd-82b9c9d1215a",
 CellID->1883907159]
}, Open  ]],
Cell[CellGroupData[{
Cell[50908, 1367, 445, 13, 70, "Input",ExpressionUUID->"961c4214-2e84-4dff-867d-791aaf17de9f",
 CellID->1586342386],
Cell[51356, 1382, 857, 21, 123, "Output",ExpressionUUID->"7a6ba953-5ca4-4761-b913-a04ffe74c22c",
 CellID->1377478106],
Cell[52216, 1405, 825, 21, 123, "Output",ExpressionUUID->"c6a966d9-7e41-4600-bbd6-d0edcd275078",
 CellID->1400812882]
}, Open  ]],
Cell[53056, 1429, 207, 4, 70, "ExampleText",ExpressionUUID->"5d3caf54-fc90-40b5-a799-c87929e2e3de",
 CellID->1291576865],
Cell[CellGroupData[{
Cell[53288, 1437, 312, 8, 70, "Input",ExpressionUUID->"7a077f70-1a50-4b3c-bb35-aa8e7f5d2a06",
 CellID->1666517005],
Cell[53603, 1447, 3751, 111, 68, "Output",ExpressionUUID->"ba22ec43-492a-47c6-ac40-58a4db2778ea",
 CellID->2130789801]
}, Open  ]],
Cell[57369, 1561, 210, 6, 70, "ExampleText",ExpressionUUID->"5e95d3b6-cb9b-43c0-abe4-97f7aef5ece6",
 CellID->116787747],
Cell[CellGroupData[{
Cell[57604, 1571, 224, 5, 70, "Input",ExpressionUUID->"5d05ae56-cab3-41eb-9c0f-c4d8e2be21d0",
 CellID->614657339],
Cell[57831, 1578, 6599, 184, 58, "Output",ExpressionUUID->"4b840c75-347b-4c50-aa2a-6ecbf0281031",
 CellID->886073432]
}, Open  ]],
Cell[64445, 1765, 219, 6, 70, "ExampleText",ExpressionUUID->"d4353539-2d3a-4805-8dff-56d4a10cec0e",
 CellID->1021926066],
Cell[CellGroupData[{
Cell[64689, 1775, 282, 7, 70, "Input",ExpressionUUID->"cdf650c7-ce45-4ef8-807e-a894832324fb",
 CellID->333871968],
Cell[64974, 1784, 44473, 1058, 245, "Output",ExpressionUUID->"1b0b3c32-b7e1-4338-943f-1e7a3a8677b3",
 CellID->1427887177]
}, Open  ]],
Cell[109462, 2845, 247, 6, 70, "ExampleText",ExpressionUUID->"117b5044-7011-4f88-aa10-cc80c6d73e34",
 CellID->977125870],
Cell[CellGroupData[{
Cell[109734, 2855, 217, 5, 70, "Input",ExpressionUUID->"7f2b3cac-dbc5-4b4a-a6e5-c6708fce712e",
 CellID->2127017166],
Cell[109954, 2862, 44460, 1057, 245, "Output",ExpressionUUID->"08deea5b-ce2b-4423-b3ab-d2c7f4447cbb",
 CellID->1719341274]
}, Open  ]],
Cell[CellGroupData[{
Cell[154451, 3924, 220, 5, 70, "Input",ExpressionUUID->"44cb3d73-5bb2-4067-9ffe-36459655dfc1",
 CellID->1423053347],
Cell[154674, 3931, 216, 5, 36, "Output",ExpressionUUID->"d9cd80b5-52da-453e-961e-e97b8b092f7c",
 CellID->1792594393]
}, Open  ]],
Cell[CellGroupData[{
Cell[154927, 3941, 341, 8, 70, "Input",ExpressionUUID->"f909b921-e3f8-41f7-8440-1ca9e03504ed",
 CellID->332562170],
Cell[155271, 3951, 7963, 163, 111, "Output",ExpressionUUID->"3c59fa55-36d5-4c5a-b7aa-40a193517051",
 CellID->1200774876]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]],
Cell[CellGroupData[{
Cell[163383, 4122, 1411, 37, 70, "ExampleSection",ExpressionUUID->"f2881dc1-cecb-4754-a179-9131123bd344",
 CellID->1094006675],
Cell[164797, 4161, 323, 5, 70, "ExampleText",ExpressionUUID->"ba73ca7a-4a08-4b8f-921b-e697304f1cb6",
 CellID->1293372040],
Cell[165123, 4168, 211, 4, 70, "ExampleText",ExpressionUUID->"2f23b915-ea23-4dfa-9766-30d76b266089",
 CellID->998156305],
Cell[165337, 4174, 320, 9, 70, "Input",ExpressionUUID->"ebb98ba8-bfac-41b1-9970-942b87b04e71",
 CellID->1933974453],
Cell[165660, 4185, 231, 5, 70, "Input",ExpressionUUID->"9f050ddf-a5cf-4856-966b-326098fa3959",
 CellID->2143634226],
Cell[CellGroupData[{
Cell[165916, 4194, 355, 9, 70, "Input",ExpressionUUID->"997beef0-f28c-405d-91e4-8cb81a937336",
 CellID->1874774310],
Cell[166274, 4205, 577, 19, 36, "Output",ExpressionUUID->"5f36920a-ae21-4a59-8c1a-11badf4b1c5d",
 CellID->410914576],
Cell[166854, 4226, 578, 19, 36, "Output",ExpressionUUID->"9030ce1c-82b0-4f32-b32b-df66c35c5f63",
 CellID->2081353727]
}, Open  ]],
Cell[167447, 4248, 149, 1, 70, "ExampleText",ExpressionUUID->"1ad8edae-76f7-4e32-b7f6-5638f0614883",
 CellID->1182235068],
Cell[167599, 4251, 221, 5, 70, "Input",ExpressionUUID->"737d61fc-6e3e-453d-8282-c97f1ff1cfcc",
 CellID->1306085832],
Cell[CellGroupData[{
Cell[167845, 4260, 316, 8, 70, "Input",ExpressionUUID->"547eda93-de49-43a3-a8e0-10e066bb1798",
 CellID->1954222437],
Cell[168164, 4270, 1745, 39, 75, "Output",ExpressionUUID->"c4caa6fc-6350-4a49-81e0-720ebc102320",
 CellID->298107144]
}, Open  ]],
Cell[169924, 4312, 220, 6, 70, "ExampleText",ExpressionUUID->"4c3a9c59-e0df-4170-a2e0-35cc1bdbc897",
 CellID->1938593701],
Cell[170147, 4320, 205, 5, 70, "Input",ExpressionUUID->"b5f0f2ca-d909-42f4-92db-d409cee33195",
 CellID->322440423],
Cell[170355, 4327, 206, 4, 70, "ExampleText",ExpressionUUID->"0fc770b6-a29c-496a-a359-828f0bd93f51",
 CellID->1154947980],
Cell[CellGroupData[{
Cell[170586, 4335, 538, 15, 70, "Input",ExpressionUUID->"80cbb7b6-eebc-4e8c-a6bc-ce42608585b7",
 CellID->106014627],
Cell[171127, 4352, 3136, 76, 38, "Output",ExpressionUUID->"c2279d45-81d3-4b3a-ab90-f52de5037582",
 CellID->181732466],
Cell[174266, 4430, 3136, 76, 38, "Output",ExpressionUUID->"83ee4c57-6e3e-438f-830e-8ba909ecddae",
 CellID->655810028]
}, Open  ]],
Cell[177417, 4509, 695, 23, 70, "ExampleText",ExpressionUUID->"9b8f942e-0e42-40de-960b-7b37f14f0825",
 CellID->841215019],
Cell[CellGroupData[{
Cell[178137, 4536, 432, 11, 70, "Input",ExpressionUUID->"e09f9217-1618-472f-aedb-3022a0fbb3f2",
 CellID->1415976132],
Cell[178572, 4549, 1744, 38, 75, "Output",ExpressionUUID->"0b184b84-24ea-4de4-9ef6-2d9ec7e43f9f",
 CellID->2001471926]
}, Open  ]],
Cell[180331, 4590, 539, 12, 70, "ExampleText",ExpressionUUID->"2f860d33-6a35-4ab4-a27e-3ed1ba9ae052",
 CellID->799020092],
Cell[CellGroupData[{
Cell[180895, 4606, 680, 18, 70, "Input",ExpressionUUID->"92be8731-5f50-42e4-b9b6-34f999619775",
 CellID->174508983],
Cell[181578, 4626, 1744, 38, 75, "Output",ExpressionUUID->"f53221e9-ec97-448c-a46d-dfce5c391793",
 CellID->1416641195]
}, Open  ]],
Cell[183337, 4667, 185, 4, 70, "ExampleText",ExpressionUUID->"2adcb34c-56cc-42f8-95c2-1c46f952e721",
 CellID->420673980],
Cell[CellGroupData[{
Cell[183547, 4675, 509, 13, 70, "Input",ExpressionUUID->"25225827-9f79-45ba-838b-17dd875d6974",
 CellID->195611649],
Cell[184059, 4690, 359, 10, 36, "Output",ExpressionUUID->"ae8928dd-9260-4faa-9fe9-854fae738250",
 CellID->265393001],
Cell[184421, 4702, 359, 10, 36, "Output",ExpressionUUID->"ef0438b2-f7f7-4993-a69a-28fded2da225",
 CellID->136632988]
}, Open  ]],
Cell[CellGroupData[{
Cell[184817, 4717, 693, 18, 70, "Input",ExpressionUUID->"8d19dc04-8845-46e3-b935-efccb36f91b9",
 CellID->858218400],
Cell[185513, 4737, 1745, 38, 75, "Output",ExpressionUUID->"48dee0c6-a624-4239-86cf-75e550655c58",
 CellID->1194280227]
}, Open  ]],
Cell[187273, 4778, 271, 5, 70, "ExampleText",ExpressionUUID->"9eaad06e-0df9-40be-8931-e16b3f184115",
 CellID->473559800],
Cell[CellGroupData[{
Cell[187569, 4787, 446, 13, 70, "Input",ExpressionUUID->"48d77c00-6236-4cb6-97b7-dbf581cd9a0b",
 CellID->1002436772],
Cell[188018, 4802, 1447, 32, 75, "Output",ExpressionUUID->"88d9821a-ec6a-4c6f-aaf4-fa9f207f6829",
 CellID->395586830],
Cell[189468, 4836, 1445, 32, 75, "Output",ExpressionUUID->"def560be-e75f-4c78-b8ff-5a20fdfc4271",
 CellID->18480698]
}, Open  ]],
Cell[190928, 4871, 236, 4, 70, "ExampleText",ExpressionUUID->"7aec6f39-4ab5-4206-a13f-080606c9b8af",
 CellID->529714649]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, Closed]]]],
Cell[CellGroupData[{
Cell[191301, 4882, 1420, 37, 70, "ExampleSection",ExpressionUUID->"ccc95a38-4435-4b74-ad91-447df8043a7d",
 CellID->346734972],
Cell[192724, 4921, 336, 7, 70, "ExampleText",ExpressionUUID->"dc54988a-72d4-4447-ba52-7d31f412b5ce",
 CellID->1230739208],
Cell[193063, 4930, 542, 15, 70, "Input",ExpressionUUID->"8434dbd6-644d-4982-86ae-f204dc5e10e8",
 CellID->2023284607],
Cell[CellGroupData[{
Cell[193630, 4949, 946, 26, 70, "Input",ExpressionUUID->"6daeeed7-7aac-49ff-85f9-ced54af1048a",
 CellID->2088323251],
Cell[194579, 4977, 176, 4, 36, "Output",ExpressionUUID->"859635cd-9b90-4ba2-861e-2b425c4ee40a",
 CellID->1587961278]
}, Open  ]],
Cell[194770, 4984, 220, 5, 70, "Input",ExpressionUUID->"ac5acd4e-ce92-4354-b966-b0897e955e3e",
 CellID->782728112],
Cell[194993, 4991, 249, 6, 70, "Input",ExpressionUUID->"a717b02a-7b93-440e-977e-69ace9402b70",
 CellID->1974040509],
Cell[CellGroupData[{
Cell[195267, 5001, 375, 10, 70, "Input",ExpressionUUID->"a02b521c-a91c-4d86-824c-d2ce93890849",
 CellID->1223972260],
Cell[195645, 5013, 116, 1, 70, "EchoTiming",ExpressionUUID->"b2017646-6bbb-4725-a355-01d34124f6e6",
 CellID->1670623238]
}, Open  ]],
Cell[195776, 5017, 120, 1, 70, "ExampleText",ExpressionUUID->"2a1d3b79-5b4e-41bc-bcfb-b86ad9963a1b",
 CellID->1780247599],
Cell[CellGroupData[{
Cell[195921, 5022, 521, 14, 70, "Input",ExpressionUUID->"601fb486-35d8-4d0e-9b2a-dac5fb5d48f3",
 CellID->1879226389],
Cell[196445, 5038, 174, 4, 36, "Output",ExpressionUUID->"345578d8-0fe9-43b8-b53a-14d197c2dd56",
 CellID->33285304],
Cell[196622, 5044, 144, 3, 36, "Output",ExpressionUUID->"9430549d-ac93-4388-8b46-2decda34ca16",
 CellID->1080356108]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "3"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[197008, 5056, 1387, 36, 70, "SeeAlsoSection",ExpressionUUID->"f49c4892-99cd-42ef-8dd6-7f787457602c"],
Cell[198398, 5094, 1136, 29, 70, "TechNotesSection",ExpressionUUID->"4bba2c28-9303-42d0-8dac-c43a47408b4e"],
Cell[199537, 5125, 1080, 27, 70, "MoreAboutSection",ExpressionUUID->"2d1e8bca-6fc0-4723-8f48-b15c3eff60d4"],
Cell[200620, 5154, 1166, 34, 70, "RelatedLinksSection",ExpressionUUID->"ae6095c1-afaa-4c55-b399-4a82a9030d52"],
Cell[201789, 5190, 78, 0, 70, "FooterCell",ExpressionUUID->"cdc3e80c-47b9-4a00-82a8-5e5079cea7fc"]
}
]
*)

(* End of internal cache information *)

