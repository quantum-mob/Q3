(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[     71019,       1899]
NotebookOptionsPosition[     60226,       1686]
NotebookOutlinePosition[     62499,       1742]
CellTagsIndexPosition[     62413,       1737]
WindowTitle->VacuumExpectation
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["QUANTUM MOB/ Q3S SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "9ef7da6a-ace1-4a66-9d85-39fa243da6fd"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "7a38ff38-9227-45c4-9b4c-e54c20da8c06"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "fac6f115-8f61-4941-9919-7ed6b028ba29"]
         }],ExpressionUUID->"a83f57e6-be6a-46b9-a3bb-c5851a6c00b3"],
         StripOnInput->False],{
        StyleBox["\"Vacuum\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3S/ref/Vacuum"], 
         StyleBox[
          "\"SurviveVacuum\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3S/ref/SurviveVacuum"]},
        
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "f466fa17-1e7e-4c50-8903-09b33325e8c4"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "bf8cdc10-dd95-40bd-9c32-91a78bd1a754"]
         }],ExpressionUUID->"33ee368b-5cb5-4021-af63-bc474862f53b"],
         StripOnInput->False],{
        "\"Quantum Many-Body Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3S/guide/QuantumManyBodySystems"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "49ebdf95-736f-4e6b-8b11-d35d1a8d50ac"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "938b822f-1de9-4668-96e4-dc79d3060c97"]
         }],ExpressionUUID->"83adbacf-76fd-4a22-bc3f-59027d081f28"],
         StripOnInput->False],{
        "\"Quantum Many-Body Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3S/tutorial/QuantumManyBodySystems"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "287c570d-22a3-4d75-9708-d9f02b1d97a0"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "00a58136-9c84-4d73-893a-ec7c3b5fcfbc"]
         }],ExpressionUUID->"6d5e26f3-641a-4fa5-b635-62410cb5f337"],
         StripOnInput->False],{
        "\"QuantumMob/Q3S/ref/VacuumExpectation\"" :> None, 
         "\"Copy Wolfram Documentation Center URL\"" :> 
         CopyToClipboard["QuantumMob/Q3S/ref/VacuumExpectation"], Delimiter, 
         "\"Copy web URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{
               Cell[BoxData[
                 MakeBoxes[
                  Hyperlink[
                   "http://reference.wolfram.com/language/QuantumMob/Q3S/ref/\
VacuumExpectation.html"], StandardForm]], "Input", TextClipboardType -> 
                 "PlainText"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], 
         "\"Go to web URL\"" :> 
         FrontEndExecute[{
           NotebookLocate[{
             URL[If[TrueQ[False], 
                 "http://reference.wolfram.com/system-modeler/", 
                 "http://reference.wolfram.com/language/"] <> 
               "QuantumMob/Q3S/ref/VacuumExpectation" <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "43ef62b1-0b00-4feb-aa78-b8694bf7c81e"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "ab907387-434a-4a81-be88-857cf3c4c938"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"fd7f6ec7-f776-4361-942b-135caec937f5"],

Cell["QuantumMob`Q3S`", "ContextNameCell",ExpressionUUID->"b8e36b07-2bfe-476a-b5c1-c84d9593423f"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "VacuumExpectation", "ObjectName",ExpressionUUID->
      "edf50825-1950-4c9d-8d95-58882eb7c38a"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"4749092b-b119-4532-9aa9-c887c92a20da"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "851424b7-e84b-48a1-809f-e9e24545ed70"]
    }],ExpressionUUID->"6c526c88-aaac-479e-b598-7fb47bef2385"], Cell[BoxData[
     StyleBox[
      GraphicsBox[InsetBox[
        StyleBox["\<\"UPDATED IN 14.1\"\>",
         StripOnInput->False,
         FontFamily->"Source Sans Pro",
         FontSize->17,
         FontWeight->"Bold",
         FontSlant->"Italic",
         FontColor->RGBColor[0.968627, 0.466667, 0]], {Right, Center}, {
        Right, Center}],
       ImageSize->{125, 24}], "NewInGraphic",
      StripOnInput->False]],
     Deployed->True,
     Magnification->1,ExpressionUUID->
     "3ac969dc-3e4e-4a65-8414-b38d16424bd6"]}
  }]], "ObjectNameGrid",
 CacheGraphics->False,ExpressionUUID->"16c2dd95-ccbc-4104-96ff-78beed39bb3c"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{"VacuumExpectation", "[", 
       StyleBox["expr", "TI"], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "2ef48da4-26a7-45f0-9670-c87e960b6b61"],
     "\[LineSeparator]returns the vacuum expectation value of ",
     Cell[BoxData[
      StyleBox["expr", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "c5b002dc-1d20-4ad0-afa6-701ba258b5e9"],
     "."
    }],ExpressionUUID->"75c766f7-5b89-424f-a37f-c8cce2600959"]}
  }]], "Usage",ExpressionUUID->"8af184e1-3f83-4739-850f-1b14e28bfc3f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{
      13.600000000000001`, {-0.1685058593749993, 13.768505859375}}]],
    ExpressionUUID->"02c8bdc7-b019-429f-bd97-4f4cc9e8babc"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"342304df-f6c4-4d02-9df8-21a6e0f7a2fc"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"0e63b5d8-e2b0-4bf4-b6f2-a46c44768669"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"6389c9f4-8bd9-422c-ad27-5e6fc8ffce81"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->551700223,ExpressionUUID->"0aadb149-b042-4c7a-b5ba-63fce328d047"],

Cell["The following options can be given: ", "Notes",ExpressionUUID->"a4df8a81-633a-472a-ac57-058a96dceb6f"],

Cell[BoxData[GridBox[{
   {Cell["      ", "TableRowIcon",ExpressionUUID->
     "0c314138-117d-4b3c-83d5-2e744599e247"], 
    TemplateBox[{
      Cell[
       TextData["Method"]], "paclet:ref/Method"},
     "RefLink",
     BaseStyle->{"3ColumnTableMod"}], "Algebra", Cell[TextData[{
     "With \"Algebra\" it uses the standard algebraic method and with \
\"Occupations\" using the ",
     Cell[BoxData[
      TemplateBox[{
        Cell[
         TextData["Fock"]], "paclet:QuantumMob/Q3S/ref/Fock", 
        "QuantumMob Package Symbol"},
       "PackageLink",
       BaseStyle->"3ColumnTableMod"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "e3a491d5-5538-43d6-86ba-24bdf720e170"],
     " states Ket[<|...|>]."
    }], "TableText",ExpressionUUID->"6a3c058f-e3db-497a-8907-dc53451161b2"]}
  }]], "3ColumnTableMod",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {{None}}},
 GridBoxDividers->{
  "Rows" -> {{
     True, True}}}},ExpressionUUID->"6aed0f13-a03f-4ff4-aa28-77adc7f9bdf0"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.251494140625001, 9.348505859375}}]],
  ExpressionUUID->"b2b0455c-81c0-4ac3-88b0-41a7948ffc4a"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"e45b97e6-11ab-4713-841b-00cd6be8442f"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(3)", "ExampleCount",ExpressionUUID->
  "d744462d-be07-47ae-b2a5-0beec59332df"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->1738743862,ExpressionUUID->"a2355b6d-f43e-4555-8857-e49de6317f75"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<QuantumMob`Q3S`\>\"", "]"}]], "Input", \
"ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->1927565408,ExpressionUUID->"024f336f-3a03-42dd-bc5a-9d1aa92e53dd"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{
    13.600000000000001`, {4.551318359375001, 9.048681640625}}]],
  ExpressionUUID->"9093b026-1715-4be4-a0fb-5c4d1b9447a9"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"b785de4c-f06a-4531-91c3-36b6d8db6704"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(3)", "ExampleCount",ExpressionUUID->
  "f91e3dd6-4834-4877-a83d-b80b46b968a7"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->110620258,ExpressionUUID->"dee95bfa-164f-433e-9ab0-bf739c677309"],

Cell["For bosons, it is more or less straightforward.", "ExampleText",
 CellID->814487388,ExpressionUUID->"11c85158-82c9-4684-9226-b956f0778321"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a", ",", "b"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[1]:=",
 CellID->1028764138,ExpressionUUID->"9c360511-f4dd-40d3-98d7-810cd5606150"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aa", "=", 
  RowBox[{"MultiplyPower", "[", 
   RowBox[{"a", ",", "3"}], "]"}]}], "\n", 
 RowBox[{"expr", "=", 
  RowBox[{"aa", "**", 
   RowBox[{"Dagger", "[", "aa", "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "expr", "]"}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", 
  RowBox[{"expr", ",", 
   RowBox[{"Method", "\[Rule]", "\"\<Occupations\>\""}]}], "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[2]:=",
 CellID->1048025369,ExpressionUUID->"92e20fc4-378e-4808-8023-c18c47b71ec2"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", "a", "a", "a"}, 
     "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[$CellContext`a, $CellContext`a, $CellContext`a]]], "Output",
 CellLabel->"Out[2]=",
 CellID->707697795,ExpressionUUID->"cae99f96-3798-4db7-a4fa-54d91d6b94d6"],

Cell[BoxData[
 RowBox[{"6", "+", 
  RowBox[{"18", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"a", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         Q3`Dagger[$CellContext`a]], "a"}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[$CellContext`a], $CellContext`a]]}], "+", 
  RowBox[{"9", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"a", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         Q3`Dagger[$CellContext`a]], 
        InterpretationBox[
         TemplateBox[{"a", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         Q3`Dagger[$CellContext`a]], "a", "a"}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[$CellContext`a], 
     Q3`Dagger[$CellContext`a], $CellContext`a, $CellContext`a]]}], "+", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"a", 
          
          TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
           "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
         SuperscriptBox], 
        Q3`Dagger[$CellContext`a]], 
       InterpretationBox[
        TemplateBox[{"a", 
          
          TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
           "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
         SuperscriptBox], 
        Q3`Dagger[$CellContext`a]], 
       InterpretationBox[
        TemplateBox[{"a", 
          
          TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"\[Dagger]\""}, 
           "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
         SuperscriptBox], 
        Q3`Dagger[$CellContext`a]], "a", "a", "a"}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[$CellContext`a], 
    Q3`Dagger[$CellContext`a], 
    Q3`Dagger[$CellContext`a], $CellContext`a, $CellContext`a, \
$CellContext`a]]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1512403479,ExpressionUUID->"efee3c3b-8584-40a9-903a-b4ebf9b2c3e2"],

Cell[BoxData["6"], "Output",
 CellLabel->"Out[2]=",
 CellID->1348825661,ExpressionUUID->"a0be4dce-1010-4dfe-b0e2-211b017c7924"],

Cell[BoxData["6"], "Output",
 CellLabel->"Out[2]=",
 CellID->875506695,ExpressionUUID->"3b324b38-c09a-4801-9ee7-9e4f5d08e536"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aa", "=", 
  RowBox[{
   RowBox[{"a", "[", "i", "]"}], "**", 
   RowBox[{"a", "[", "j", "]"}], "**", 
   RowBox[{"a", "[", "l", "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "aa", "]"}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", 
  RowBox[{"Dagger", "[", "aa", "]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"VacuumExpectation", "[", 
   RowBox[{"aa", "**", 
    RowBox[{"Dagger", "[", "aa", "]"}]}], "]"}], "//", "Simplify"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"VacuumExpectation", "[", 
   RowBox[{"aa", "**", 
    RowBox[{"Dagger", "[", "aa", "]"}]}], "]"}], "/.", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"j", "\[Rule]", "i"}], ",", 
    RowBox[{"l", "\[Rule]", "i"}]}], "}"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[3]:=",
 CellID->1245538910,ExpressionUUID->"54e1487c-200b-492f-8003-0eabb64047ec"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "l"}, "RowWithSeparators"]], 
       $CellContext`a[$CellContext`l]], 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "j"}, "RowWithSeparators"]], 
       $CellContext`a[$CellContext`j]], 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "i"}, "RowWithSeparators"]], 
       $CellContext`a[$CellContext`i]]}, "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[
   $CellContext`a[$CellContext`l], 
   $CellContext`a[$CellContext`j], 
   $CellContext`a[$CellContext`i]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->496087249,ExpressionUUID->"89e0bff0-935a-4b5a-851f-e9be50d79010"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->1206876289,ExpressionUUID->"aa894134-bdc9-4967-bd73-166981b795e3"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->986743308,ExpressionUUID->"071b747f-43ca-4ecd-a49b-2c453cfe14ce"],

Cell[BoxData[
 RowBox[{"1", "+", 
  TemplateBox[{
    RowBox[{"i", ",", "l"}]},
   "KroneckerDeltaSeq"], "+", 
  TemplateBox[{
    RowBox[{"j", ",", "l"}]},
   "KroneckerDeltaSeq"], "+", 
  RowBox[{
   TemplateBox[{
     RowBox[{"i", ",", "j"}]},
    "KroneckerDeltaSeq"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", " ", 
      TemplateBox[{
        RowBox[{"i", ",", "l"}]},
       "KroneckerDeltaSeq"], " ", 
      TemplateBox[{
        RowBox[{"j", ",", "l"}]},
       "KroneckerDeltaSeq"]}]}], ")"}]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1326055422,ExpressionUUID->"d817f2df-4f31-423b-83ff-18bb3ccfe249"],

Cell[BoxData["6"], "Output",
 CellLabel->"Out[3]=",
 CellID->428188988,ExpressionUUID->"cb512d7f-48b6-49d8-9efd-448f40104742"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "91349292-d898-451a-b3a1-de4ec86340e5"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->130908940,ExpressionUUID->"91e5c24a-fcce-46d3-8544-4f1db0096d7a"],

Cell["\<\
For a Fermion with Void vacuum, it is as simple as the Bosonic case.\
\>", "ExampleText",
 CellID->2489740,ExpressionUUID->"1a5a5550-fda9-4a12-b6c4-9ee9f5ad3f4f"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "d"}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[1]:=",
 CellID->1042870887,ExpressionUUID->"33344226-399f-4dbf-bb7f-b9bb8c4735bb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dd", "=", 
  RowBox[{
   RowBox[{"d", "[", "Up", "]"}], "**", 
   RowBox[{"d", "[", "Down", "]"}]}]}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[2]:=",
 CellID->1916954642,ExpressionUUID->"a9c5426c-7045-449b-883e-465156de18df"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       SubscriptBox["d", 
        TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, "RowWithSeparators"]], 
       $CellContext`d[Plus[1]/2]], 
      InterpretationBox[
       SubscriptBox["d", 
        TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, "RowWithSeparators"]], 
       $CellContext`d[(-1)/2]]}, "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[
   $CellContext`d[
    Rational[1, 2]], 
   $CellContext`d[
    Rational[-1, 2]]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1213022651,ExpressionUUID->"118d8356-4eaa-47aa-89e8-f89257e865dc"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"dd", "**", 
  RowBox[{"Dagger", "[", "dd", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", 
  RowBox[{"dd", " ", "**", " ", 
   RowBox[{"Dagger", "[", "dd", "]"}]}], "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[3]:=",
 CellID->1244370327,ExpressionUUID->"17e5c413-0037-417c-a44f-73b9b175e376"],

Cell[BoxData[
 RowBox[{"1", "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"d", 
          
          TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`d[(-1)/2]]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`d[(-1)/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`d[
      Rational[-1, 2]]], 
    $CellContext`d[
     Rational[-1, 2]]]], "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"d", 
          TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, "RowWithSeparators"], 
          
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`d[1/2]]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`d[Plus[1]/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`d[
      Rational[1, 2]]], 
    $CellContext`d[
     Rational[1, 2]]]], "+", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"d", 
          
          TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`d[(-1)/2]]], 
       InterpretationBox[
        TemplateBox[{"d", 
          TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, "RowWithSeparators"], 
          
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`d[1/2]]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "\"\[UpArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`d[Plus[1]/2]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "\"\[DownArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`d[(-1)/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`d[
      Rational[-1, 2]]], 
    Q3`Dagger[
     $CellContext`d[
      Rational[1, 2]]], 
    $CellContext`d[
     Rational[1, 2]], 
    $CellContext`d[
     Rational[-1, 2]]]]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1485319708,ExpressionUUID->"55f0ebb7-7609-48a9-bbe1-a288fc243bc9"],

Cell[BoxData["1"], "Output",
 CellLabel->"Out[3]=",
 CellID->1418419628,ExpressionUUID->"d7a50c2c-9ab0-455d-8b5a-4dda45119b0b"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "4e3e7ee3-cc6f-409a-9b54-d54fd2c14d66"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->622693905,ExpressionUUID->"c63f394d-4438-412a-8bd2-1284d49508f4"],

Cell["\<\
The most complicated case is when the Vacuum is a Fermi sea (Vacuum == \
\"Sea\").\
\>", "ExampleText",
 CellID->1374766908,ExpressionUUID->"0aabdfa5-8aaf-4f10-b9e0-0309d0e25fd0"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "c", ",", "d", ",", " ", 
   RowBox[{"Vacuum", "\[Rule]", "\"\<Sea\>\""}]}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[1]:=",
 CellID->930864683,ExpressionUUID->"60ba04f8-df3e-474b-b644-539b647128d7"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"nn", "=", 
  RowBox[{"MultiplyPower", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"c", "[", 
      RowBox[{"k", ",", "Up"}], "]"}], "**", 
     RowBox[{"Dagger", "[", 
      RowBox[{"c", "[", 
       RowBox[{"k", ",", "Up"}], "]"}], "]"}]}], ",", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "nn", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[2]:=",
 CellID->624358786,ExpressionUUID->"249699f5-fcd7-4986-9b44-b6ce8c09b54c"],

Cell[BoxData[
 RowBox[{"1", "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          
          TemplateBox[{",", "\",\"", "1", "\"\[UpArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[1, 1/2]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "1", "\"\[UpArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`c[1, Plus[1]/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[1, 
      Rational[1, 2]]], 
    $CellContext`c[1, 
     Rational[1, 2]]]]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1493083383,ExpressionUUID->"1fc06a29-8e3d-4e1a-93f3-2a81fd26ef8d"],

Cell[BoxData["1"], "Output",
 CellLabel->"Out[2]=",
 CellID->906002886,ExpressionUUID->"a47cda0d-e786-48c9-b6b5-b9d95cc4e6c3"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"k", "=", 
   RowBox[{"-", "1"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"nn", "=", 
  RowBox[{"MultiplyPower", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"c", "[", 
      RowBox[{"k", ",", "Up"}], "]"}], "**", 
     RowBox[{"Dagger", "[", 
      RowBox[{"c", "[", 
       RowBox[{"k", ",", "Up"}], "]"}], "]"}]}], ",", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "nn", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[3]:=",
 CellID->1419121191,ExpressionUUID->"24dc5bd5-863c-43d9-9aae-8a762680bf00"],

Cell[BoxData[
 RowBox[{"1", "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", 
            RowBox[{"-", "1"}], "\"\[UpArrow]\""}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[-1, 1/2]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", 
           RowBox[{"-", "1"}], "\"\[UpArrow]\""}, "RowWithSeparators"]], 
        $CellContext`c[-1, Plus[1]/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[-1, 
      Rational[1, 2]]], 
    $CellContext`c[-1, 
     Rational[1, 2]]]]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1420930842,ExpressionUUID->"2420a013-ec76-4878-b422-8dabf149962c"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[3]=",
 CellID->1566506854,ExpressionUUID->"6abe44fa-452b-4bc4-962c-dab9453e4a1a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Clear", "[", "k", "]"}], "\[IndentingNewLine]", 
 RowBox[{"expr", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"c", "[", 
     RowBox[{"i", ",", "s"}], "]"}], "^", "Dagger"}], "**", 
   RowBox[{"c", "[", 
    RowBox[{"j", ",", "s"}], "]"}], "**", 
   RowBox[{"c", "[", 
    RowBox[{"k", ",", "s"}], "]"}], "**", 
   RowBox[{
    RowBox[{"c", "[", 
     RowBox[{"l", ",", "s"}], "]"}], "^", "Dagger"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"VacuumExpectation", "[", "expr", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[4]:=",
 CellID->1630700915,ExpressionUUID->"e2bb43c0-4590-44b0-b784-98941ebcacd1"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   TemplateBox[{
     RowBox[{"k", ",", "l"}]},
    "KroneckerDeltaSeq"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"c", 
           TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`c[$CellContext`i, $CellContext`s]]], 
        InterpretationBox[
         SubscriptBox["c", 
          TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
         $CellContext`c[$CellContext`j, $CellContext`s]]}, 
       "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[
      $CellContext`c[$CellContext`i, $CellContext`s]], 
     $CellContext`c[$CellContext`j, $CellContext`s]]]}], "-", 
  RowBox[{
   TemplateBox[{
     RowBox[{"j", ",", "l"}]},
    "KroneckerDeltaSeq"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"c", 
           TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`c[$CellContext`i, $CellContext`s]]], 
        InterpretationBox[
         SubscriptBox["c", 
          TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
         $CellContext`c[$CellContext`k, $CellContext`s]]}, 
       "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Q3`Dagger[
      $CellContext`c[$CellContext`i, $CellContext`s]], 
     $CellContext`c[$CellContext`k, $CellContext`s]]]}], "-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`l, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`k, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, $CellContext`s]]}, 
      "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`i, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`l, $CellContext`s]], 
    $CellContext`c[$CellContext`k, $CellContext`s], 
    $CellContext`c[$CellContext`j, $CellContext`s]]]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->2132039604,ExpressionUUID->"cc653f2b-c81c-4605-afee-0043241268dd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Bra"], 
         Bra[Q3`Vacuum]], 
        InterpretationBox[
         TemplateBox[{"c", 
           TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`c[$CellContext`i, $CellContext`s]]], 
        InterpretationBox[
         TemplateBox[{"c", 
           TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]},
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         Q3`Dagger[
          $CellContext`c[$CellContext`l, $CellContext`s]]], 
        InterpretationBox[
         SubscriptBox["c", 
          TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
         $CellContext`c[$CellContext`k, $CellContext`s]], 
        InterpretationBox[
         SubscriptBox["c", 
          TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
         $CellContext`c[$CellContext`j, $CellContext`s]], 
        InterpretationBox[
         TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
         Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     Bra[Q3`Vacuum], 
     Q3`Dagger[
      $CellContext`c[$CellContext`i, $CellContext`s]], 
     Q3`Dagger[
      $CellContext`c[$CellContext`l, $CellContext`s]], 
     $CellContext`c[$CellContext`k, $CellContext`s], 
     $CellContext`c[$CellContext`j, $CellContext`s], 
     Ket[Q3`Vacuum]]]}], "-", 
  RowBox[{
   TemplateBox[{
     RowBox[{"i", ",", "k"}]},
    "KroneckerDeltaSeq"], " ", 
   TemplateBox[{
     RowBox[{"j", ",", "l"}]},
    "KroneckerDeltaSeq"], " ", 
   InterpretationBox[
    TagBox[
     RowBox[{"\[Theta]", "(", 
      RowBox[{"-", "i"}], ")"}],
     DisplayForm],
    UnitStep[-$CellContext`i]]}], "+", 
  RowBox[{
   TemplateBox[{
     RowBox[{"i", ",", "j"}]},
    "KroneckerDeltaSeq"], " ", 
   TemplateBox[{
     RowBox[{"k", ",", "l"}]},
    "KroneckerDeltaSeq"], " ", 
   InterpretationBox[
    TagBox[
     RowBox[{"\[Theta]", "(", 
      RowBox[{"-", "i"}], ")"}],
     DisplayForm],
    UnitStep[-$CellContext`i]]}]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->277490586,ExpressionUUID->"adae625f-2f8a-4d36-9921-97d19d89ce32"]
}, Open  ]],

Cell["\<\
If operators have different Heads, then they are regarded different \
regardless of the Flavor indices.\
\>", "ExampleText",
 CellID->606257165,ExpressionUUID->"2d68a44f-3478-4b3e-82a0-9d4814b28a5a"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr2", "=", 
  RowBox[{"Multiply", "[", 
   RowBox[{
    RowBox[{"Dagger", "[", 
     RowBox[{"c", "[", 
      RowBox[{"i", ",", " ", "s"}], "]"}], "]"}], ",", " ", 
    RowBox[{"Dagger", "[", 
     RowBox[{"c", "[", 
      RowBox[{"l", ",", " ", "s"}], "]"}], "]"}], ",", " ", 
    RowBox[{"c", "[", 
     RowBox[{"j", ",", " ", "s"}], "]"}], ",", " ", 
    RowBox[{"d", "[", 
     RowBox[{"k", ",", " ", "s"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"expr2a", "=", 
  RowBox[{"VacuumExpectation", "[", "expr2", "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[5]:=",
 CellID->1701750787,ExpressionUUID->"bb493cc9-d8a6-4ee4-916a-393fb4517029"],

Cell[BoxData[
 RowBox[{"-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`l, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["d", 
         TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
        $CellContext`d[$CellContext`k, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, $CellContext`s]]}, 
      "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`i, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`l, $CellContext`s]], 
    $CellContext`d[$CellContext`k, $CellContext`s], 
    $CellContext`c[$CellContext`j, $CellContext`s]]]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->1553264899,ExpressionUUID->"2f0637a8-96d0-4068-ac35-fd767cd2c298"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[5]=",
 CellID->911944561,ExpressionUUID->"823825c2-f83b-47c3-a5ff-be7394b69b88"]
}, Open  ]],

Cell["Further Examples", "ExampleText",
 CellID->1517812154,ExpressionUUID->"a29ccf02-ff36-4afc-bb83-8b976c4a346d"],

Cell[BoxData[{
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "c"}], "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[6]:=",
 CellID->2058113212,ExpressionUUID->"c8960f3a-026d-4005-8ddc-f5ef6912753b"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr", "=", 
  RowBox[{
   RowBox[{"a", "[", "1", "]"}], "**", 
   RowBox[{"Exp", "[", 
    RowBox[{"a", "[", "1", "]"}], "]"}], "**", 
   RowBox[{
    RowBox[{"c", "[", 
     RowBox[{"1", ",", "Up"}], "]"}], "^", "Dagger"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"expr", "**", 
  RowBox[{"VacuumState", "[", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SurviveVacuum", "[", "expr", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[7]:=",
 CellID->1189651855,ExpressionUUID->"02534c32-d8e6-4e12-b0da-13fba72fb45a"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
       $CellContext`a[1]], 
      InterpretationBox[
       TemplateBox[{"c", 
         TemplateBox[{",", "\",\"", "1", "\"\[UpArrow]\""}, 
          "RowWithSeparators"], 
         TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
        "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
       Q3`Dagger[
        $CellContext`c[1, 1/2]]], 
      InterpretationBox[
       SuperscriptBox["\[ExponentialE]", 
        InterpretationBox[
         SubscriptBox["a", 
          TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
         $CellContext`a[1]]], 
       Q3`MultiplyExp[
        $CellContext`a[1]]]}, "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[
   $CellContext`a[1], 
   Q3`Dagger[
    $CellContext`c[1, 
     Rational[1, 2]]], 
   Q3`MultiplyExp[
    $CellContext`a[1]]]]], "Output",
 CellLabel->"Out[7]=",
 CellID->1646377443,ExpressionUUID->"4d807968-faa6-4398-b0ad-3888ce3f8e05"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[7]=",
 CellID->338892906,ExpressionUUID->"42c2920a-efb1-4e04-8ced-d6cbd217d37f"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[7]=",
 CellID->646439298,ExpressionUUID->"fee00a2b-f0d7-46f6-bd58-5802d0a35ee4"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr", "=", 
  RowBox[{
   RowBox[{"a", "[", "1", "]"}], "**", 
   RowBox[{"Exp", "[", 
    RowBox[{
     RowBox[{"MultiplyPower", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"a", "[", "1", "]"}], "^", "Dagger"}], ",", "3"}], "]"}], "+", 
     RowBox[{"a", "[", "1", "]"}]}], "]"}], "**", 
   RowBox[{
    RowBox[{"c", "[", "1", "]"}], "^", 
    "Dagger"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"expr", "**", 
  RowBox[{"VacuumState", "[", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SurviveVacuum", "[", "expr", "]"}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[8]:=",
 CellID->512660530,ExpressionUUID->"0cecf8e8-8a59-43f4-8c6a-3a3f66a3d699"],

Cell[BoxData[
 InterpretationBox[
  TemplateBox[{
    TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
      InterpretationBox[
       SubscriptBox["a", 
        TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
       $CellContext`a[1]], 
      InterpretationBox[
       TemplateBox[{"c", 
         TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
         TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
        "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
       Q3`Dagger[
        $CellContext`c[1]]], 
      InterpretationBox[
       SuperscriptBox["\[ExponentialE]", 
        RowBox[{
          InterpretationBox[
           SubscriptBox["a", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
           $CellContext`a[1]], "+", 
          InterpretationBox[
           TemplateBox[{
             TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
               InterpretationBox[
                TemplateBox[{"a", 
                  TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
                  
                  TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
                   "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
                 SubsuperscriptBox], 
                Q3`Dagger[
                 $CellContext`a[1]]], 
               InterpretationBox[
                TemplateBox[{"a", 
                  TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
                  
                  TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
                   "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
                 SubsuperscriptBox], 
                Q3`Dagger[
                 $CellContext`a[1]]], 
               InterpretationBox[
                TemplateBox[{"a", 
                  TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
                  
                  TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, 
                   "RowWithSeparators"]}, "Subsuperscript", SyntaxForm -> 
                 SubsuperscriptBox], 
                Q3`Dagger[
                 $CellContext`a[1]]]}, "RowWithSeparators"]}, "RowDefault"], 
           Q3`Multiply[
            Q3`Dagger[
             $CellContext`a[1]], 
            Q3`Dagger[
             $CellContext`a[1]], 
            Q3`Dagger[
             $CellContext`a[1]]]]}]], 
       Q3`MultiplyExp[$CellContext`a[1] + Q3`Multiply[
          Q3`Dagger[
           $CellContext`a[1]], 
          Q3`Dagger[
           $CellContext`a[1]], 
          Q3`Dagger[
           $CellContext`a[1]]]]]}, "RowWithSeparators"]},
   "RowDefault"],
  Q3`Multiply[
   $CellContext`a[1], 
   Q3`Dagger[
    $CellContext`c[1]], 
   Q3`MultiplyExp[$CellContext`a[1] + Q3`Multiply[
      Q3`Dagger[
       $CellContext`a[1]], 
      Q3`Dagger[
       $CellContext`a[1]], 
      Q3`Dagger[
       $CellContext`a[1]]]]]]], "Output",
 CellLabel->"Out[8]=",
 CellID->2040371474,ExpressionUUID->"3579edee-e1d4-4829-9219-ce5a3a528bd9"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[8]=",
 CellID->1504488222,ExpressionUUID->"fc38a327-28a3-49c0-a65a-629efa557cc4"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[8]=",
 CellID->1461087376,ExpressionUUID->"b96f5847-d7ae-40c5-97bd-c747ca0703d0"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "c", ",", "d", ",", 
   RowBox[{"Vacuum", "\[Rule]", "\"\<Sea\>\""}]}], "]"}]], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[9]:=",
 CellID->640720002,ExpressionUUID->"8afe24c8-6fc5-4877-9fdb-6b27aec77739"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr1", "=", 
  RowBox[{"Multiply", "[", 
   RowBox[{
    RowBox[{"Dagger", "[", 
     RowBox[{"c", "[", 
      RowBox[{"i", ",", " ", "s"}], "]"}], "]"}], ",", " ", 
    RowBox[{"Dagger", "[", 
     RowBox[{"c", "[", 
      RowBox[{"l", ",", " ", "s"}], "]"}], "]"}], ",", " ", 
    RowBox[{"c", "[", 
     RowBox[{"j", ",", " ", "s"}], "]"}], ",", " ", 
    RowBox[{"c", "[", 
     RowBox[{"k", ",", " ", "s"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"expr2", "=", 
  RowBox[{
   RowBox[{"c", "[", 
    RowBox[{"i", ",", "Up"}], "]"}], "**", 
   RowBox[{"VacuumExpectation", "[", "expr1", "]"}], "**", 
   RowBox[{
    RowBox[{"c", "[", 
     RowBox[{"j", ",", "Down"}], "]"}], "^", "Dagger"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"expr3", "=", 
  RowBox[{"Dagger", "[", "expr2", "]"}]}]}], "Input",
 CellProlog:>Needs["QuantumMob`Q3S`"],
 CellLabel->"In[10]:=",
 CellID->1098067556,ExpressionUUID->"b6edfb90-a935-4657-a7d4-184dd3ac76f1"],

Cell[BoxData[
 RowBox[{"-", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`l, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`k, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, $CellContext`s]]}, 
      "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`i, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`l, $CellContext`s]], 
    $CellContext`c[$CellContext`k, $CellContext`s], 
    $CellContext`c[$CellContext`j, $CellContext`s]]]}]], "Output",
 CellLabel->"Out[10]=",
 CellID->279273307,ExpressionUUID->"b0d8e7a4-9448-468b-94f7-20ee41a2d5dc"],

Cell[BoxData[
 RowBox[{
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          
          TemplateBox[{",", "\",\"", "j", "\"\[DownArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`j, (-1)/2]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "i", "\"\[UpArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`c[$CellContext`i, Plus[1]/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`j, 
      Rational[-1, 2]]], 
    $CellContext`c[$CellContext`i, 
     Rational[1, 2]]]], " ", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"\"\[CupCap]\""}, "Bra"], 
        Bra[Q3`Vacuum]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`l, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`k, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, $CellContext`s]], 
       InterpretationBox[
        TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
        Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Bra[Q3`Vacuum], 
    Q3`Dagger[
     $CellContext`c[$CellContext`i, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`l, $CellContext`s]], 
    $CellContext`c[$CellContext`k, $CellContext`s], 
    $CellContext`c[$CellContext`j, $CellContext`s], 
    Ket[Q3`Vacuum]]]}]], "Output",
 CellLabel->"Out[10]=",
 CellID->1494702054,ExpressionUUID->"1387f88b-ea87-409d-9416-03d67cde0f0c"],

Cell[BoxData[
 RowBox[{
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"c", 
          
          TemplateBox[{",", "\",\"", "i", "\"\[UpArrow]\""}, 
           "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`i, 1/2]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "j", "\"\[DownArrow]\""}, 
          "RowWithSeparators"]], 
        $CellContext`c[$CellContext`j, (-1)/2]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Q3`Dagger[
     $CellContext`c[$CellContext`i, 
      Rational[1, 2]]], 
    $CellContext`c[$CellContext`j, 
     Rational[-1, 2]]]], " ", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
       InterpretationBox[
        TemplateBox[{"\"\[CupCap]\""}, "Bra"], 
        Bra[Q3`Vacuum]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "j", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`j, $CellContext`s]]], 
       InterpretationBox[
        TemplateBox[{"c", 
          TemplateBox[{",", "\",\"", "k", "s"}, "RowWithSeparators"], 
          TemplateBox[{",", "\",\"", "\"\[Dagger]\""}, "RowWithSeparators"]}, 
         "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
        Q3`Dagger[
         $CellContext`c[$CellContext`k, $CellContext`s]]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "l", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`l, $CellContext`s]], 
       InterpretationBox[
        SubscriptBox["c", 
         TemplateBox[{",", "\",\"", "i", "s"}, "RowWithSeparators"]], 
        $CellContext`c[$CellContext`i, $CellContext`s]], 
       InterpretationBox[
        TemplateBox[{"\"\[CupCap]\""}, "Ket"], 
        Ket[Q3`Vacuum]]}, "RowWithSeparators"]},
    "RowDefault"],
   Q3`Multiply[
    Bra[Q3`Vacuum], 
    Q3`Dagger[
     $CellContext`c[$CellContext`j, $CellContext`s]], 
    Q3`Dagger[
     $CellContext`c[$CellContext`k, $CellContext`s]], 
    $CellContext`c[$CellContext`l, $CellContext`s], 
    $CellContext`c[$CellContext`i, $CellContext`s], 
    Ket[Q3`Vacuum]]]}]], "Output",
 CellLabel->"Out[10]=",
 CellID->193718972,ExpressionUUID->"ccbc8cfa-19c3-488b-b120-cfe1b0378bd4"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Vacuum"]], "paclet:QuantumMob/Q3S/ref/Vacuum", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "126288cd-52ed-46ce-b0bc-15f63a7edba2"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["SurviveVacuum"]], 
           "paclet:QuantumMob/Q3S/ref/SurviveVacuum", 
           "QuantumMob Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "fbf51ac6-492d-482d-ba5d-06bf7eea65cb"]
       }], "SeeAlso",ExpressionUUID->"9275ed5f-10f6-43f0-badc-4ce5f8fa76dc"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"074396ba-37f5-4697-ab43-\
da4e1ee3e2ff"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTutorial.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TutorialsSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Many-Body Systems with Q3"]], 
           "paclet:QuantumMob/Q3S/tutorial/QuantumManyBodySystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "028295c4-ddff-492c-831c-968f63772705"]}]}
     }]}
  }]], "TutorialsSection",ExpressionUUID->"13ae7f93-9425-46cb-adf0-\
5611841d546a"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Many-Body Systems"]], 
           "paclet:QuantumMob/Q3S/guide/QuantumManyBodySystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "5b31a547-5a25-4a1b-a4e8-6678c831ac82"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"ef2b45f4-62de-444a-9a53-\
aa714c0b5517"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "e0982eee-e5ac-40ff-9778-d1463683aa41"]}]],ExpressionUUID->
         "d6122418-8d6e-4a0b-859a-f3349f936601"],
        ", A Quantum Computation Workbook (Springer)."
       }], "RelatedLinks",ExpressionUUID->
        "81edff69-35ad-40b7-b66f-5a11dd1535d4"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"c9303fab-8620-49ae-83cf-\
c70ce526ba2e"],

Cell[" ", "FooterCell",ExpressionUUID->"93cec7e2-9fa2-408e-9929-a4e398b18be3"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"VacuumExpectation",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, "ExampleSection" -> {"0" -> Open}, 
    "AllOptsTable" -> Closed, "NotesSection" -> Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "HasOptions" -> 
  True, "RootCaptions" -> "", "HeaderCoreAreaLink" -> {}, 
  "Metadata" -> {
   "built" -> "{2025, 3, 3, 18, 35, 15.357855}", 
    "history" -> {"12", "14.1", "", ""}, "context" -> "QuantumMob`Q3S`", 
    "keywords" -> {"vacuum expectation value"}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> 
    "Quantum Mob/ Q3S Symbol", "language" -> "en", "paclet" -> 
    "QuantumMob/Q3S", "status" -> "None", "summary" -> 
    "VacuumExpectation[expr] returns the vacuum expectation value of expr.", 
    "synonyms" -> {}, "tabletags" -> {}, "title" -> "VacuumExpectation", 
    "titlemodifier" -> "", "metadescription" -> "", "windowtitle" -> 
    "VacuumExpectation", "type" -> "Symbol", "uri" -> 
    "QuantumMob/Q3S/ref/VacuumExpectation"}},
CellContext->"Global`",
FrontEndVersion->"14.2 for Mac OS X ARM (64-bit) (December 26, 2024)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "14.2 for Mac OS X ARM (64-bit) (December 26, 2024)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"],
ExpressionUUID->"dde1198a-eabf-4ba2-9434-74bb3ec158c6"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[11789, 313, 1438, 38, 34, "PrimaryExamplesSection",ExpressionUUID->"a2355b6d-f43e-4555-8857-e49de6317f75",
   CellTags->"PrimaryExamplesSection",
   CellID->1738743862]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 62212, 1730}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[585, 21, 6114, 153, 50, "AnchorBarGrid",ExpressionUUID->"fd7f6ec7-f776-4361-942b-135caec937f5",
 CellID->1],
Cell[6702, 176, 97, 0, 22, "ContextNameCell",ExpressionUUID->"b8e36b07-2bfe-476a-b5c1-c84d9593423f"],
Cell[CellGroupData[{
Cell[6824, 180, 1089, 28, 57, "ObjectNameGrid",ExpressionUUID->"16c2dd95-ccbc-4104-96ff-78beed39bb3c"],
Cell[7916, 210, 638, 14, 106, "Usage",ExpressionUUID->"8af184e1-3f83-4739-850f-1b14e28bfc3f"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8591, 229, 1916, 48, 34, "NotesSection",ExpressionUUID->"0aadb149-b042-4c7a-b5ba-63fce328d047",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->551700223],
Cell[10510, 279, 108, 0, 70, "Notes",ExpressionUUID->"a4df8a81-633a-472a-ac57-058a96dceb6f"],
Cell[10621, 281, 1041, 26, 70, "3ColumnTableMod",ExpressionUUID->"6aed0f13-a03f-4ff4-aa28-77adc7f9bdf0"]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[11789, 313, 1438, 38, 34, "PrimaryExamplesSection",ExpressionUUID->"a2355b6d-f43e-4555-8857-e49de6317f75",
 CellTags->"PrimaryExamplesSection",
 CellID->1738743862],
Cell[13230, 353, 206, 4, 29, "Input",ExpressionUUID->"024f336f-3a03-42dd-bc5a-9d1aa92e53dd",
 CellID->1927565408],
Cell[CellGroupData[{
Cell[13461, 361, 1415, 37, 29, "ExampleSection",ExpressionUUID->"dee95bfa-164f-433e-9ab0-bf739c677309",
 CellID->110620258],
Cell[14879, 400, 145, 1, 37, "ExampleText",ExpressionUUID->"11c85158-82c9-4684-9226-b956f0778321",
 CellID->814487388],
Cell[15027, 403, 231, 5, 28, "Input",ExpressionUUID->"9c360511-f4dd-40d3-98d7-810cd5606150",
 CellID->1028764138],
Cell[CellGroupData[{
Cell[15283, 412, 574, 13, 81, "Input",ExpressionUUID->"92e20fc4-378e-4808-8023-c18c47b71ec2",
 CellID->1048025369],
Cell[15860, 427, 346, 8, 36, "Output",ExpressionUUID->"cae99f96-3798-4db7-a4fa-54d91d6b94d6",
 CellID->707697795],
Cell[16209, 437, 2658, 69, 36, "Output",ExpressionUUID->"efee3c3b-8584-40a9-903a-b4ebf9b2c3e2",
 CellID->1512403479],
Cell[18870, 508, 127, 2, 36, "Output",ExpressionUUID->"a0be4dce-1010-4dfe-b0e2-211b017c7924",
 CellID->1348825661],
Cell[19000, 512, 126, 2, 36, "Output",ExpressionUUID->"3b324b38-c09a-4801-9ee7-9e4f5d08e536",
 CellID->875506695]
}, Open  ]],
Cell[CellGroupData[{
Cell[19163, 519, 919, 23, 98, "Input",ExpressionUUID->"54e1487c-200b-492f-8003-0eabb64047ec",
 CellID->1245538910],
Cell[20085, 544, 856, 22, 36, "Output",ExpressionUUID->"89e0bff0-935a-4b5a-851f-e9be50d79010",
 CellID->496087249],
Cell[20944, 568, 127, 2, 36, "Output",ExpressionUUID->"aa894134-bdc9-4967-bd73-166981b795e3",
 CellID->1206876289],
Cell[21074, 572, 126, 2, 36, "Output",ExpressionUUID->"071b747f-43ca-4ecd-a49b-2c453cfe14ce",
 CellID->986743308],
Cell[21203, 576, 639, 22, 36, "Output",ExpressionUUID->"d817f2df-4f31-423b-83ff-18bb3ccfe249",
 CellID->1326055422],
Cell[21845, 600, 126, 2, 36, "Output",ExpressionUUID->"cb512d7f-48b6-49d8-9efd-448f40104742",
 CellID->428188988]
}, Open  ]],
Cell[CellGroupData[{
Cell[22008, 607, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"91e5c24a-fcce-46d3-8544-4f1db0096d7a",
 CellID->130908940],
Cell[22253, 614, 172, 3, 70, "ExampleText",ExpressionUUID->"1a5a5550-fda9-4a12-b6c4-9ee9f5ad3f4f",
 CellID->2489740],
Cell[22428, 619, 223, 5, 70, "Input",ExpressionUUID->"33344226-399f-4dbf-bb7f-b9bb8c4735bb",
 CellID->1042870887],
Cell[CellGroupData[{
Cell[22676, 628, 274, 7, 70, "Input",ExpressionUUID->"a9c5426c-7045-449b-883e-465156de18df",
 CellID->1916954642],
Cell[22953, 637, 690, 19, 36, "Output",ExpressionUUID->"118d8356-4eaa-47aa-89e8-f89257e865dc",
 CellID->1213022651]
}, Open  ]],
Cell[CellGroupData[{
Cell[23680, 661, 366, 8, 70, "Input",ExpressionUUID->"17e5c413-0037-417c-a44f-73b9b175e376",
 CellID->1244370327],
Cell[24049, 671, 3153, 92, 36, "Output",ExpressionUUID->"55f0ebb7-7609-48a9-bbe1-a288fc243bc9",
 CellID->1485319708],
Cell[27205, 765, 127, 2, 36, "Output",ExpressionUUID->"d7a50c2c-9ab0-455d-8b5a-4dda45119b0b",
 CellID->1418419628]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[27381, 773, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"c63f394d-4438-412a-8bd2-1284d49508f4",
 CellID->622693905],
Cell[27626, 780, 189, 4, 70, "ExampleText",ExpressionUUID->"0aabdfa5-8aaf-4f10-b9e0-0309d0e25fd0",
 CellID->1374766908],
Cell[27818, 786, 292, 6, 70, "Input",ExpressionUUID->"60ba04f8-df3e-474b-b644-539b647128d7",
 CellID->930864683],
Cell[CellGroupData[{
Cell[28135, 796, 575, 15, 70, "Input",ExpressionUUID->"249699f5-fcd7-4986-9b44-b6ce8c09b54c",
 CellID->624358786],
Cell[28713, 813, 959, 27, 38, "Output",ExpressionUUID->"1fc06a29-8e3d-4e1a-93f3-2a81fd26ef8d",
 CellID->1493083383],
Cell[29675, 842, 126, 2, 36, "Output",ExpressionUUID->"a47cda0d-e786-48c9-b6b5-b9d95cc4e6c3",
 CellID->906002886]
}, Open  ]],
Cell[CellGroupData[{
Cell[29838, 849, 595, 16, 70, "Input",ExpressionUUID->"24dc5bd5-863c-43d9-9aae-8a762680bf00",
 CellID->1419121191],
Cell[30436, 867, 984, 26, 38, "Output",ExpressionUUID->"2420a013-ec76-4878-b422-8dabf149962c",
 CellID->1420930842],
Cell[31423, 895, 127, 2, 36, "Output",ExpressionUUID->"6abe44fa-452b-4bc4-962c-dab9453e4a1a",
 CellID->1566506854]
}, Open  ]],
Cell[CellGroupData[{
Cell[31587, 902, 649, 17, 70, "Input",ExpressionUUID->"e2bb43c0-4590-44b0-b784-98941ebcacd1",
 CellID->1630700915],
Cell[32239, 921, 3470, 85, 37, "Output",ExpressionUUID->"cc653f2b-c81c-4605-afee-0043241268dd",
 CellID->2132039604],
Cell[35712, 1008, 2549, 71, 38, "Output",ExpressionUUID->"adae625f-2f8a-4d36-9921-97d19d89ce32",
 CellID->277490586]
}, Open  ]],
Cell[38276, 1082, 209, 4, 70, "ExampleText",ExpressionUUID->"2d68a44f-3478-4b3e-82a0-9d4814b28a5a",
 CellID->606257165],
Cell[CellGroupData[{
Cell[38510, 1090, 708, 18, 70, "Input",ExpressionUUID->"bb493cc9-d8a6-4ee4-916a-393fb4517029",
 CellID->1701750787],
Cell[39221, 1110, 1605, 37, 37, "Output",ExpressionUUID->"2f0637a8-96d0-4068-ac35-fd767cd2c298",
 CellID->1553264899],
Cell[40829, 1149, 126, 2, 36, "Output",ExpressionUUID->"823825c2-f83b-47c3-a5ff-be7394b69b88",
 CellID->911944561]
}, Open  ]],
Cell[40970, 1154, 115, 1, 70, "ExampleText",ExpressionUUID->"a29ccf02-ff36-4afc-bb83-8b976c4a346d",
 CellID->1517812154],
Cell[41088, 1157, 309, 7, 70, "Input",ExpressionUUID->"c8960f3a-026d-4005-8ddc-f5ef6912753b",
 CellID->2058113212],
Cell[CellGroupData[{
Cell[41422, 1168, 560, 14, 70, "Input",ExpressionUUID->"02534c32-d8e6-4e12-b0da-13fba72fb45a",
 CellID->1189651855],
Cell[41985, 1184, 1160, 33, 38, "Output",ExpressionUUID->"4d807968-faa6-4398-b0ad-3888ce3f8e05",
 CellID->1646377443],
Cell[43148, 1219, 126, 2, 36, "Output",ExpressionUUID->"42c2920a-efb1-4e04-8ced-d6cbd217d37f",
 CellID->338892906],
Cell[43277, 1223, 126, 2, 36, "Output",ExpressionUUID->"fee00a2b-f0d7-46f6-bd58-5802d0a35ee4",
 CellID->646439298]
}, Open  ]],
Cell[CellGroupData[{
Cell[43440, 1230, 700, 19, 70, "Input",ExpressionUUID->"0cecf8e8-8a59-43f4-8c6a-3a3f66a3d699",
 CellID->512660530],
Cell[44143, 1251, 3020, 79, 38, "Output",ExpressionUUID->"3579edee-e1d4-4829-9219-ce5a3a528bd9",
 CellID->2040371474],
Cell[47166, 1332, 127, 2, 36, "Output",ExpressionUUID->"fc38a327-28a3-49c0-a65a-629efa557cc4",
 CellID->1504488222],
Cell[47296, 1336, 127, 2, 36, "Output",ExpressionUUID->"b96f5847-d7ae-40c5-97bd-c747ca0703d0",
 CellID->1461087376]
}, Open  ]],
Cell[47438, 1341, 287, 6, 70, "Input",ExpressionUUID->"8afe24c8-6fc5-4877-9fdb-6b27aec77739",
 CellID->640720002],
Cell[CellGroupData[{
Cell[47750, 1351, 978, 26, 70, "Input",ExpressionUUID->"b6edfb90-a935-4657-a7d4-184dd3ac76f1",
 CellID->1098067556],
Cell[48731, 1379, 1605, 37, 37, "Output",ExpressionUUID->"b0d8e7a4-9448-468b-94f7-20ee41a2d5dc",
 CellID->279273307],
Cell[50339, 1418, 2714, 68, 38, "Output",ExpressionUUID->"1387f88b-ea87-409d-9416-03d67cde0f0c",
 CellID->1494702054],
Cell[53056, 1488, 2707, 68, 38, "Output",ExpressionUUID->"ccbc8cfa-19c3-488b-b120-cfe1b0378bd4",
 CellID->193718972]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[56017, 1566, 1401, 37, 70, "SeeAlsoSection",ExpressionUUID->"074396ba-37f5-4697-ab43-da4e1ee3e2ff"],
Cell[57421, 1605, 783, 20, 70, "TutorialsSection",ExpressionUUID->"13ae7f93-9425-46cb-adf0-5611841d546a"],
Cell[58207, 1627, 765, 19, 70, "MoreAboutSection",ExpressionUUID->"ef2b45f4-62de-444a-9a53-aa714c0b5517"],
Cell[58975, 1648, 1166, 34, 70, "RelatedLinksSection",ExpressionUUID->"c9303fab-8620-49ae-83cf-c70ce526ba2e"],
Cell[60144, 1684, 78, 0, 70, "FooterCell",ExpressionUUID->"93cec7e2-9fa2-408e-9929-a4e398b18be3"]
}
]
*)

(* End of internal cache information *)

